<!DOCTYPE html>
<html lang="az">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daƒü Turizmi | Az…ôrbaycan</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Montserrat:wght@300;400;500;600&display=swap" rel="stylesheet">
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="logo">
            <span class="logo-icon">‚õ∞Ô∏è</span>
            <span class="logo-text">DaƒüTur</span>
        </div>
        <ul class="nav-links">
            <li><a href="#home" data-lang-key="nav_home">Ana S…ôhif…ô</a></li>
            <li><a href="#map" data-lang-key="nav_map">X…ôrit…ô</a></li>
            <li><a href="#mountains" data-lang-key="nav_mountains">Daƒülar</a></li>
            <li><a href="#tours" data-lang-key="nav_tours">Turlar</a></li>
            <li><a href="#hotels" data-lang-key="nav_hotels">Otell…ôr</a></li>
            <li><a href="#contact" data-lang-key="nav_contact">∆èlaq…ô</a></li>
        </ul>
        
        <!-- Search Bar -->
        <div class="nav-search">
            <button class="search-toggle" id="searchToggle" onclick="toggleSearch()">
                <span>üîç</span>
            </button>
            <div class="search-box" id="searchBox">
                <input type="text" id="searchInput" data-lang-placeholder="search_placeholder" placeholder="Daƒü, tur, otel axtar..." onkeyup="handleSearch(event)">
                <button onclick="performSearch()" class="search-btn">üîç</button>
                <div class="search-results" id="searchResults"></div>
            </div>
        </div>
        
        <!-- Language Selector -->
        <div class="lang-selector">
            <button class="lang-btn" id="langBtn">
                <span class="lang-flag">üá¶üáø</span>
                <span class="lang-code">AZ</span>
                <span class="lang-arrow">‚ñº</span>
            </button>
            <div class="lang-dropdown" id="langDropdown">
                <button class="lang-option active" data-lang="az">
                    <span class="lang-flag">üá¶üáø</span>
                    <span>Az…ôrbaycan</span>
                </button>
                <button class="lang-option" data-lang="en">
                    <span class="lang-flag">üá¨üáß</span>
                    <span>English</span>
                </button>
                <button class="lang-option" data-lang="ru">
                    <span class="lang-flag">üá∑üá∫</span>
                    <span>–†—É—Å—Å–∫–∏–π</span>
                </button>
                <button class="lang-option" data-lang="tr">
                    <span class="lang-flag">üáπüá∑</span>
                    <span>T√ºrk√ße</span>
                </button>
            </div>
        </div>
        
        <div class="nav-auth">
            <!-- Not logged in -->
            <div class="auth-buttons" id="authButtons">
                <a href="auth.html" class="nav-btn-outline">üîë Giri≈ü</a>
                <a href="#tours" class="nav-btn">üéø Tura Qo≈üul</a>
            </div>
            <!-- Logged in -->
            <div class="user-menu" id="userMenu" style="display: none;">
                <button class="user-btn" id="userBtn">
                    <span class="user-avatar">üë§</span>
                    <span class="user-name" id="userName">ƒ∞stifad…ô√ßi</span>
                    <span class="user-arrow">‚ñº</span>
                </button>
                <div class="user-dropdown" id="userDropdown">
                    <a href="profile.html" class="dropdown-item">üë§ Profilim</a>
                    <a href="#" class="dropdown-item">üìã Sifari≈ül…ôrim</a>
                    <a href="favorites.html" class="dropdown-item">‚ù§Ô∏è Sevimlil…ôr <span class="fav-count" id="favCount">0</span></a>
                    <div class="dropdown-divider"></div>
                    <button class="dropdown-item logout" id="logoutBtn">üö™ √áƒ±xƒ±≈ü</button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section id="home" class="hero">
        <div class="hero-background">
            <div class="hero-img"></div>
            <div class="hero-overlay"></div>
            <div class="clouds-container">
                <div class="cloud cloud-1"></div>
                <div class="cloud cloud-2"></div>
                <div class="cloud cloud-3"></div>
                <div class="cloud cloud-4"></div>
                <div class="cloud cloud-5"></div>
            </div>
        </div>
        
        <div class="hero-content">
            <span class="hero-subtitle" data-lang-key="hero_subtitle">Az…ôrbaycanƒ±n Zirv…ôl…ôrini K…ô≈üf Et</span>
            <h1 class="hero-title" data-lang-key="hero_title">Daƒü Turizmi</h1>
            <p class="hero-description" data-lang-key="hero_desc">
                Qafqaz daƒülarƒ±nƒ±n …ôz…ôm…ôtli zirv…ôl…ôrind…ôn Talƒ±≈ü daƒülarƒ±nƒ±n ya≈üƒ±l yamaclarƒ±na q…ôd…ôr 
                ‚Äî Az…ôrbaycanƒ±n …ôn g√∂z…ôl daƒü m…ônz…ôr…ôl…ôrini biziml…ô k…ô≈üf edin.
            </p>
            <div class="hero-stats">
                <div class="stat">
                    <span class="stat-number">4466m</span>
                    <span class="stat-label">Bazard√ºz√º</span>
                </div>
                <div class="stat">
                    <span class="stat-number">50+</span>
                    <span class="stat-label">Mar≈ürut</span>
                </div>
                <div class="stat">
                    <span class="stat-number">1000+</span>
                    <span class="stat-label">Turist</span>
                </div>
            </div>
            <div class="hero-buttons">
                <a href="#map" class="btn btn-primary" data-lang-key="hero_btn_map">X…ôrit…ôy…ô Bax</a>
                <a href="#mountains" class="btn btn-secondary" data-lang-key="hero_btn_mountains">Daƒülar</a>
            </div>
        </div>
        
        <div class="scroll-down">
            <span data-lang-key="scroll_down">A≈üaƒüƒ±</span>
            <div class="scroll-arrow"></div>
        </div>
    </section>

    <!-- Map Section -->
    <section id="map" class="map-section">
        <!-- Background like Hero -->
        <div class="map-bg">
            <div class="map-img"></div>
            <div class="map-overlay"></div>
            <div class="map-clouds-container">
                <div class="cloud cloud-m1"></div>
                <div class="cloud cloud-m2"></div>
                <div class="cloud cloud-m3"></div>
                <div class="cloud cloud-m4"></div>
                <div class="cloud cloud-m5"></div>
            </div>
        </div>
        
        <div class="section-header" style="position: relative; z-index: 2;">
            <span class="section-tag" data-lang-key="map_tag">ƒ∞nteraktiv X…ôrit…ô</span>
            <h2 class="section-title" style="color: white; text-shadow: 2px 2px 10px rgba(0,0,0,0.3);" data-lang-key="map_title">Daƒülarƒ± K…ô≈üf Et</h2>
            <p class="section-desc" style="color: rgba(255,255,255,0.9);" data-lang-key="map_desc">Qƒ±rmƒ±zƒ± n√∂qt…ôl…ôr…ô basaraq daƒülar haqqƒ±nda m…ôlumat alƒ±n</p>
        </div>
        
        <div class="map-wrapper" style="position: relative; z-index: 2;">
            <div class="location-bar" id="locationBar">
                <span class="loc-icon">üìç</span>
                <span class="loc-text" id="locText">M…ôkanƒ±nƒ±z axtarƒ±lƒ±r...</span>
            </div>
            
            <!-- Map Controls -->
            <div class="map-controls">
                <button class="map-ctrl active" data-layer="satellite">üõ∞Ô∏è Peyk</button>
                <button class="map-ctrl" data-layer="terrain">üèîÔ∏è Relyef</button>
                <button class="map-ctrl" data-layer="hybrid">üó∫Ô∏è Hibrid</button>
            </div>
            
            <!-- Leaflet Map Container -->
            <div class="map-box">
                <div id="leafletMap"></div>
            </div>
            
            <div class="map-legend">
                <div class="legend-item">
                    <span class="legend-dot red"></span>
                    <span>Daƒü zirv…ôl…ôri</span>
                </div>
                <div class="legend-item">
                    <span class="legend-dot purple"></span>
                    <span>UNESCO</span>
                </div>
                <div class="legend-item">
                    <span class="legend-dot green"></span>
                    <span>Milli Park</span>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Modal -->
    <div class="modal" id="modal">
        <div class="modal-box">
            <button class="modal-x" id="modalX">&times;</button>
            <div class="modal-img" id="modalImg"></div>
            <div class="modal-info">
                <h2 id="modalName">Daƒü</h2>
                
                <!-- Rating -->
                <div class="modal-rating">
                    <div class="stars" id="modalStars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
                    <span class="rating-num" id="modalRating">4.5</span>
                    <span class="review-count">(<span id="modalReviews">0</span> r…ôy)</span>
                </div>
                
                <div class="modal-stats">
                    <div class="m-stat">
                        <span class="m-val" id="modalAlt">0m</span>
                        <span class="m-label">H√ºnd√ºrl√ºk</span>
                    </div>
                    <div class="m-stat">
                        <span class="m-val" id="modalDist">--</span>
                        <span class="m-label">Uzaqlƒ±q</span>
                    </div>
                    <div class="m-stat">
                        <span class="m-val" id="modalDiff">Orta</span>
                        <span class="m-label">√á…ôtinlik</span>
                    </div>
                </div>
                <p class="modal-desc" id="modalDesc">M…ôlumat...</p>
                <div class="modal-tags" id="modalTags"></div>
                
                <!-- Nearby Places -->
                <div class="modal-places">
                    <h4>üéØ Yaxƒ±nlƒ±qdakƒ± yerl…ôr</h4>
                    <div class="places-list" id="modalPlaces"></div>
                </div>
                
                <div class="modal-btns">
                    <a href="#" class="btn btn-primary" id="modalDetail">∆ètraflƒ± M…ôlumat</a>
                    <button class="btn btn-directions" id="modalMap">üìç Yol Tarifi</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Scroll to Top Button -->
    <button class="scroll-top" id="scrollTop">
        <span>‚Üë</span>
    </button>

    <!-- Mountains Section -->
    <section id="mountains" class="mountains-section">
        <div class="section-header">
            <span class="section-tag" data-lang-key="mountains_tag">∆èz…ôm…ôtli Zirv…ôl…ôr</span>
            <h2 class="section-title" data-lang-key="mountains_title">Az…ôrbaycanƒ±n Daƒülarƒ±</h2>
        </div>
        
        <div class="cards-grid">
            <div class="card" data-mountain="bazarduzu">
                <button class="fav-btn" onclick="toggleFav(event, 'bazarduzu')" title="Sevimlil…ôr…ô …ôlav…ô et">‚ô°</button>
                <div class="card-img" style="background-image:url('https://images.unsplash.com/photo-1519681393784-d120267933ba?q=80&w=2070')" onclick="openModal('bazarduzu')"></div>
                <div class="card-body" onclick="openModal('bazarduzu')">
                    <h3>Bazard√ºz√º</h3>
                    <span class="card-alt">4466 m</span>
                    <p>Az…ôrbaycanƒ±n …ôn h√ºnd√ºr zirv…ôsi</p>
                    <div class="card-tags">
                        <span>Alpinizm</span>
                        <span>√á…ôtin</span>
                    </div>
                </div>
            </div>
            
            <div class="card" data-mountain="shahdag">
                <button class="fav-btn" onclick="toggleFav(event, 'shahdag')" title="Sevimlil…ôr…ô …ôlav…ô et">‚ô°</button>
                <div class="card-img" style="background-image:url('https://images.unsplash.com/photo-1491002052546-bf38f186af56?q=80&w=2083')" onclick="openModal('shahdag')"></div>
                <div class="card-body" onclick="openModal('shahdag')">
                    <h3>≈ûahdaƒü</h3>
                    <span class="card-alt">4243 m</span>
                    <p>Qƒ±≈ü idman kurortu</p>
                    <div class="card-tags">
                        <span>Xiz…ôk</span>
                        <span>Kurort</span>
                    </div>
                </div>
            </div>
            
            <div class="card" data-mountain="tufandag">
                <button class="fav-btn" onclick="toggleFav(event, 'tufandag')" title="Sevimlil…ôr…ô …ôlav…ô et">‚ô°</button>
                <div class="card-img" style="background-image:url('https://images.unsplash.com/photo-1454496522488-7a8e488e8606?q=80&w=2076')" onclick="openModal('tufandag')"></div>
                <div class="card-body" onclick="openModal('tufandag')">
                    <h3>Tufandaƒü</h3>
                    <span class="card-alt">4191 m</span>
                    <p>Ail…ô kurortu, kanat yolu</p>
                    <div class="card-tags">
                        <span>Ail…ôvi</span>
                        <span>Asan</span>
                    </div>
                </div>
            </div>
            
            <div class="card" data-mountain="babadag">
                <button class="fav-btn" onclick="toggleFav(event, 'babadag')" title="Sevimlil…ôr…ô …ôlav…ô et">‚ô°</button>
                <div class="card-img" style="background-image:url('https://images.unsplash.com/photo-1506905925346-21bda4d32df4?q=80&w=2070')" onclick="openModal('babadag')"></div>
                <div class="card-body" onclick="openModal('babadag')">
                    <h3>Babadaƒü</h3>
                    <span class="card-alt">3629 m</span>
                    <p>M√ºq…ôdd…ôs ziyar…ôtgah</p>
                    <div class="card-tags">
                        <span>Ziyar…ôt</span>
                        <span>Orta</span>
                    </div>
                </div>
            </div>
            
            <div class="card" data-mountain="xinaliq">
                <button class="fav-btn" onclick="toggleFav(event, 'xinaliq')" title="Sevimlil…ôr…ô …ôlav…ô et">‚ô°</button>
                <div class="card-img" style="background-image:url('https://images.unsplash.com/photo-1464822759023-fed622ff2c3b?q=80&w=2070')" onclick="openModal('xinaliq')"></div>
                <div class="card-body" onclick="openModal('xinaliq')">
                    <h3>Xƒ±nalƒ±q</h3>
                    <span class="card-alt">2350 m</span>
                    <p>D√ºnyanƒ±n …ôn q…ôdim k…ôndi</p>
                    <div class="card-tags">
                        <span>Tarix</span>
                        <span>M…ôd…ôniyy…ôt</span>
                    </div>
                </div>
            </div>
            
            <div class="card" data-mountain="lahic">
                <button class="fav-btn" onclick="toggleFav(event, 'lahic')" title="Sevimlil…ôr…ô …ôlav…ô et">‚ô°</button>
                <div class="card-img" style="background-image:url('https://images.unsplash.com/photo-1483728642387-6c3bdd6c93e5?q=80&w=2076')" onclick="openModal('lahic')"></div>
                <div class="card-body" onclick="openModal('lahic')">
                    <h3>Lahƒ±c</h3>
                    <span class="card-alt">1200 m</span>
                    <p>Mis s…ôn…ôtkarlƒ±ƒüƒ± m…ôrk…ôzi</p>
                    <div class="card-tags">
                        <span>S…ôn…ôt</span>
                        <span>UNESCO</span>
                    </div>
                </div>
            </div>
            
            <div class="card" data-mountain="kapaz">
                <button class="fav-btn" onclick="toggleFav(event, 'kapaz')" title="Sevimlil…ôr…ô …ôlav…ô et">‚ô°</button>
                <div class="card-img" style="background-image:url('https://images.unsplash.com/photo-1486870591958-9b9d0d1dda99?q=80&w=2070')" onclick="openModal('kapaz')"></div>
                <div class="card-body" onclick="openModal('kapaz')">
                    <h3>K…ôp…ôz</h3>
                    <span class="card-alt">3066 m</span>
                    <p>G√∂yg√∂l m…ônz…ôr…ôsi</p>
                    <div class="card-tags">
                        <span>G√∂l</span>
                        <span>Trekking</span>
                    </div>
                </div>
            </div>
            
            <div class="card" data-mountain="murovdag">
                <button class="fav-btn" onclick="toggleFav(event, 'murovdag')" title="Sevimlil…ôr…ô …ôlav…ô et">‚ô°</button>
                <div class="card-img" style="background-image:url('https://images.unsplash.com/photo-1464278533981-50106e6176b1?q=80&w=2074')" onclick="openModal('murovdag')"></div>
                <div class="card-body" onclick="openModal('murovdag')">
                    <h3>Murovdaƒü</h3>
                    <span class="card-alt">3724 m</span>
                    <p>Ki√ßik Qafqazƒ±n zirv…ôsi</p>
                    <div class="card-tags">
                        <span>Alpinizm</span>
                        <span>√á…ôtin</span>
                    </div>
                </div>
            </div>
            
            <div class="card" data-mountain="gobustan">
                <button class="fav-btn" onclick="toggleFav(event, 'gobustan')" title="Sevimlil…ôr…ô …ôlav…ô et">‚ô°</button>
                <div class="card-img" style="background-image:url('https://images.unsplash.com/photo-1469474968028-56623f02e42e?q=80&w=2074')" onclick="openModal('gobustan')"></div>
                <div class="card-body" onclick="openModal('gobustan')">
                    <h3>Qobustan</h3>
                    <span class="card-alt">400 m</span>
                    <p>UNESCO D√ºnya ƒ∞rsi</p>
                    <div class="card-tags">
                        <span>Petroqlif</span>
                        <span>Vulkan</span>
                    </div>
                </div>
            </div>
            
            <div class="card" data-mountain="talysh">
                <button class="fav-btn" onclick="toggleFav(event, 'talysh')" title="Sevimlil…ôr…ô …ôlav…ô et">‚ô°</button>
                <div class="card-img" style="background-image:url('https://images.unsplash.com/photo-1448375240586-882707db888b?q=80&w=2070')" onclick="openModal('talysh')"></div>
                <div class="card-body" onclick="openModal('talysh')">
                    <h3>Talƒ±≈ü Daƒülarƒ±</h3>
                    <span class="card-alt">2477 m</span>
                    <p>Hirkan me≈ü…ôl…ôri</p>
                    <div class="card-tags">
                        <span>Me≈ü…ô</span>
                        <span>Ekoturizm</span>
                    </div>
                </div>
            </div>
            
            <div class="card" data-mountain="beshbarmag">
                <button class="fav-btn" onclick="toggleFav(event, 'beshbarmag')" title="Sevimlil…ôr…ô …ôlav…ô et">‚ô°</button>
                <div class="card-img" style="background-image:url('https://images.unsplash.com/photo-1464822759023-fed622ff2c3b?q=80&w=2070')" onclick="openModal('beshbarmag')"></div>
                <div class="card-body" onclick="openModal('beshbarmag')">
                    <h3>Be≈übarmaq</h3>
                    <span class="card-alt">520 m</span>
                    <p>ƒ∞konik ziyar…ôtgah</p>
                    <div class="card-tags">
                        <span>Ziyar…ôt</span>
                        <span>Asan</span>
                    </div>
                </div>
            </div>
            
            <div class="card" data-mountain="mudafidag">
                <button class="fav-btn" onclick="toggleFav(event, 'mudafidag')" title="Sevimlil…ôr…ô …ôlav…ô et">‚ô°</button>
                <div class="card-img" style="background-image:url('https://images.unsplash.com/photo-1519681393784-d120267933ba?q=80&w=2070')" onclick="openModal('mudafidag')"></div>
                <div class="card-body" onclick="openModal('mudafidag')">
                    <h3>M√ºdafi…ô Daƒüƒ±</h3>
                    <span class="card-alt">3888 m</span>
                    <p>ƒ∞smayƒ±llƒ± zirv…ôsi</p>
                    <div class="card-tags">
                        <span>Trekking</span>
                        <span>√á…ôtin</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Tours Section -->
    <section id="tours" class="tours-section">
        <!-- Background like Hero -->
        <div class="tours-bg">
            <div class="tours-img"></div>
            <div class="tours-overlay"></div>
            <div class="tours-clouds-container">
                <div class="cloud cloud-t1"></div>
                <div class="cloud cloud-t2"></div>
                <div class="cloud cloud-t3"></div>
            </div>
        </div>
        
        <div class="section-header light" style="position: relative; z-index: 2;">
            <span class="section-tag" data-lang-key="tours_tag">Mac…ôra S…ôni G√∂zl…ôyir</span>
            <h2 class="section-title" data-lang-key="tours_title">Populyar Turlar</h2>
            <p class="section-desc" style="color: rgba(255,255,255,0.9);" data-lang-key="tours_desc">H…ôyatƒ±nƒ±zƒ±n mac…ôrasƒ±na qo≈üulun</p>
        </div>
        
        <div class="tours-grid" style="position: relative; z-index: 2;">
            <div class="tour-card featured" data-tour="bazarduzu" data-price="1200">
                <div class="tour-badge">∆èn Populyar</div>
                <div class="tour-icon">üèîÔ∏è</div>
                <h3>Bazard√ºz√º Ekspedisiyasƒ±</h3>
                <p>7 g√ºnl√ºk alpinizm turu</p>
                <ul>
                    <li>‚úì Professional b…ôl…ôd√ßi</li>
                    <li>‚úì Avadanlƒ±q</li>
                    <li>‚úì Qidalanma</li>
                    <li>‚úì Sƒ±ƒüorta</li>
                </ul>
                <div class="tour-dates">
                    <span>üìÖ N√∂vb…ôti tur: 15 ƒ∞yun 2025</span>
                </div>
                <div class="tour-foot">
                    <span class="tour-price">‚Çº1200</span>
                    <button class="tour-btn" onclick="openTourBooking('bazarduzu', 'Bazard√ºz√º Ekspedisiyasƒ±', 1200)">Qo≈üul</button>
                </div>
            </div>
            
            <div class="tour-card" data-tour="shahdag" data-price="450">
                <div class="tour-icon">‚õ∑Ô∏è</div>
                <h3>≈ûahdaƒü Qƒ±≈ü Turu</h3>
                <p>3 g√ºnl√ºk xiz…ôk h…ôy…ôcanƒ±</p>
                <ul>
                    <li>‚úì Lift bileti</li>
                    <li>‚úì 5‚òÖ Otel</li>
                    <li>‚úì Transfer</li>
                    <li>‚úì Instruktor</li>
                </ul>
                <div class="tour-dates">
                    <span>üìÖ H…ôr h…ôft…ô sonu</span>
                </div>
                <div class="tour-foot">
                    <span class="tour-price">‚Çº450</span>
                    <button class="tour-btn" onclick="openTourBooking('shahdag', '≈ûahdaƒü Qƒ±≈ü Turu', 450)">Qo≈üul</button>
                </div>
            </div>
            
            <div class="tour-card" data-tour="xinaliq" data-price="350">
                <div class="tour-icon">ü•æ</div>
                <h3>Xƒ±nalƒ±q Trekkinqi</h3>
                <p>3 g√ºnl√ºk k…ônd mac…ôrasƒ±</p>
                <ul>
                    <li>‚úì Ev qonaƒüƒ±</li>
                    <li>‚úì M…ôd…ôni tur</li>
                    <li>‚úì Milli yem…ôk</li>
                    <li>‚úì Fotoqraf</li>
                </ul>
                <div class="tour-dates">
                    <span>üìÖ H…ôr ay 1-3</span>
                </div>
                <div class="tour-foot">
                    <span class="tour-price">‚Çº350</span>
                    <button class="tour-btn" onclick="openTourBooking('xinaliq', 'Xƒ±nalƒ±q Trekkinqi', 350)">Qo≈üul</button>
                </div>
            </div>
            
            <div class="tour-card" data-tour="gabala" data-price="280">
                <div class="tour-icon">üå≤</div>
                <h3>Q…ôb…ôl…ô Ail…ôvi Tur</h3>
                <p>2 g√ºnl√ºk ail…ô istirah…ôti</p>
                <ul>
                    <li>‚úì Tufandaƒü bileti</li>
                    <li>‚úì 4‚òÖ Otel</li>
                    <li>‚úì Zipline</li>
                    <li>‚úì At g…ôzintisi</li>
                </ul>
                <div class="tour-dates">
                    <span>üìÖ H…ôr g√ºn m√∂vcud</span>
                </div>
                <div class="tour-foot">
                    <span class="tour-price">‚Çº280</span>
                    <button class="tour-btn" onclick="openTourBooking('gabala', 'Q…ôb…ôl…ô Ail…ôvi Tur', 280)">Qo≈üul</button>
                </div>
            </div>
        </div>
    </section>

    <!-- Hotel Reservation Section -->
    <section id="hotels" class="hotels-section">
        <!-- Background -->
        <div class="hotels-bg">
            <div class="hotels-img"></div>
            <div class="hotels-overlay"></div>
            <div class="hotels-clouds-container">
                <div class="cloud cloud-h1"></div>
                <div class="cloud cloud-h2"></div>
            </div>
        </div>
        
        <div class="section-header" style="position: relative; z-index: 2;">
            <span class="section-tag" data-lang-key="hotels_tag">Rahat ƒ∞stirah…ôt</span>
            <h2 class="section-title" style="color: white; text-shadow: 2px 2px 10px rgba(0,0,0,0.3);" data-lang-key="hotels_title">Otell…ôr & Rezervasiya</h2>
            <p class="section-desc" style="color: rgba(255,255,255,0.9);" data-lang-key="hotels_desc">Daƒü kurortlarƒ±nda l√ºks qalma imkanlarƒ±</p>
        </div>
        
        <div class="hotels-grid" style="position: relative; z-index: 2;">
            <div class="hotel-card" data-hotel="shahdag-resort">
                <div class="hotel-img" style="background-image: url('https://images.unsplash.com/photo-1566073771259-6a8506099945?q=80&w=2070')">
                    <div class="hotel-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
                    <div class="hotel-badge">Premium</div>
                </div>
                <div class="hotel-body">
                    <h3>≈ûahdaƒü Resort</h3>
                    <p class="hotel-location">üìç ≈ûahdaƒü, Qusar</p>
                    <div class="hotel-amenities">
                        <span>üèä Hovuz</span>
                        <span>üçΩÔ∏è Restoran</span>
                        <span>üíÜ SPA</span>
                        <span>üéø Ski-in</span>
                    </div>
                    <div class="hotel-price-row">
                        <div class="hotel-price">
                            <span class="price-from">‚Çº250</span>
                            <span class="price-night">/ gec…ô</span>
                        </div>
                        <button class="hotel-btn" onclick="openHotelBooking('shahdag-resort', '≈ûahdaƒü Resort', 250, 5)">Rezerv Et</button>
                    </div>
                </div>
            </div>
            
            <div class="hotel-card" data-hotel="tufandag-resort">
                <div class="hotel-img" style="background-image: url('https://images.unsplash.com/photo-1551882547-ff40c63fe5fa?q=80&w=2070')">
                    <div class="hotel-stars">‚òÖ‚òÖ‚òÖ‚òÖ</div>
                </div>
                <div class="hotel-body">
                    <h3>Tufandaƒü Mountain Resort</h3>
                    <p class="hotel-location">üìç Q…ôb…ôl…ô</p>
                    <div class="hotel-amenities">
                        <span>üö° Kanat yolu</span>
                        <span>üçΩÔ∏è Restoran</span>
                        <span>üèãÔ∏è Fitness</span>
                    </div>
                    <div class="hotel-price-row">
                        <div class="hotel-price">
                            <span class="price-from">‚Çº180</span>
                            <span class="price-night">/ gec…ô</span>
                        </div>
                        <button class="hotel-btn" onclick="openHotelBooking('tufandag-resort', 'Tufandaƒü Mountain Resort', 180, 4)">Rezerv Et</button>
                    </div>
                </div>
            </div>
            
            <div class="hotel-card" data-hotel="quba-palace">
                <div class="hotel-img" style="background-image: url('https://images.unsplash.com/photo-1520250497591-112f2f40a3f4?q=80&w=2070')">
                    <div class="hotel-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
                    <div class="hotel-badge">Yeni</div>
                </div>
                <div class="hotel-body">
                    <h3>Quba Palace Hotel</h3>
                    <p class="hotel-location">üìç Quba</p>
                    <div class="hotel-amenities">
                        <span>üèä Hovuz</span>
                        <span>üçΩÔ∏è 3 Restoran</span>
                        <span>üíÜ SPA</span>
                        <span>üé∞ Kazino</span>
                    </div>
                    <div class="hotel-price-row">
                        <div class="hotel-price">
                            <span class="price-from">‚Çº320</span>
                            <span class="price-night">/ gec…ô</span>
                        </div>
                        <button class="hotel-btn" onclick="openHotelBooking('quba-palace', 'Quba Palace Hotel', 320, 5)">Rezerv Et</button>
                    </div>
                </div>
            </div>
            
            <div class="hotel-card" data-hotel="xinaliq-guesthouse">
                <div class="hotel-img" style="background-image: url('https://images.unsplash.com/photo-1587061949409-02df41d5e562?q=80&w=2070')">
                    <div class="hotel-stars">‚òÖ‚òÖ‚òÖ</div>
                    <div class="hotel-badge">Avtentik</div>
                </div>
                <div class="hotel-body">
                    <h3>Xƒ±nalƒ±q Ev Qonaƒüƒ±</h3>
                    <p class="hotel-location">üìç Xƒ±nalƒ±q K…ôndi</p>
                    <div class="hotel-amenities">
                        <span>üçΩÔ∏è Milli yem…ôk</span>
                        <span>‚òï S…ôh…ôr yem…ôyi</span>
                        <span>üèîÔ∏è M…ônz…ôr…ô</span>
                    </div>
                    <div class="hotel-price-row">
                        <div class="hotel-price">
                            <span class="price-from">‚Çº80</span>
                            <span class="price-night">/ gec…ô</span>
                        </div>
                        <button class="hotel-btn" onclick="openHotelBooking('xinaliq-guesthouse', 'Xƒ±nalƒ±q Ev Qonaƒüƒ±', 80, 3)">Rezerv Et</button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact -->
    <section id="contact" class="contact-section">
        <!-- Background -->
        <div class="contact-bg">
            <div class="contact-img"></div>
            <div class="contact-overlay"></div>
            <div class="contact-clouds-container">
                <div class="cloud cloud-c1"></div>
                <div class="cloud cloud-c2"></div>
            </div>
        </div>
        
        <div class="contact-container" style="position: relative; z-index: 2;">
            <div class="contact-header">
                <span class="section-tag" data-lang-key="contact_tag">Biziml…ô ∆èlaq…ô</span>
                <h2 class="section-title" style="color: white;" data-lang-key="contact_title">Sualƒ±nƒ±z Var?</h2>
                <p style="color: rgba(255,255,255,0.9);" data-lang-key="contact_desc">7/24 sizin xidm…ôtinizd…ôyik</p>
            </div>
            
            <div class="contact-grid">
                <div class="contact-info-cards">
                    <div class="contact-card">
                        <div class="contact-icon">üìç</div>
                        <h4>√únvan</h4>
                        <p>Bakƒ± ≈ü…ôh…ôri, Nizami k√º√ß…ôsi 45</p>
                        <a href="https://maps.google.com" target="_blank" class="contact-link">X…ôrit…ôd…ô Bax ‚Üí</a>
                    </div>
                    
                    <div class="contact-card">
                        <div class="contact-icon">üìû</div>
                        <h4>Telefon</h4>
                        <p>+994 12 345 67 89</p>
                        <p>+994 50 123 45 67</p>
                        <a href="tel:+994123456789" class="contact-link">Z…ông Et ‚Üí</a>
                    </div>
                    
                    <div class="contact-card">
                        <div class="contact-icon">‚úâÔ∏è</div>
                        <h4>E-po√ßt</h4>
                        <p>info@dagtur.az</p>
                        <p>booking@dagtur.az</p>
                        <a href="mailto:info@dagtur.az" class="contact-link">E-po√ßt G√∂nd…ôr ‚Üí</a>
                    </div>
                    
                    <div class="contact-card">
                        <div class="contact-icon">üïê</div>
                        <h4 data-lang-key="contact_hours">ƒ∞≈ü Saatlarƒ±</h4>
                        <p data-lang-key="contact_247">7/24 A√ßƒ±qdƒ±r</p>
                        <p data-lang-key="contact_always">H…ômi≈ü…ô sizin xidm…ôtinizd…ô</p>
                        <span class="work-status open">‚óè 7/24</span>
                    </div>
                </div>
                
                <form class="contact-form-new" onsubmit="submitContact(event)">
                    <h3>Mesaj G√∂nd…ôr</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Ad Soyad</label>
                            <input type="text" id="contactName" placeholder="Adƒ±nƒ±z Soyadƒ±nƒ±z" required>
                        </div>
                        <div class="form-group">
                            <label>Telefon</label>
                            <input type="tel" id="contactPhone" placeholder="+994 XX XXX XX XX" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>E-po√ßt</label>
                        <input type="email" id="contactEmail" placeholder="email@example.com" required>
                    </div>
                    <div class="form-group">
                        <label>M√∂vzu</label>
                        <select id="contactSubject" required>
                            <option value="">M√∂vzu se√ßin</option>
                            <option value="tour">Tur haqqƒ±nda sual</option>
                            <option value="hotel">Otel rezervasiyasƒ±</option>
                            <option value="group">Qrup turlarƒ±</option>
                            <option value="corporate">Korporativ turlar</option>
                            <option value="other">Dig…ôr</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Mesajƒ±nƒ±z</label>
                        <textarea id="contactMessage" placeholder="Sualƒ±nƒ±zƒ± v…ô ya mesajƒ±nƒ±zƒ± yazƒ±n..." rows="4" required></textarea>
                    </div>
                    <button type="submit" class="submit-btn-new">
                        <span>G√∂nd…ôr</span>
                        <span class="btn-icon">‚Üí</span>
                    </button>
                </form>
            </div>
            
            <div class="social-links">
                <a href="#" class="social-link" title="Instagram">üì∑</a>
                <a href="#" class="social-link" title="Facebook">üë§</a>
                <a href="#" class="social-link" title="WhatsApp">üí¨</a>
                <a href="#" class="social-link" title="YouTube">‚ñ∂Ô∏è</a>
            </div>
        </div>
    </section>
    
    <!-- Tour Booking Modal -->
    <div class="booking-modal" id="tourModal">
        <div class="booking-box">
            <button class="booking-close" onclick="closeTourModal()">&times;</button>
            <div class="booking-header">
                <h2 id="tourModalTitle">Tura Qo≈üul</h2>
                <p id="tourModalDesc">Rezervasiya formasƒ±nƒ± doldurun</p>
            </div>
            
            <form class="booking-form" onsubmit="submitTourBooking(event)">
                <input type="hidden" id="tourId">
                <input type="hidden" id="tourPrice">
                
                <div class="booking-section">
                    <h4>üë§ ≈û…ôxsi M…ôlumatlar</h4>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Ad Soyad *</label>
                            <input type="text" id="tourName" required>
                        </div>
                        <div class="form-group">
                            <label>Telefon *</label>
                            <input type="tel" id="tourPhone" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>E-po√ßt *</label>
                        <input type="email" id="tourEmail" required>
                    </div>
                </div>
                
                <div class="booking-section">
                    <h4>üìÖ Tur Detallarƒ±</h4>
                    <div class="form-row">
                        <div class="form-group">
                            <label>N…ôf…ôr Sayƒ± *</label>
                            <select id="tourPeople" onchange="updateTourTotal()" required>
                                <option value="1">1 n…ôf…ôr</option>
                                <option value="2">2 n…ôf…ôr</option>
                                <option value="3">3 n…ôf…ôr</option>
                                <option value="4">4 n…ôf…ôr</option>
                                <option value="5">5 n…ôf…ôr</option>
                                <option value="6">6+ n…ôf…ôr (qrup)</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Tarix *</label>
                            <input type="date" id="tourDate" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Qeydl…ôr</label>
                        <textarea id="tourNotes" rows="2" placeholder="X√ºsusi ist…ôkl…ôr..."></textarea>
                    </div>
                </div>
                
                <div class="booking-section">
                    <h4>üí≥ √ñd…ôni≈ü</h4>
                    <div class="payment-options">
                        <label class="payment-option">
                            <input type="radio" name="tourPayment" value="card" checked onchange="togglePaymentForm('tour')">
                            <span class="option-box">
                                <span class="option-icon">üí≥</span>
                                <span>Kart il…ô</span>
                            </span>
                        </label>
                        <label class="payment-option">
                            <input type="radio" name="tourPayment" value="cash" onchange="togglePaymentForm('tour')">
                            <span class="option-box">
                                <span class="option-icon">üíµ</span>
                                <span>Naƒüd</span>
                            </span>
                        </label>
                        <label class="payment-option">
                            <input type="radio" name="tourPayment" value="transfer" onchange="togglePaymentForm('tour')">
                            <span class="option-box">
                                <span class="option-icon">üè¶</span>
                                <span>K√∂√ß√ºrm…ô</span>
                            </span>
                        </label>
                    </div>
                    
                    <div class="card-form" id="tourCardForm">
                        <div class="form-group">
                            <label>Kart N√∂mr…ôsi</label>
                            <input type="text" id="tourCardNumber" placeholder="0000 0000 0000 0000" maxlength="19" oninput="formatCardNumber(this)">
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label>Bitm…ô Tarixi</label>
                                <input type="text" id="tourCardExpiry" placeholder="MM/YY" maxlength="5" oninput="formatExpiry(this)">
                            </div>
                            <div class="form-group">
                                <label>CVV</label>
                                <input type="text" id="tourCardCvv" placeholder="***" maxlength="3">
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Kart Sahibi</label>
                            <input type="text" id="tourCardName" placeholder="AD SOYAD" style="text-transform: uppercase;">
                        </div>
                    </div>
                </div>
                
                <div class="booking-total">
                    <div class="total-row">
                        <span>Tur qiym…ôti:</span>
                        <span id="tourBasePrice">‚Çº0</span>
                    </div>
                    <div class="total-row">
                        <span>N…ôf…ôr sayƒ±:</span>
                        <span id="tourPeopleCount">x1</span>
                    </div>
                    <div class="total-row total-final">
                        <span>C…ômi:</span>
                        <span id="tourTotalPrice">‚Çº0</span>
                    </div>
                </div>
                
                <button type="submit" class="booking-submit">
                    <span>Rezerv Et</span>
                    <span class="submit-icon">‚úì</span>
                </button>
            </form>
        </div>
    </div>
    
    <!-- Hotel Booking Modal -->
    <div class="booking-modal" id="hotelModal">
        <div class="booking-box">
            <button class="booking-close" onclick="closeHotelModal()">&times;</button>
            <div class="booking-header">
                <h2 id="hotelModalTitle">Otel Rezervasiyasƒ±</h2>
                <p id="hotelModalStars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</p>
            </div>
            
            <form class="booking-form" onsubmit="submitHotelBooking(event)">
                <input type="hidden" id="hotelId">
                <input type="hidden" id="hotelPrice">
                
                <div class="booking-section">
                    <h4>üë§ Qonaq M…ôlumatlarƒ±</h4>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Ad Soyad *</label>
                            <input type="text" id="hotelGuestName" required>
                        </div>
                        <div class="form-group">
                            <label>Telefon *</label>
                            <input type="tel" id="hotelGuestPhone" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>E-po√ßt *</label>
                        <input type="email" id="hotelGuestEmail" required>
                    </div>
                </div>
                
                <div class="booking-section">
                    <h4>üõèÔ∏è Otaq Se√ßimi</h4>
                    <div class="room-options">
                        <label class="room-option">
                            <input type="radio" name="roomType" value="standard" data-multiplier="1" checked onchange="updateHotelTotal()">
                            <span class="room-box">
                                <span class="room-name">Standart</span>
                                <span class="room-desc">1-2 n…ôf…ôrlik, 25m¬≤</span>
                                <span class="room-price">x1</span>
                            </span>
                        </label>
                        <label class="room-option">
                            <input type="radio" name="roomType" value="deluxe" data-multiplier="1.5" onchange="updateHotelTotal()">
                            <span class="room-box">
                                <span class="room-name">Deluxe</span>
                                <span class="room-desc">1-2 n…ôf…ôrlik, 35m¬≤, m…ônz…ôr…ô</span>
                                <span class="room-price">x1.5</span>
                            </span>
                        </label>
                        <label class="room-option">
                            <input type="radio" name="roomType" value="suite" data-multiplier="2.5" onchange="updateHotelTotal()">
                            <span class="room-box">
                                <span class="room-name">Suite</span>
                                <span class="room-desc">2-4 n…ôf…ôrlik, 60m¬≤, balkon</span>
                                <span class="room-price">x2.5</span>
                            </span>
                        </label>
                        <label class="room-option">
                            <input type="radio" name="roomType" value="family" data-multiplier="3" onchange="updateHotelTotal()">
                            <span class="room-box">
                                <span class="room-name">Ail…ô Otaƒüƒ±</span>
                                <span class="room-desc">4-6 n…ôf…ôrlik, 80m¬≤, 2 yataq</span>
                                <span class="room-price">x3</span>
                            </span>
                        </label>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label>Giri≈ü Tarixi *</label>
                            <input type="date" id="hotelCheckin" onchange="updateHotelTotal()" required>
                        </div>
                        <div class="form-group">
                            <label>√áƒ±xƒ±≈ü Tarixi *</label>
                            <input type="date" id="hotelCheckout" onchange="updateHotelTotal()" required>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label>Otaq Sayƒ± *</label>
                            <select id="hotelRoomCount" onchange="updateHotelTotal()" required>
                                <option value="1">1 otaq</option>
                                <option value="2">2 otaq</option>
                                <option value="3">3 otaq</option>
                                <option value="4">4 otaq</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Qonaq Sayƒ±</label>
                            <select id="hotelGuests">
                                <option value="1">1 b√∂y√ºk</option>
                                <option value="2">2 b√∂y√ºk</option>
                                <option value="2+1">2 b√∂y√ºk + 1 u≈üaq</option>
                                <option value="2+2">2 b√∂y√ºk + 2 u≈üaq</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="extras-section">
                        <h5>∆èlav…ôl…ôr</h5>
                        <label class="extra-option">
                            <input type="checkbox" name="extras" value="breakfast" data-price="25" onchange="updateHotelTotal()">
                            <span>üç≥ S…ôh…ôr yem…ôyi (+‚Çº25/g√ºn)</span>
                        </label>
                        <label class="extra-option">
                            <input type="checkbox" name="extras" value="spa" data-price="50" onchange="updateHotelTotal()">
                            <span>üíÜ SPA paketi (+‚Çº50)</span>
                        </label>
                        <label class="extra-option">
                            <input type="checkbox" name="extras" value="transfer" data-price="80" onchange="updateHotelTotal()">
                            <span>üöó Hava limanƒ± transferi (+‚Çº80)</span>
                        </label>
                    </div>
                </div>
                
                <div class="booking-section">
                    <h4>üí≥ √ñd…ôni≈ü</h4>
                    <div class="payment-options">
                        <label class="payment-option">
                            <input type="radio" name="hotelPayment" value="card" checked onchange="togglePaymentForm('hotel')">
                            <span class="option-box">
                                <span class="option-icon">üí≥</span>
                                <span>Kart il…ô</span>
                            </span>
                        </label>
                        <label class="payment-option">
                            <input type="radio" name="hotelPayment" value="hotel" onchange="togglePaymentForm('hotel')">
                            <span class="option-box">
                                <span class="option-icon">üè®</span>
                                <span>Oteld…ô</span>
                            </span>
                        </label>
                    </div>
                    
                    <div class="card-form" id="hotelCardForm">
                        <div class="form-group">
                            <label>Kart N√∂mr…ôsi</label>
                            <input type="text" id="hotelCardNumber" placeholder="0000 0000 0000 0000" maxlength="19" oninput="formatCardNumber(this)">
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label>Bitm…ô Tarixi</label>
                                <input type="text" id="hotelCardExpiry" placeholder="MM/YY" maxlength="5" oninput="formatExpiry(this)">
                            </div>
                            <div class="form-group">
                                <label>CVV</label>
                                <input type="text" id="hotelCardCvv" placeholder="***" maxlength="3">
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="booking-total">
                    <div class="total-row">
                        <span>Otaq qiym…ôti:</span>
                        <span id="hotelBasePrice">‚Çº0 x <span id="hotelNights">0</span> gec…ô</span>
                    </div>
                    <div class="total-row">
                        <span>Otaq tipi:</span>
                        <span id="hotelRoomType">Standart</span>
                    </div>
                    <div class="total-row">
                        <span>∆èlav…ôl…ôr:</span>
                        <span id="hotelExtrasPrice">‚Çº0</span>
                    </div>
                    <div class="total-row total-final">
                        <span>C…ômi:</span>
                        <span id="hotelTotalPrice">‚Çº0</span>
                    </div>
                </div>
                
                <button type="submit" class="booking-submit">
                    <span>Rezerv Et</span>
                    <span class="submit-icon">‚úì</span>
                </button>
            </form>
        </div>
    </div>
    
    <!-- Success Toast -->
    <div class="success-toast" id="successToast">
        <span class="toast-icon">‚úì</span>
        <span class="toast-text">Rezervasiya uƒüurla tamamlandƒ±!</span>
    </div>

    <!-- AI Chatbot -->
    <div class="ai-chatbot" id="aiChatbot">
        <button class="chat-toggle" id="chatToggle" onclick="toggleChat()">
            <span class="chat-icon">ü§ñ</span>
            <span class="chat-wave">üëã</span>
            <span class="chat-close">‚úï</span>
            <span class="chat-badge" id="chatBadge">1</span>
            <span class="chat-tooltip" data-lang-key="chat_tooltip">K√∂m…ôk lazƒ±mdƒ±r?</span>
        </button>
        
        <div class="chat-window" id="chatWindow">
            <div class="chat-header">
                <div class="chat-avatar">ü§ñ</div>
                <div class="chat-title">
                    <h4 data-lang-key="chat_title">DaƒüTur AI K√∂m…ôk√ßi</h4>
                    <span class="chat-status">‚óè <span data-lang-key="chat_online">Onlayn</span></span>
                </div>
                <button class="chat-minimize" onclick="toggleChat()">‚îÄ</button>
            </div>
            
            <div class="chat-messages" id="chatMessages">
                <div class="chat-message bot">
                    <div class="message-avatar">ü§ñ</div>
                    <div class="message-content" data-lang-key="chat_welcome">
                        Salam! üëã M…ôn DaƒüTur AI k√∂m…ôk√ßisiy…ôm. Siz…ô daƒülar, turlar v…ô rezervasiyalar haqqƒ±nda m…ôlumat ver…ô bil…ôr…ôm. Nec…ô k√∂m…ôk ed…ô bil…ôr…ôm?
                    </div>
                </div>
            </div>
            
            <div class="chat-suggestions" id="chatSuggestions">
                <button onclick="sendSuggestion('∆èn populyar turlar hansƒ±lardƒ±r?')" data-lang-key="chat_sug_tours">üèîÔ∏è Populyar turlar</button>
                <button onclick="sendSuggestion('≈ûahdaƒü haqqƒ±nda m…ôlumat')" data-lang-key="chat_sug_shahdag">‚õ∑Ô∏è ≈ûahdaƒü</button>
                <button onclick="sendSuggestion('Qiym…ôtl…ôr nec…ôdir?')" data-lang-key="chat_sug_prices">üí∞ Qiym…ôtl…ôr</button>
                <button onclick="sendSuggestion('Rezervasiya nec…ô edim?')" data-lang-key="chat_sug_reserve">üìù Rezervasiya</button>
            </div>
            
            <div class="chat-input-area">
                <input type="text" id="chatInput" data-lang-placeholder="chat_placeholder" placeholder="Mesajƒ±nƒ±zƒ± yazƒ±n..." onkeypress="handleChatKeypress(event)">
                <button onclick="sendChatMessage()" class="chat-send">
                    <span>‚û§</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-grid">
            <div class="footer-brand">
                <span class="logo-icon">‚õ∞Ô∏è</span>
                <span class="logo-text">DaƒüTur</span>
                <p>Az…ôrbaycanƒ±n daƒülarƒ±nƒ± k…ô≈üf et. Unudulmaz mac…ôralar √º√ß√ºn biziml…ô …ôlaq…ô saxlayƒ±n.</p>
                <div class="footer-social">
                    <a href="#">üì∑</a>
                    <a href="#">üë§</a>
                    <a href="#">üí¨</a>
                    <a href="#">‚ñ∂Ô∏è</a>
                </div>
            </div>
            <div class="footer-links">
                <h4>Ke√ßidl…ôr</h4>
                <a href="#home">Ana S…ôhif…ô</a>
                <a href="#map">X…ôrit…ô</a>
                <a href="#mountains">Daƒülar</a>
                <a href="#tours">Turlar</a>
                <a href="#hotels">Otell…ôr</a>
                <a href="#contact">∆èlaq…ô</a>
            </div>
            <div class="footer-links">
                <h4>Populyar Turlar</h4>
                <a href="#" onclick="openTourBooking('bazarduzu', 'Bazard√ºz√º Ekspedisiyasƒ±', 1200)">Bazard√ºz√º Ekspedisiyasƒ±</a>
                <a href="#" onclick="openTourBooking('shahdag', '≈ûahdaƒü Qƒ±≈ü Turu', 450)">≈ûahdaƒü Qƒ±≈ü Turu</a>
                <a href="#" onclick="openTourBooking('xinaliq', 'Xƒ±nalƒ±q Trekkinqi', 350)">Xƒ±nalƒ±q Trekkinqi</a>
                <a href="#" onclick="openTourBooking('gabala', 'Q…ôb…ôl…ô Ail…ôvi Tur', 280)">Q…ôb…ôl…ô Ail…ôvi Tur</a>
            </div>
            <div class="footer-links">
                <h4>∆èlaq…ô</h4>
                <p style="color: rgba(255,255,255,0.7); font-size: 0.9rem; margin-bottom: 0.5rem;">üìç Bakƒ±, Nizami k√º√ß…ôsi 45</p>
                <p style="color: rgba(255,255,255,0.7); font-size: 0.9rem; margin-bottom: 0.5rem;">üìû +994 12 345 67 89</p>
                <p style="color: rgba(255,255,255,0.7); font-size: 0.9rem; margin-bottom: 0.5rem;">‚úâÔ∏è info@dagtur.az</p>
            </div>
        </div>
        <div class="footer-bottom">
            <p>¬© 2025 DaƒüTur. B√ºt√ºn h√ºquqlar qorunur.</p>
        </div>
    </footer>

    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    
    <script>
        const mountains = {
            bazarduzu: {
                name: 'Bazard√ºz√º', alt: '4466 m', lat: 41.2208, lng: 47.8586, diff: '√á…ôtin',
                desc: 'Az…ôrbaycanƒ±n …ôn h√ºnd√ºr zirv…ôsi. B√∂y√ºk Qafqaz silsil…ôsind…ô, Rusiya s…ôrh…ôdind…ô yerl…ô≈üir. Alpinistl…ôr √º√ß√ºn ciddi sƒ±naq.',
                tags: ['Alpinizm', 'Ekspedisiya', 'Qar', 'Professional'],
                img: 'https://images.unsplash.com/photo-1519681393784-d120267933ba?q=80&w=2070',
                color: '#ef4444', rating: 4.8, reviews: 156,
                places: ['Qusar Resort', '≈ûahdaƒü Ski', 'Q…ô√ßr…ô≈ü ≈û…ôlal…ôsi']
            },
            shahdag: {
                name: '≈ûahdaƒü', alt: '4243 m', lat: 41.2753, lng: 48.1361, diff: 'Orta',
                desc: 'Az…ôrbaycanƒ±n …ôn m…ô≈ühur qƒ±≈ü kurortu. M√ºasir xiz…ôk infrastrukturu, 5 ulduzlu otell…ôr.',
                tags: ['Xiz…ôk', 'Snowboard', 'Kurort', 'Kanat yolu'],
                img: 'https://images.unsplash.com/photo-1491002052546-bf38f186af56?q=80&w=2083',
                color: '#ef4444', rating: 4.9, reviews: 324,
                places: ['≈ûahdaƒü Hotel', 'PIK Palace', 'Ski Center']
            },
            tufandag: {
                name: 'Tufandaƒü', alt: '4191 m', lat: 41.0167, lng: 47.8667, diff: 'Asan',
                desc: 'Q…ôb…ôl…ôd…ô yerl…ô≈ü…ôn ail…ô kurortu. 3.5 km kanat yolu, zipline, at g…ôzintisi.',
                tags: ['Ail…ôvi', 'Kanat yolu', 'Zipline', '4 m√∂vs√ºm'],
                img: 'https://images.unsplash.com/photo-1454496522488-7a8e488e8606?q=80&w=2076',
                color: '#ef4444', rating: 4.7, reviews: 289,
                places: ['Q…ôb…ôl…ô Land', 'Nohur G√∂l√º', 'Tufandaƒü Resort']
            },
            babadag: {
                name: 'Babadaƒü', alt: '3629 m', lat: 41.0125, lng: 48.2039, diff: 'Orta',
                desc: 'M√ºq…ôdd…ôs ziyar…ôtgah. Zirv…ôd…ô q…ôdim pir var. Yayda alp √ß…ôm…ônlikl…ôri.',
                tags: ['Ziyar…ôt', 'Trekking', 'M…ônz…ôr…ô', 'M…ôn…ôvi'],
                img: 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?q=80&w=2070',
                color: '#ef4444', rating: 4.5, reviews: 198,
                places: ['Babadaƒü Piri', 'Quba ≈û…ôh…ôri', 'Afurca ≈û…ôlal…ôsi']
            },
            gobustan: {
                name: 'Qobustan', alt: '400 m', lat: 40.0853, lng: 49.3819, diff: 'Asan',
                desc: 'UNESCO ƒ∞rsi. 6000 illik qaya√ºst√º r…ôsml…ôr, pal√ßƒ±q vulkanlarƒ±.',
                tags: ['UNESCO', 'Petroqlif', 'Vulkan', 'Muzey'],
                img: 'https://images.unsplash.com/photo-1464278533981-50106e6176b1?q=80&w=2074',
                color: '#8b5cf6', rating: 4.6, reviews: 412,
                places: ['Qobustan Muzeyi', 'Pal√ßƒ±q Vulkanlarƒ±', 'Qaya R…ôsml…ôri']
            },
            talysh: {
                name: 'Talƒ±≈ü Daƒülarƒ±', alt: '2477 m', lat: 38.8833, lng: 48.5833, diff: 'Asan-Orta',
                desc: 'Subtropik c…ônn…ôt. Hirkan Milli Parkƒ±, nadir flora-fauna.',
                tags: ['Hirkan', 'Me≈ü…ô', 'Ekoturizm', '≈û…ôlal…ô'],
                img: 'https://images.unsplash.com/photo-1486870591958-9b9d0d1dda99?q=80&w=2070',
                color: '#22c55e', rating: 4.4, reviews: 167,
                places: ['Hirkan Parkƒ±', 'L…ônk…ôran √áayƒ±', 'ƒ∞stisu Bulaqlarƒ±']
            },
            xinaliq: {
                name: 'Xƒ±nalƒ±q', alt: '2350 m', lat: 41.1833, lng: 48.1333, diff: 'Orta',
                desc: 'D√ºnyanƒ±n …ôn q…ôdim ya≈üayƒ±≈ü yerl…ôrind…ôn biri. 5000 illik tarix, unikal dil v…ô m…ôd…ôniyy…ôt.',
                tags: ['K…ônd', 'Tarix', 'M…ôd…ôniyy…ôt', 'Etnoqrafiya'],
                img: 'https://images.unsplash.com/photo-1464822759023-fed622ff2c3b?q=80&w=2070',
                color: '#f59e0b', rating: 4.8, reviews: 234,
                places: ['Xƒ±nalƒ±q K…ôndi', 'Q…ôdim M…ôscid', 'Etnoqrafiya Muzeyi']
            },
            lahic: {
                name: 'Lahƒ±c', alt: '1200 m', lat: 40.8472, lng: 48.3861, diff: 'Asan',
                desc: 'Mis s…ôn…ôtkarlƒ±ƒüƒ± il…ô m…ô≈ühur q…ôdim k…ônd. UNESCO qeyri-maddi miras.',
                tags: ['S…ôn…ôtkarlƒ±q', 'Mis', 'Tarix', 'K…ônd'],
                img: 'https://images.unsplash.com/photo-1483728642387-6c3bdd6c93e5?q=80&w=2076',
                color: '#f59e0b', rating: 4.6, reviews: 278,
                places: ['Mis Ustaxanasƒ±', 'Lahƒ±c Hamamƒ±', 'Q…ôdim K√º√ß…ôl…ôr']
            },
            mudafidag: {
                name: 'M√ºdafi…ô Daƒüƒ±', alt: '3888 m', lat: 40.9833, lng: 48.4833, diff: '√á…ôtin',
                desc: 'ƒ∞smayƒ±llƒ± rayonunda yerl…ô≈ü…ôn …ôz…ôm…ôtli zirv…ô. Alpinizm v…ô trekking √º√ß√ºn ideal.',
                tags: ['Alpinizm', 'Trekking', 'Qƒ±≈ü', 'Mac…ôra'],
                img: 'https://images.unsplash.com/photo-1464822759023-fed622ff2c3b?q=80&w=2070',
                color: '#ef4444', rating: 4.3, reviews: 89,
                places: ['ƒ∞smayƒ±llƒ± ≈û…ôh…ôri', 'Basqal K…ôndi', 'ƒ∞vanovka']
            },
            kapaz: {
                name: 'K…ôp…ôz Daƒüƒ±', alt: '3066 m', lat: 40.5167, lng: 46.3667, diff: 'Orta',
                desc: 'G√∂yg√∂l rayonunda yerl…ô≈üir. M√∂ht…ô≈ü…ôm g√∂ll…ôr v…ô me≈ü…ôl…ôr il…ô …ôhat…ô olunub.',
                tags: ['G√∂l', 'Me≈ü…ô', 'Trekking', 'Piknik'],
                img: 'https://images.unsplash.com/photo-1454496522488-7a8e488e8606?q=80&w=2076',
                color: '#14b8a6', rating: 4.7, reviews: 345,
                places: ['G√∂yg√∂l', 'Maralg√∂l', 'K…ôp…ôz Parkƒ±']
            },
            murovdag: {
                name: 'Murovdaƒü', alt: '3724 m', lat: 40.4500, lng: 46.8833, diff: '√á…ôtin',
                desc: 'Ki√ßik Qafqaz silsil…ôsinin …ôn h√ºnd√ºr n√∂qt…ôsi. Qarlƒ± zirv…ôl…ôr v…ô alp √ß…ôm…ônlikl…ôri.',
                tags: ['Alpinizm', 'Qar', 'Silsil…ô', 'Ekspedisiya'],
                img: 'https://images.unsplash.com/photo-1519681393784-d120267933ba?q=80&w=2070',
                color: '#ef4444', rating: 4.5, reviews: 112,
                places: ['G…ôd…ôb…ôy', '≈û…ômkir Su Anbarƒ±', 'Slavyanka']
            },
            beshbarmag: {
                name: 'Be≈übarmaq', alt: '520 m', lat: 40.9611, lng: 49.2333, diff: 'Asan',
                desc: 'Xƒ±rdalan yaxƒ±nlƒ±ƒüƒ±nda yerl…ô≈ü…ôn ikonik qaya. Ziyar…ôt yeri v…ô m…ônz…ôr…ô n√∂qt…ôsi.',
                tags: ['Ziyar…ôt', 'Qaya', 'M…ônz…ôr…ô', 'Asan'],
                img: 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?q=80&w=2070',
                color: '#8b5cf6', rating: 4.4, reviews: 567,
                places: ['Be≈übarmaq Piri', 'Siy…ôz…ôn', 'X…ôz…ôr Sahili']
            }
        };

        let userLat = null, userLng = null;
        let map, markers = {};
        
        // Tile Layers
        const tileLayers = {
            satellite: L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', {
                attribution: '¬© Esri'
            }),
            terrain: L.tileLayer('https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png', {
                attribution: '¬© OpenTopoMap'
            }),
            hybrid: L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', {
                attribution: '¬© Esri'
            })
        };
        
        const labelsLayer = L.tileLayer('https://{s}.basemaps.cartocdn.com/light_only_labels/{z}/{x}/{y}{r}.png', {
            attribution: '¬© CARTO'
        });

        function initMap() {
            // Azerbaijan center
            map = L.map('leafletMap', {
                center: [40.3, 47.7],
                zoom: 7,
                minZoom: 6,
                maxZoom: 15,
                zoomControl: true
            });
            
            // Default satellite layer
            tileLayers.satellite.addTo(map);
            
            // Add labels for hybrid
            // labelsLayer.addTo(map);
            
            // Add mountain markers
            Object.keys(mountains).forEach(key => {
                const m = mountains[key];
                const icon = L.divIcon({
                    className: 'custom-marker',
                    html: `
                        <div class="marker-container" style="--color: ${m.color}">
                            <div class="marker-pulse"></div>
                            <div class="marker-dot"></div>
                            <div class="marker-label">${m.name}</div>
                        </div>
                    `,
                    iconSize: [30, 30],
                    iconAnchor: [15, 15]
                });
                
                const marker = L.marker([m.lat, m.lng], { icon }).addTo(map);
                marker.on('click', () => openModal(key));
                markers[key] = marker;
            });
            
            // Add user location marker if available
            if (userLat && userLng) {
                addUserMarker();
            }
        }
        
        function addUserMarker() {
            const userIcon = L.divIcon({
                className: 'user-marker',
                html: `<div class="user-dot">üìç</div>`,
                iconSize: [40, 40],
                iconAnchor: [20, 20]
            });
            L.marker([userLat, userLng], { icon: userIcon }).addTo(map);
        }
        
        // Map layer switching
        document.querySelectorAll('.map-ctrl').forEach(btn => {
            btn.addEventListener('click', () => {
                document.querySelectorAll('.map-ctrl').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                
                const layer = btn.dataset.layer;
                Object.values(tileLayers).forEach(l => map.removeLayer(l));
                map.removeLayer(labelsLayer);
                
                tileLayers[layer].addTo(map);
                if (layer === 'hybrid') {
                    labelsLayer.addTo(map);
                }
            });
        });

        function calcDist(lat1, lng1, lat2, lng2) {
            const R = 6371;
            const dLat = (lat2 - lat1) * Math.PI / 180;
            const dLng = (lng2 - lng1) * Math.PI / 180;
            const a = Math.sin(dLat/2)**2 + Math.cos(lat1*Math.PI/180)*Math.cos(lat2*Math.PI/180)*Math.sin(dLng/2)**2;
            return Math.round(R * 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a)));
        }

        function updateDist() {
            if (!userLat) return;
            Object.keys(mountains).forEach(k => {
                const m = mountains[k];
                m.distance = calcDist(userLat, userLng, m.lat, m.lng);
            });
        }

        function getLocation() {
            const txt = document.getElementById('locText');
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(p => {
                    userLat = p.coords.latitude;
                    userLng = p.coords.longitude;
                    txt.textContent = 'M…ôkanƒ±nƒ±z tapƒ±ldƒ±';
                    document.getElementById('locationBar').classList.add('found');
                    updateDist();
                    if (map) addUserMarker();
                }, () => {
                    userLat = 40.4093; userLng = 49.8671;
                    txt.textContent = 'Bakƒ±dan uzaqlƒ±q';
                    updateDist();
                });
            } else {
                userLat = 40.4093; userLng = 49.8671;
                txt.textContent = 'Bakƒ±dan uzaqlƒ±q';
                updateDist();
            }
        }

        const modal = document.getElementById('modal');
        
        function openModal(key) {
            const m = mountains[key];
            if (!m) return;
            document.getElementById('modalName').textContent = m.name;
            document.getElementById('modalAlt').textContent = m.alt;
            document.getElementById('modalDist').textContent = m.distance ? m.distance + ' km' : '--';
            document.getElementById('modalDiff').textContent = m.diff;
            document.getElementById('modalDesc').textContent = m.desc;
            document.getElementById('modalImg').style.backgroundImage = `url('${m.img}')`;
            document.getElementById('modalTags').innerHTML = m.tags.map(t => `<span class="m-tag">${t}</span>`).join('');
            document.getElementById('modalDetail').href = `mountain-detail.html?mountain=${key}`;
            document.getElementById('modalMap').onclick = () => window.open(`https://www.google.com/maps/dir/?api=1&destination=${m.lat},${m.lng}`, '_blank');
            
            // Rating
            document.getElementById('modalRating').textContent = m.rating || '4.5';
            document.getElementById('modalReviews').textContent = m.reviews || '0';
            const starsEl = document.getElementById('modalStars');
            const rating = m.rating || 4.5;
            starsEl.innerHTML = '‚òÖ'.repeat(Math.floor(rating)) + (rating % 1 >= 0.5 ? '¬Ω' : '') + '‚òÜ'.repeat(5 - Math.ceil(rating));
            
            // Places
            const placesEl = document.getElementById('modalPlaces');
            placesEl.innerHTML = (m.places || []).map(p => `<span class="place-tag">üìç ${p}</span>`).join('');
            
            modal.classList.add('open');
            document.body.style.overflow = 'hidden';
        }

        function closeModal() {
            modal.classList.remove('open');
            document.body.style.overflow = '';
        }

        document.getElementById('modalX').onclick = closeModal;
        modal.onclick = e => { if (e.target === modal) closeModal(); };
        document.onkeydown = e => { if (e.key === 'Escape') closeModal(); };

        document.addEventListener('DOMContentLoaded', () => {
            getLocation();
            initMap();
            checkAuth();
            initScrollFeatures();
        });

        // Scroll features
        function initScrollFeatures() {
            const scrollTopBtn = document.getElementById('scrollTop');
            const scrollDownBtn = document.querySelector('.scroll-down');
            
            // Scroll to top button visibility
            window.addEventListener('scroll', () => {
                if (window.scrollY > 500) {
                    scrollTopBtn.classList.add('visible');
                } else {
                    scrollTopBtn.classList.remove('visible');
                }
            });
            
            // Scroll to top click
            scrollTopBtn.addEventListener('click', () => {
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });
            
            // Hero scroll down - one page
            if (scrollDownBtn) {
                scrollDownBtn.addEventListener('click', (e) => {
                    e.preventDefault();
                    window.scrollTo({ top: window.innerHeight, behavior: 'smooth' });
                });
            }
        }

        // Auth functions
        function checkAuth() {
            const user = JSON.parse(localStorage.getItem('dagtur_current_user') || 'null');
            const authButtons = document.getElementById('authButtons');
            const userMenu = document.getElementById('userMenu');
            const userName = document.getElementById('userName');

            if (user) {
                authButtons.style.display = 'none';
                userMenu.style.display = 'block';
                userName.textContent = user.name;
            } else {
                authButtons.style.display = 'flex';
                userMenu.style.display = 'none';
            }
        }

        // Logout
        document.getElementById('logoutBtn').addEventListener('click', () => {
            localStorage.removeItem('dagtur_current_user');
            checkAuth();
            showLogoutMessage();
        });

        function showLogoutMessage() {
            const toast = document.createElement('div');
            toast.className = 'logout-toast';
            toast.innerHTML = '‚úì Uƒüurla √ßƒ±xƒ±≈ü etdiniz';
            document.body.appendChild(toast);
            setTimeout(() => toast.classList.add('show'), 10);
            setTimeout(() => {
                toast.classList.remove('show');
                setTimeout(() => toast.remove(), 300);
            }, 2000);
        }

        // User dropdown toggle on click
        document.getElementById('userBtn')?.addEventListener('click', (e) => {
            e.stopPropagation();
            document.getElementById('userDropdown').classList.toggle('show');
        });
        document.addEventListener('click', () => {
            document.getElementById('userDropdown')?.classList.remove('show');
        });

        // ==================== FAVORITES ====================
        const Favorites = {
            get: () => JSON.parse(localStorage.getItem('dagtur_favorites') || '[]'),
            save: (favs) => localStorage.setItem('dagtur_favorites', JSON.stringify(favs)),
            has: (id) => Favorites.get().includes(id),
            add: (id) => { const f = Favorites.get(); if (!f.includes(id)) { f.push(id); Favorites.save(f); } },
            remove: (id) => { Favorites.save(Favorites.get().filter(x => x !== id)); },
            toggle: (id) => { Favorites.has(id) ? Favorites.remove(id) : Favorites.add(id); }
        };

        function toggleFav(event, mountainId) {
            event.stopPropagation();
            
            // Check if user is logged in
            const user = JSON.parse(localStorage.getItem('dagtur_current_user') || 'null');
            if (!user) {
                showLoginRequiredToast();
                return;
            }
            
            Favorites.toggle(mountainId);
            updateFavButtons();
            updateFavCount();
            showFavToast(Favorites.has(mountainId));
        }
        
        function showLoginRequiredToast() {
            const t = translations[currentLang];
            const existing = document.querySelector('.login-required-toast');
            if (existing) existing.remove();
            
            const toast = document.createElement('div');
            toast.className = 'login-required-toast';
            toast.innerHTML = `üîí ${t.fav_login_required} <a href="auth.html">Giri≈ü</a>`;
            document.body.appendChild(toast);
            setTimeout(() => toast.classList.add('show'), 10);
            setTimeout(() => {
                toast.classList.remove('show');
                setTimeout(() => toast.remove(), 300);
            }, 3000);
        }

        function updateFavButtons() {
            document.querySelectorAll('.card').forEach(card => {
                const id = card.dataset.mountain;
                const btn = card.querySelector('.fav-btn');
                if (btn && id) {
                    if (Favorites.has(id)) {
                        btn.classList.add('active');
                        btn.innerHTML = '‚ô•';
                    } else {
                        btn.classList.remove('active');
                        btn.innerHTML = '‚ô°';
                    }
                }
            });
        }

        function updateFavCount() {
            const countEl = document.getElementById('favCount');
            if (countEl) {
                const count = Favorites.get().length;
                countEl.textContent = count;
                countEl.style.display = count > 0 ? 'inline' : 'none';
            }
        }

        function showFavToast(added) {
            const existing = document.querySelector('.fav-toast');
            if (existing) existing.remove();
            
            const toast = document.createElement('div');
            toast.className = 'fav-toast';
            toast.innerHTML = added ? '‚ù§Ô∏è Sevimlil…ôr…ô …ôlav…ô edildi' : 'üíî Sevimlil…ôrd…ôn √ßƒ±xarƒ±ldƒ±';
            document.body.appendChild(toast);
            setTimeout(() => toast.classList.add('show'), 10);
            setTimeout(() => {
                toast.classList.remove('show');
                setTimeout(() => toast.remove(), 300);
            }, 2000);
        }

        // Init favorites on page load
        document.addEventListener('DOMContentLoaded', () => {
            updateFavButtons();
            updateFavCount();
        });

        // ==================== TOUR BOOKING ====================
        let currentTourPrice = 0;
        
        function openTourBooking(tourId, tourName, price) {
            document.getElementById('tourId').value = tourId;
            document.getElementById('tourPrice').value = price;
            document.getElementById('tourModalTitle').textContent = tourName;
            currentTourPrice = price;
            
            // Set min date to today
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('tourDate').min = today;
            
            // Auto-fill if logged in
            const user = JSON.parse(localStorage.getItem('dagtur_current_user') || 'null');
            if (user) {
                document.getElementById('tourName').value = user.name || '';
                document.getElementById('tourEmail').value = user.email || '';
            }
            
            updateTourTotal();
            document.getElementById('tourModal').classList.add('open');
            document.body.style.overflow = 'hidden';
        }
        
        function closeTourModal() {
            document.getElementById('tourModal').classList.remove('open');
            document.body.style.overflow = '';
        }
        
        function updateTourTotal() {
            const people = parseInt(document.getElementById('tourPeople').value) || 1;
            const total = currentTourPrice * people;
            
            document.getElementById('tourBasePrice').textContent = '‚Çº' + currentTourPrice;
            document.getElementById('tourPeopleCount').textContent = 'x' + people;
            document.getElementById('tourTotalPrice').textContent = '‚Çº' + total;
        }
        
        function submitTourBooking(e) {
            e.preventDefault();
            
            const booking = {
                type: 'tour',
                tourId: document.getElementById('tourId').value,
                name: document.getElementById('tourName').value,
                phone: document.getElementById('tourPhone').value,
                email: document.getElementById('tourEmail').value,
                people: document.getElementById('tourPeople').value,
                date: document.getElementById('tourDate').value,
                notes: document.getElementById('tourNotes').value,
                payment: document.querySelector('input[name="tourPayment"]:checked').value,
                total: document.getElementById('tourTotalPrice').textContent,
                createdAt: new Date().toISOString()
            };
            
            // Save to localStorage
            const bookings = JSON.parse(localStorage.getItem('dagtur_bookings') || '[]');
            bookings.push(booking);
            localStorage.setItem('dagtur_bookings', JSON.stringify(bookings));
            
            closeTourModal();
            showSuccessToast('Tur rezervasiyanƒ±z q…ôbul edildi!');
        }
        
        // ==================== HOTEL BOOKING ====================
        let currentHotelPrice = 0;
        
        function openHotelBooking(hotelId, hotelName, price, stars) {
            document.getElementById('hotelId').value = hotelId;
            document.getElementById('hotelPrice').value = price;
            document.getElementById('hotelModalTitle').textContent = hotelName;
            document.getElementById('hotelModalStars').textContent = '‚òÖ'.repeat(stars);
            currentHotelPrice = price;
            
            // Set min date to today
            const today = new Date().toISOString().split('T')[0];
            const tomorrow = new Date(Date.now() + 86400000).toISOString().split('T')[0];
            document.getElementById('hotelCheckin').min = today;
            document.getElementById('hotelCheckin').value = today;
            document.getElementById('hotelCheckout').min = tomorrow;
            document.getElementById('hotelCheckout').value = tomorrow;
            
            // Auto-fill if logged in
            const user = JSON.parse(localStorage.getItem('dagtur_current_user') || 'null');
            if (user) {
                document.getElementById('hotelGuestName').value = user.name || '';
                document.getElementById('hotelGuestEmail').value = user.email || '';
            }
            
            updateHotelTotal();
            document.getElementById('hotelModal').classList.add('open');
            document.body.style.overflow = 'hidden';
        }
        
        function closeHotelModal() {
            document.getElementById('hotelModal').classList.remove('open');
            document.body.style.overflow = '';
        }
        
        function updateHotelTotal() {
            const checkin = document.getElementById('hotelCheckin').value;
            const checkout = document.getElementById('hotelCheckout').value;
            const roomType = document.querySelector('input[name="roomType"]:checked');
            const roomCount = parseInt(document.getElementById('hotelRoomCount').value) || 1;
            
            let nights = 1;
            if (checkin && checkout) {
                const diff = new Date(checkout) - new Date(checkin);
                nights = Math.max(1, Math.ceil(diff / (1000 * 60 * 60 * 24)));
            }
            
            const multiplier = parseFloat(roomType?.dataset.multiplier || 1);
            const roomNames = { standard: 'Standart', deluxe: 'Deluxe', suite: 'Suite', family: 'Ail…ô Otaƒüƒ±' };
            
            // Calculate extras
            let extras = 0;
            document.querySelectorAll('input[name="extras"]:checked').forEach(cb => {
                const price = parseInt(cb.dataset.price) || 0;
                if (cb.value === 'breakfast') {
                    extras += price * nights;
                } else {
                    extras += price;
                }
            });
            
            const roomTotal = currentHotelPrice * multiplier * nights * roomCount;
            const total = roomTotal + extras;
            
            document.getElementById('hotelNights').textContent = nights;
            document.getElementById('hotelRoomType').textContent = roomNames[roomType?.value || 'standard'] + ' x' + roomCount;
            document.getElementById('hotelExtrasPrice').textContent = '‚Çº' + extras;
            document.getElementById('hotelTotalPrice').textContent = '‚Çº' + Math.round(total);
        }
        
        function submitHotelBooking(e) {
            e.preventDefault();
            
            const booking = {
                type: 'hotel',
                hotelId: document.getElementById('hotelId').value,
                guestName: document.getElementById('hotelGuestName').value,
                guestPhone: document.getElementById('hotelGuestPhone').value,
                guestEmail: document.getElementById('hotelGuestEmail').value,
                roomType: document.querySelector('input[name="roomType"]:checked').value,
                roomCount: document.getElementById('hotelRoomCount').value,
                checkin: document.getElementById('hotelCheckin').value,
                checkout: document.getElementById('hotelCheckout').value,
                guests: document.getElementById('hotelGuests').value,
                payment: document.querySelector('input[name="hotelPayment"]:checked').value,
                total: document.getElementById('hotelTotalPrice').textContent,
                createdAt: new Date().toISOString()
            };
            
            // Save to localStorage
            const bookings = JSON.parse(localStorage.getItem('dagtur_bookings') || '[]');
            bookings.push(booking);
            localStorage.setItem('dagtur_bookings', JSON.stringify(bookings));
            
            closeHotelModal();
            showSuccessToast('Otel rezervasiyanƒ±z q…ôbul edildi!');
        }
        
        // ==================== PAYMENT HELPERS ====================
        function togglePaymentForm(type) {
            const formId = type === 'tour' ? 'tourCardForm' : 'hotelCardForm';
            const paymentName = type === 'tour' ? 'tourPayment' : 'hotelPayment';
            const selected = document.querySelector(`input[name="${paymentName}"]:checked`).value;
            
            document.getElementById(formId).style.display = selected === 'card' ? 'block' : 'none';
        }
        
        function formatCardNumber(input) {
            let value = input.value.replace(/\D/g, '');
            value = value.replace(/(.{4})/g, '$1 ').trim();
            input.value = value;
        }
        
        function formatExpiry(input) {
            let value = input.value.replace(/\D/g, '');
            if (value.length >= 2) {
                value = value.slice(0, 2) + '/' + value.slice(2);
            }
            input.value = value;
        }
        
        // ==================== CONTACT FORM ====================
        function submitContact(e) {
            e.preventDefault();
            
            const contact = {
                name: document.getElementById('contactName').value,
                phone: document.getElementById('contactPhone').value,
                email: document.getElementById('contactEmail').value,
                subject: document.getElementById('contactSubject').value,
                message: document.getElementById('contactMessage').value,
                createdAt: new Date().toISOString()
            };
            
            // Save to localStorage
            const contacts = JSON.parse(localStorage.getItem('dagtur_contacts') || '[]');
            contacts.push(contact);
            localStorage.setItem('dagtur_contacts', JSON.stringify(contacts));
            
            // Reset form
            e.target.reset();
            showSuccessToast('Mesajƒ±nƒ±z g√∂nd…ôrildi!');
        }
        
        // ==================== TOAST ====================
        function showSuccessToast(message) {
            const toast = document.getElementById('successToast');
            toast.querySelector('.toast-text').textContent = message;
            toast.classList.add('show');
            setTimeout(() => toast.classList.remove('show'), 3000);
        }
        
        // Close modals on escape
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                closeTourModal();
                closeHotelModal();
            }
        });
        
        // Close modals on backdrop click
        document.getElementById('tourModal')?.addEventListener('click', (e) => {
            if (e.target === document.getElementById('tourModal')) closeTourModal();
        });
        document.getElementById('hotelModal')?.addEventListener('click', (e) => {
            if (e.target === document.getElementById('hotelModal')) closeHotelModal();
        });

        // ==================== LANGUAGE SYSTEM ====================
        const translations = {
            az: {
                // Navigation
                nav_home: 'Ana S…ôhif…ô', nav_map: 'X…ôrit…ô', nav_mountains: 'Daƒülar',
                nav_tours: 'Turlar', nav_hotels: 'Otell…ôr', nav_contact: '∆èlaq…ô',
                // Hero
                hero_subtitle: 'Az…ôrbaycanƒ±n Zirv…ôl…ôrini K…ô≈üf Et', hero_title: 'Daƒü Turizmi',
                hero_desc: 'Qafqaz daƒülarƒ±nƒ±n …ôz…ôm…ôtli zirv…ôl…ôrind…ôn Talƒ±≈ü daƒülarƒ±nƒ±n ya≈üƒ±l yamaclarƒ±na q…ôd…ôr ‚Äî Az…ôrbaycanƒ±n …ôn g√∂z…ôl daƒü m…ônz…ôr…ôl…ôrini biziml…ô k…ô≈üf edin.',
                hero_btn_map: 'X…ôrit…ôy…ô Bax', hero_btn_mountains: 'Daƒülar', scroll_down: 'A≈üaƒüƒ±',
                // Map
                map_tag: 'ƒ∞nteraktiv X…ôrit…ô', map_title: 'Daƒülarƒ± K…ô≈üf Et',
                map_desc: 'Qƒ±rmƒ±zƒ± n√∂qt…ôl…ôr…ô basaraq daƒülar haqqƒ±nda m…ôlumat alƒ±n',
                // Mountains
                mountains_tag: '∆èz…ôm…ôtli Zirv…ôl…ôr', mountains_title: 'Az…ôrbaycanƒ±n Daƒülarƒ±',
                // Tours
                tours_tag: 'Mac…ôra S…ôni G√∂zl…ôyir', tours_title: 'Populyar Turlar',
                tours_desc: 'H…ôyatƒ±nƒ±zƒ±n mac…ôrasƒ±na qo≈üulun',
                // Hotels
                hotels_tag: 'Rahat ƒ∞stirah…ôt', hotels_title: 'Otell…ôr & Rezervasiya',
                hotels_desc: 'Daƒü kurortlarƒ±nda l√ºks qalma imkanlarƒ±',
                // Contact
                contact_tag: 'Biziml…ô ∆èlaq…ô', contact_title: 'Sualƒ±nƒ±z Var?',
                contact_desc: '7/24 sizin xidm…ôtinizd…ôyik',
                contact_hours: 'ƒ∞≈ü Saatlarƒ±', contact_247: '7/24 A√ßƒ±qdƒ±r', contact_always: 'H…ômi≈ü…ô sizin xidm…ôtinizd…ô',
                // Buttons
                btn_join: 'Qo≈üul', btn_reserve: 'Rezerv Et', btn_send: 'G√∂nd…ôr',
                // Search
                search_placeholder: 'Daƒü, tur, otel axtar...',
                // Chat
                chat_tooltip: 'K√∂m…ôk lazƒ±mdƒ±r?', chat_title: 'DaƒüTur AI K√∂m…ôk√ßi', chat_online: 'Onlayn',
                chat_welcome: 'Salam! üëã M…ôn DaƒüTur AI k√∂m…ôk√ßisiy…ôm. Siz…ô daƒülar, turlar v…ô rezervasiyalar haqqƒ±nda m…ôlumat ver…ô bil…ôr…ôm. Nec…ô k√∂m…ôk ed…ô bil…ôr…ôm?',
                chat_placeholder: 'Mesajƒ±nƒ±zƒ± yazƒ±n...',
                chat_sug_tours: 'üèîÔ∏è Populyar turlar', chat_sug_shahdag: '‚õ∑Ô∏è ≈ûahdaƒü',
                chat_sug_prices: 'üí∞ Qiym…ôtl…ôr', chat_sug_reserve: 'üìù Rezervasiya',
                // Favorites
                fav_login_required: 'Sevimlil…ôr…ô …ôlav…ô etm…ôk √º√ß√ºn giri≈ü edin!'
            },
            en: {
                nav_home: 'Home', nav_map: 'Map', nav_mountains: 'Mountains',
                nav_tours: 'Tours', nav_hotels: 'Hotels', nav_contact: 'Contact',
                hero_subtitle: 'Discover the Peaks of Azerbaijan', hero_title: 'Mountain Tourism',
                hero_desc: 'From the majestic peaks of the Caucasus mountains to the green slopes of the Talysh mountains ‚Äî discover the most beautiful mountain landscapes of Azerbaijan with us.',
                hero_btn_map: 'View Map', hero_btn_mountains: 'Mountains', scroll_down: 'Down',
                map_tag: 'Interactive Map', map_title: 'Discover Mountains',
                map_desc: 'Click on red dots to get information about mountains',
                mountains_tag: 'Majestic Peaks', mountains_title: 'Mountains of Azerbaijan',
                tours_tag: 'Adventure Awaits You', tours_title: 'Popular Tours',
                tours_desc: 'Join the adventure of your life',
                hotels_tag: 'Comfortable Stay', hotels_title: 'Hotels & Reservations',
                hotels_desc: 'Luxury accommodation in mountain resorts',
                contact_tag: 'Contact Us', contact_title: 'Have Questions?',
                contact_desc: 'We are at your service 24/7',
                contact_hours: 'Working Hours', contact_247: 'Open 24/7', contact_always: 'Always at your service',
                btn_join: 'Join', btn_reserve: 'Reserve', btn_send: 'Send',
                search_placeholder: 'Search mountain, tour, hotel...',
                chat_tooltip: 'Need help?', chat_title: 'DagTur AI Assistant', chat_online: 'Online',
                chat_welcome: 'Hello! üëã I am the DagTur AI assistant. I can help you with information about mountains, tours and reservations. How can I help you?',
                chat_placeholder: 'Type your message...',
                chat_sug_tours: 'üèîÔ∏è Popular tours', chat_sug_shahdag: '‚õ∑Ô∏è Shahdag',
                chat_sug_prices: 'üí∞ Prices', chat_sug_reserve: 'üìù Reservation',
                fav_login_required: 'Please login to add to favorites!'
            },
            ru: {
                nav_home: '–ì–ª–∞–≤–Ω–∞—è', nav_map: '–ö–∞—Ä—Ç–∞', nav_mountains: '–ì–æ—Ä—ã',
                nav_tours: '–¢—É—Ä—ã', nav_hotels: '–û—Ç–µ–ª–∏', nav_contact: '–ö–æ–Ω—Ç–∞–∫—Ç—ã',
                hero_subtitle: '–û—Ç–∫—Ä–æ–π—Ç–µ –í–µ—Ä—à–∏–Ω—ã –ê–∑–µ—Ä–±–∞–π–¥–∂–∞–Ω–∞', hero_title: '–ì–æ—Ä–Ω—ã–π –¢—É—Ä–∏–∑–º',
                hero_desc: '–û—Ç –≤–µ–ª–∏—á–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –≤–µ—Ä—à–∏–Ω –ö–∞–≤–∫–∞–∑—Å–∫–∏—Ö –≥–æ—Ä –¥–æ –∑–µ–ª—ë–Ω—ã—Ö —Å–∫–ª–æ–Ω–æ–≤ –¢–∞–ª—ã—à—Å–∫–∏—Ö –≥–æ—Ä ‚Äî –æ—Ç–∫—Ä–æ–π—Ç–µ –¥–ª—è —Å–µ–±—è —Å–∞–º—ã–µ –∫—Ä–∞—Å–∏–≤—ã–µ –≥–æ—Ä–Ω—ã–µ –ø–µ–π–∑–∞–∂–∏ –ê–∑–µ—Ä–±–∞–π–¥–∂–∞–Ω–∞ –≤–º–µ—Å—Ç–µ —Å –Ω–∞–º–∏.',
                hero_btn_map: '–°–º–æ—Ç—Ä–µ—Ç—å –ö–∞—Ä—Ç—É', hero_btn_mountains: '–ì–æ—Ä—ã', scroll_down: '–í–Ω–∏–∑',
                map_tag: '–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –ö–∞—Ä—Ç–∞', map_title: '–û—Ç–∫—Ä–æ–π—Ç–µ –ì–æ—Ä—ã',
                map_desc: '–ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫—Ä–∞—Å–Ω—ã–µ —Ç–æ—á–∫–∏, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≥–æ—Ä–∞—Ö',
                mountains_tag: '–í–µ–ª–∏—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –í–µ—Ä—à–∏–Ω—ã', mountains_title: '–ì–æ—Ä—ã –ê–∑–µ—Ä–±–∞–π–¥–∂–∞–Ω–∞',
                tours_tag: '–ü—Ä–∏–∫–ª—é—á–µ–Ω–∏–µ –ñ–¥—ë—Ç –í–∞—Å', tours_title: '–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –¢—É—Ä—ã',
                tours_desc: '–ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Ç–µ—Å—å –∫ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏—é —Å–≤–æ–µ–π –∂–∏–∑–Ω–∏',
                hotels_tag: '–ö–æ–º—Ñ–æ—Ä—Ç–Ω—ã–π –û—Ç–¥—ã—Ö', hotels_title: '–û—Ç–µ–ª–∏ –∏ –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ',
                hotels_desc: '–†–æ—Å–∫–æ—à–Ω–æ–µ –ø—Ä–æ–∂–∏–≤–∞–Ω–∏–µ –≤ –≥–æ—Ä–Ω—ã—Ö –∫—É—Ä–æ—Ä—Ç–∞—Ö',
                contact_tag: '–°–≤—è–∂–∏—Ç–µ—Å—å —Å –ù–∞–º–∏', contact_title: '–ï—Å—Ç—å –í–æ–ø—Ä–æ—Å—ã?',
                contact_desc: '–ú—ã –∫ –≤–∞—à–∏–º —É—Å–ª—É–≥–∞–º 24/7',
                contact_hours: '–ß–∞—Å—ã –†–∞–±–æ—Ç—ã', contact_247: '–û—Ç–∫—Ä—ã—Ç–æ 24/7', contact_always: '–í—Å–µ–≥–¥–∞ –∫ –≤–∞—à–∏–º —É—Å–ª—É–≥–∞–º',
                btn_join: '–ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è', btn_reserve: '–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å', btn_send: '–û—Ç–ø—Ä–∞–≤–∏—Ç—å',
                search_placeholder: '–ü–æ–∏—Å–∫ –≥–æ—Ä, —Ç—É—Ä–æ–≤, –æ—Ç–µ–ª–µ–π...',
                chat_tooltip: '–ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å?', chat_title: '–î–∞–≥–¢—É—Ä AI –ü–æ–º–æ—â–Ω–∏–∫', chat_online: '–û–Ω–ª–∞–π–Ω',
                chat_welcome: '–ü—Ä–∏–≤–µ—Ç! üëã –Ø AI-–ø–æ–º–æ—â–Ω–∏–∫ DagTur. –ú–æ–≥—É –ø–æ–º–æ—á—å —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –≥–æ—Ä–∞—Ö, —Ç—É—Ä–∞—Ö –∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏. –ß–µ–º –º–æ–≥—É –ø–æ–º–æ—á—å?',
                chat_placeholder: '–ù–∞–ø–∏—à–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ...',
                chat_sug_tours: 'üèîÔ∏è –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ç—É—Ä—ã', chat_sug_shahdag: '‚õ∑Ô∏è –®–∞—Ö–¥–∞–≥',
                chat_sug_prices: 'üí∞ –¶–µ–Ω—ã', chat_sug_reserve: 'üìù –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ',
                fav_login_required: '–í–æ–π–¥–∏—Ç–µ, —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ!'
            },
            tr: {
                nav_home: 'Ana Sayfa', nav_map: 'Harita', nav_mountains: 'Daƒülar',
                nav_tours: 'Turlar', nav_hotels: 'Oteller', nav_contact: 'ƒ∞leti≈üim',
                hero_subtitle: 'Azerbaycan\'ƒ±n Zirvelerini Ke≈üfet', hero_title: 'Daƒü Turizmi',
                hero_desc: 'Kafkas daƒülarƒ±nƒ±n g√∂rkemli zirvelerinden Talƒ±≈ü daƒülarƒ±nƒ±n ye≈üil yama√ßlarƒ±na kadar ‚Äî Azerbaycan\'ƒ±n en g√ºzel daƒü manzaralarƒ±nƒ± bizimle ke≈üfedin.',
                hero_btn_map: 'Haritaya Bak', hero_btn_mountains: 'Daƒülar', scroll_down: 'A≈üaƒüƒ±',
                map_tag: 'ƒ∞nteraktif Harita', map_title: 'Daƒülarƒ± Ke≈üfet',
                map_desc: 'Kƒ±rmƒ±zƒ± noktalara tƒ±klayarak daƒülar hakkƒ±nda bilgi alƒ±n',
                mountains_tag: 'G√∂rkemli Zirveler', mountains_title: 'Azerbaycan Daƒülarƒ±',
                tours_tag: 'Macera Seni Bekliyor', tours_title: 'Pop√ºler Turlar',
                tours_desc: 'Hayatƒ±nƒ±zƒ±n macerasƒ±na katƒ±lƒ±n',
                hotels_tag: 'Rahat Konaklama', hotels_title: 'Oteller & Rezervasyon',
                hotels_desc: 'Daƒü tatil k√∂ylerinde l√ºks konaklama',
                contact_tag: 'Bize Ula≈üƒ±n', contact_title: 'Sorunuz mu Var?',
                contact_desc: '7/24 hizmetinizdeyiz',
                contact_hours: '√áalƒ±≈üma Saatleri', contact_247: '7/24 A√ßƒ±k', contact_always: 'Her zaman hizmetinizde',
                btn_join: 'Katƒ±l', btn_reserve: 'Rezerve Et', btn_send: 'G√∂nder',
                search_placeholder: 'Daƒü, tur, otel ara...',
                chat_tooltip: 'Yardƒ±m lazƒ±m mƒ±?', chat_title: 'DaƒüTur AI Asistan', chat_online: '√áevrimi√ßi',
                chat_welcome: 'Merhaba! üëã Ben DagTur AI asistanƒ±yƒ±m. Daƒülar, turlar ve rezervasyonlar hakkƒ±nda bilgi verebilirim. Nasƒ±l yardƒ±mcƒ± olabilirim?',
                chat_placeholder: 'Mesajƒ±nƒ±zƒ± yazƒ±n...',
                chat_sug_tours: 'üèîÔ∏è Pop√ºler turlar', chat_sug_shahdag: '‚õ∑Ô∏è ≈ûahdaƒü',
                chat_sug_prices: 'üí∞ Fiyatlar', chat_sug_reserve: 'üìù Rezervasyon',
                fav_login_required: 'Favorilere eklemek i√ßin giri≈ü yapƒ±n!'
            }
        };

        let currentLang = localStorage.getItem('dagtur_lang') || 'az';
        const langFlags = { az: 'üá¶üáø', en: 'üá¨üáß', ru: 'üá∑üá∫', tr: 'üáπüá∑' };
        
        function setLanguage(lang) {
            currentLang = lang;
            localStorage.setItem('dagtur_lang', lang);
            const t = translations[lang];
            
            // Update all elements with data-lang-key
            document.querySelectorAll('[data-lang-key]').forEach(el => {
                const key = el.dataset.langKey;
                if (t[key]) el.textContent = t[key];
            });
            
            // Update placeholders
            document.querySelectorAll('[data-lang-placeholder]').forEach(el => {
                const key = el.dataset.langPlaceholder;
                if (t[key]) el.placeholder = t[key];
            });
            
            // Update lang button
            document.querySelector('.lang-btn .lang-flag').textContent = langFlags[lang];
            document.querySelector('.lang-btn .lang-code').textContent = lang.toUpperCase();
            
            // Update active state
            document.querySelectorAll('.lang-option').forEach(opt => {
                opt.classList.toggle('active', opt.dataset.lang === lang);
            });
            
            // Update document title
            const titles = { az: 'Daƒü Turizmi | Az…ôrbaycan', en: 'Mountain Tourism | Azerbaijan', 
                           ru: '–ì–æ—Ä–Ω—ã–π –¢—É—Ä–∏–∑–º | –ê–∑–µ—Ä–±–∞–π–¥–∂–∞–Ω', tr: 'Daƒü Turizmi | Azerbaycan' };
            document.title = titles[lang];
        }
        
        // Language dropdown toggle
        document.getElementById('langBtn')?.addEventListener('click', (e) => {
            e.stopPropagation();
            document.getElementById('langDropdown').classList.toggle('show');
        });
        
        // Language selection
        document.querySelectorAll('.lang-option').forEach(btn => {
            btn.addEventListener('click', () => {
                setLanguage(btn.dataset.lang);
                document.getElementById('langDropdown').classList.remove('show');
            });
        });
        
        // Close dropdown on outside click
        document.addEventListener('click', () => {
            document.getElementById('langDropdown')?.classList.remove('show');
        });
        
        // Load saved language
        setLanguage(currentLang);
        
        // ==================== SEARCH SYSTEM ====================
        const searchData = [
            { type: 'mountain', name: 'Bazard√ºz√º', alt: '4466m', id: 'bazarduzu' },
            { type: 'mountain', name: '≈ûahdaƒü', alt: '4243m', id: 'shahdag' },
            { type: 'mountain', name: 'Tufandaƒü', alt: '4191m', id: 'tufandag' },
            { type: 'mountain', name: 'Babadaƒü', alt: '3629m', id: 'babadag' },
            { type: 'mountain', name: 'Xƒ±nalƒ±q', alt: '2350m', id: 'xinaliq' },
            { type: 'mountain', name: 'Lahƒ±c', alt: '1200m', id: 'lahic' },
            { type: 'mountain', name: 'K…ôp…ôz', alt: '3066m', id: 'kapaz' },
            { type: 'mountain', name: 'Murovdaƒü', alt: '3724m', id: 'murovdag' },
            { type: 'tour', name: 'Bazard√ºz√º Ekspedisiyasƒ±', price: '‚Çº1200', id: 'bazarduzu' },
            { type: 'tour', name: '≈ûahdaƒü Qƒ±≈ü Turu', price: '‚Çº450', id: 'shahdag' },
            { type: 'tour', name: 'Xƒ±nalƒ±q Trekkinqi', price: '‚Çº350', id: 'xinaliq' },
            { type: 'tour', name: 'Q…ôb…ôl…ô Ail…ôvi Tur', price: '‚Çº280', id: 'gabala' },
            { type: 'hotel', name: '≈ûahdaƒü Resort', stars: '‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ', id: 'shahdag-resort' },
            { type: 'hotel', name: 'Tufandaƒü Mountain Resort', stars: '‚òÖ‚òÖ‚òÖ‚òÖ', id: 'tufandag-resort' },
            { type: 'hotel', name: 'Quba Palace Hotel', stars: '‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ', id: 'quba-palace' }
        ];
        
        function toggleSearch() {
            const searchBox = document.getElementById('searchBox');
            searchBox.classList.toggle('active');
            if (searchBox.classList.contains('active')) {
                document.getElementById('searchInput').focus();
            }
        }
        
        function handleSearch(e) {
            const query = e.target.value.toLowerCase().trim();
            const results = document.getElementById('searchResults');
            
            if (query.length < 2) {
                results.innerHTML = '';
                results.classList.remove('active');
                return;
            }
            
            const filtered = searchData.filter(item => 
                item.name.toLowerCase().includes(query)
            );
            
            if (filtered.length === 0) {
                results.innerHTML = '<div class="search-no-result">N…ôtic…ô tapƒ±lmadƒ±</div>';
            } else {
                results.innerHTML = filtered.map(item => {
                    const icon = item.type === 'mountain' ? 'üèîÔ∏è' : item.type === 'tour' ? 'üéø' : 'üè®';
                    const detail = item.alt || item.price || item.stars;
                    return `<div class="search-item" onclick="goToResult('${item.type}', '${item.id}')">
                        <span class="search-icon">${icon}</span>
                        <span class="search-name">${item.name}</span>
                        <span class="search-detail">${detail}</span>
                    </div>`;
                }).join('');
            }
            results.classList.add('active');
        }
        
        function goToResult(type, id) {
            document.getElementById('searchBox').classList.remove('active');
            document.getElementById('searchInput').value = '';
            document.getElementById('searchResults').classList.remove('active');
            
            if (type === 'mountain') {
                openModal(id);
            } else if (type === 'tour') {
                document.getElementById('tours').scrollIntoView({ behavior: 'smooth' });
            } else if (type === 'hotel') {
                document.getElementById('hotels').scrollIntoView({ behavior: 'smooth' });
            }
        }
        
        function performSearch() {
            const query = document.getElementById('searchInput').value;
            if (query.trim()) handleSearch({ target: { value: query } });
        }
        
        // Close search on outside click
        document.addEventListener('click', (e) => {
            const searchBox = document.getElementById('searchBox');
            const searchToggle = document.getElementById('searchToggle');
            if (!searchBox?.contains(e.target) && !searchToggle?.contains(e.target)) {
                searchBox?.classList.remove('active');
            }
        });

        // ==================== HERO BACKGROUND IMAGES ====================
        const heroImages = [
            'https://images.unsplash.com/photo-1519681393784-d120267933ba?q=80&w=2070',
            'https://images.unsplash.com/photo-1464822759023-fed622ff2c3b?q=80&w=2070',
            'https://images.unsplash.com/photo-1486870591958-9b9d0d1dda99?q=80&w=2070',
            'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?q=80&w=2070',
            'https://images.unsplash.com/photo-1454496522488-7a8e488e8606?q=80&w=2076',
            'https://images.unsplash.com/photo-1483728642387-6c3bdd6c93e5?q=80&w=2076',
            'https://images.unsplash.com/photo-1491002052546-bf38f186af56?q=80&w=2083',
            'https://images.unsplash.com/photo-1464278533981-50106e6176b1?q=80&w=2074'
        ];

        function setRandomHeroImage() {
            const randomIndex = Math.floor(Math.random() * heroImages.length);
            const heroImg = document.querySelector('.hero-img');
            if (heroImg) {
                heroImg.style.backgroundImage = `url('${heroImages[randomIndex]}')`;
            }
        }

        // Set random image on page load
        setRandomHeroImage();

        // ==================== AI CHATBOT ====================
        let chatOpened = false;
        
        function toggleChat() {
            const chatbot = document.getElementById('aiChatbot');
            chatbot.classList.toggle('open');
            if (chatbot.classList.contains('open')) {
                chatOpened = true;
                document.getElementById('chatBadge').style.display = 'none';
            }
        }

        function sendChatMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            if (!message) return;

            addMessage(message, 'user');
            input.value = '';
            
            // Hide suggestions after first message
            document.getElementById('chatSuggestions').style.display = 'none';

            // Show typing indicator
            const typingDiv = document.createElement('div');
            typingDiv.className = 'chat-message bot typing';
            typingDiv.innerHTML = '<div class="message-avatar">ü§ñ</div><div class="message-content typing-dots"><span></span><span></span><span></span></div>';
            document.getElementById('chatMessages').appendChild(typingDiv);

            setTimeout(() => {
                typingDiv.remove();
                const response = getAIResponse(message);
                addMessage(response, 'bot');
            }, 1000 + Math.random() * 500);
        }

        function sendSuggestion(text) {
            document.getElementById('chatInput').value = text;
            sendChatMessage();
        }

        function handleChatKeypress(e) {
            if (e.key === 'Enter') sendChatMessage();
        }

        function addMessage(text, sender) {
            const messagesDiv = document.getElementById('chatMessages');
            const msgDiv = document.createElement('div');
            msgDiv.className = `chat-message ${sender}`;
            const avatar = sender === 'bot' ? '<div class="message-avatar">ü§ñ</div>' : '';
            msgDiv.innerHTML = `${avatar}<div class="message-content">${text}</div>`;
            messagesDiv.appendChild(msgDiv);
            messagesDiv.scrollTop = messagesDiv.scrollHeight;
        }

        function getAIResponse(message) {
            const msg = message.toLowerCase().trim();
            
            // Greetings
            if (/^(salam|salamlar|hello|hi|hey|merhaba|–ø—Ä–∏–≤–µ—Ç|–∑–¥—Ä–∞–≤—Å—Ç–≤—É–π)/.test(msg)) {
                return 'Salam! üòä M…ôn DaƒüTur AI k√∂m…ôk√ßisiy…ôm. Siz…ô turlar, otell…ôr, daƒülar v…ô qiym…ôtl…ôr haqqƒ±nda k√∂m…ôk ed…ô bil…ôr…ôm. N…ô il…ô maraqlanƒ±rsƒ±nƒ±z?';
            }
            
            // Thanks
            if (/^(saƒü ol|t…ô≈ü…ôkk√ºr|tesekkur|thanks|thank you|—Å–ø–∞—Å–∏–±–æ)/.test(msg)) {
                return 'D…ôym…ôz! üòä Ba≈üqa sualƒ±nƒ±z varsa, xo≈üb…ôxtlikl…ô cavablandƒ±raram. Yax≈üƒ± s…ôyah…ôtl…ôr! üèîÔ∏è';
            }
            
            // Goodbye
            if (/^(g√∂r√º≈ü…ôn…ô|h…ôl…ôlik|bye|goodbye|saƒü ol|–ø–æ–∫–∞)/.test(msg)) {
                return 'G√∂r√º≈ü…ôn…ôd…ôk! üëã DaƒüTur il…ô unudulmaz s…ôyah…ôtl…ôr arzulayƒ±ram! üèîÔ∏è‚ú®';
            }
            
            // How are you
            if (msg.includes('nec…ôs…ôn') || msg.includes('n…ô var') || msg.includes('how are')) {
                return 'Yax≈üƒ±yam, t…ô≈ü…ôkk√ºr edir…ôm! üòä Siz…ô k√∂m…ôk etm…ôy…ô hazƒ±ram. Hansƒ± daƒü v…ô ya tur haqqƒ±nda m…ôlumat ist…ôyirsiniz?';
            }
            
            // Tours
            if (msg.includes('tur') || msg.includes('populyar') || msg.includes('tour') || msg.includes('—Ç—É—Ä')) {
                return 'üèîÔ∏è <b>∆èn populyar turlarƒ±mƒ±z:</b>\n\n' +
                    '1Ô∏è‚É£ <b>Bazard√ºz√º Ekspedisiyasƒ±</b> - ‚Çº1200\n   ‚Ä¢ 7 g√ºn, professional b…ôl…ôd√ßi\n\n' +
                    '2Ô∏è‚É£ <b>≈ûahdaƒü Qƒ±≈ü Turu</b> - ‚Çº450\n   ‚Ä¢ 3 g√ºn, otel+lift daxil\n\n' +
                    '3Ô∏è‚É£ <b>Xƒ±nalƒ±q Trekkinqi</b> - ‚Çº350\n   ‚Ä¢ 3 g√ºn, ev qonaƒüƒ±\n\n' +
                    '4Ô∏è‚É£ <b>Q…ôb…ôl…ô Ail…ôvi Tur</b> - ‚Çº280\n   ‚Ä¢ 2 g√ºn, Tufandaƒü daxil\n\n' +
                    'Hansƒ± tur haqqƒ±nda …ôtraflƒ± m…ôlumat ist…ôyirsiniz? üéø';
            }
            
            // Shahdag
            if (msg.includes('≈üahdaƒü') || msg.includes('shahdag') || msg.includes('≈üahdag')) {
                return '‚õ∑Ô∏è <b>≈ûahdaƒü</b> - Az…ôrbaycanƒ±n …ôn m…ô≈ühur qƒ±≈ü kurortu!\n\n' +
                    'üìç <b>M…ôlumat:</b>\n' +
                    '‚Ä¢ H√ºnd√ºrl√ºk: 4243 m\n' +
                    '‚Ä¢ M√∂vs√ºm: Noyabr - Aprel\n' +
                    '‚Ä¢ 14 xiz…ôk pisti\n' +
                    '‚Ä¢ 6 kanat yolu\n\n' +
                    'üè® <b>Otell…ôr:</b>\n' +
                    '‚Ä¢ ≈ûahdaƒü Resort ‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ - ‚Çº250/gec…ô\n' +
                    '‚Ä¢ PIK Palace ‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ - ‚Çº280/gec…ô\n\n' +
                    'üéø <b>3 g√ºnl√ºk tur:</b> ‚Çº450\n' +
                    '(otel, lift, transfer daxil)\n\n' +
                    'Rezervasiya etm…ôk ist…ôyirsiniz? üìù';
            }
            
            // Bazarduzu
            if (msg.includes('bazard√ºz√º') || msg.includes('bazarduzu')) {
                return 'üèîÔ∏è <b>Bazard√ºz√º</b> - Az…ôrbaycanƒ±n …ôn h√ºnd√ºr zirv…ôsi!\n\n' +
                    'üìç <b>M…ôlumat:</b>\n' +
                    '‚Ä¢ H√ºnd√ºrl√ºk: 4466 m\n' +
                    '‚Ä¢ √á…ôtinlik: Y√ºks…ôk\n' +
                    '‚Ä¢ ∆èn yax≈üƒ± m√∂vs√ºm: ƒ∞yun-Avqust\n' +
                    '‚Ä¢ M…ôkan: Qusar rayonu\n\n' +
                    'üéí <b>7 g√ºnl√ºk ekspedisiya:</b> ‚Çº1200\n' +
                    '‚Ä¢ Professional b…ôl…ôd√ßi\n' +
                    '‚Ä¢ Avadanlƒ±q\n' +
                    '‚Ä¢ Qidalanma\n' +
                    '‚Ä¢ Sƒ±ƒüorta daxil\n\n' +
                    '‚ö†Ô∏è Fiziki hazƒ±rlƒ±q t…ôl…ôb olunur!';
            }
            
            // Khinalig
            if (msg.includes('xƒ±nalƒ±q') || msg.includes('xinaliq') || msg.includes('khinalig')) {
                return 'üèòÔ∏è <b>Xƒ±nalƒ±q</b> - D√ºnyanƒ±n …ôn q…ôdim ya≈üayƒ±≈ü yerl…ôrind…ôn!\n\n' +
                    'üìç <b>M…ôlumat:</b>\n' +
                    '‚Ä¢ H√ºnd√ºrl√ºk: 2350 m\n' +
                    '‚Ä¢ Ya≈ü: 5000+ il\n' +
                    '‚Ä¢ Unikal dil v…ô m…ôd…ôniyy…ôt\n' +
                    '‚Ä¢ UNESCO namiz…ôdi\n\n' +
                    'üè° <b>3 g√ºnl√ºk tur:</b> ‚Çº350\n' +
                    '‚Ä¢ Ev qonaƒüƒ± t…ôcr√ºb…ôsi\n' +
                    '‚Ä¢ Milli yem…ôk\n' +
                    '‚Ä¢ M…ôd…ôni tur\n' +
                    '‚Ä¢ Fotoqraf daxil\n\n' +
                    'H…ôqiqi Az…ôrbaycan m…ôd…ôniyy…ôtini ya≈üamaq ist…ôyirsiniz? üé≠';
            }
            
            // Tufandag / Gabala
            if (msg.includes('tufandaƒü') || msg.includes('tufandag') || msg.includes('q…ôb…ôl…ô') || msg.includes('gabala')) {
                return 'üå≤ <b>Tufandaƒü / Q…ôb…ôl…ô</b> - Ail…ô dostu kurort!\n\n' +
                    'üìç <b>M…ôlumat:</b>\n' +
                    '‚Ä¢ H√ºnd√ºrl√ºk: 4191 m\n' +
                    '‚Ä¢ 3.5 km kanat yolu\n' +
                    '‚Ä¢ 4 m√∂vs√ºm aktiv\n\n' +
                    'üé¢ <b>Aktivl…ôr:</b>\n' +
                    '‚Ä¢ Zipline\n' +
                    '‚Ä¢ At g…ôzintisi\n' +
                    '‚Ä¢ Q…ôb…ôl…ô Land\n' +
                    '‚Ä¢ Nohur G√∂l√º\n\n' +
                    'üë®‚Äçüë©‚Äçüëß‚Äçüë¶ <b>2 g√ºnl√ºk ail…ô turu:</b> ‚Çº280\n' +
                    'U≈üaqlar √º√ß√ºn ideal! üé†';
            }
            
            // Prices
            if (msg.includes('qiym…ôt') || msg.includes('nece') || msg.includes('price') || msg.includes('—Ü–µ–Ω–∞') || msg.includes('fiyat') || msg.includes('ucuz') || msg.includes('bahalƒ±')) {
                return 'üí∞ <b>Qiym…ôt siyahƒ±sƒ±:</b>\n\n' +
                    'üéø <b>Turlar:</b>\n' +
                    '‚Ä¢ Q…ôb…ôl…ô Ail…ôvi: ‚Çº280\n' +
                    '‚Ä¢ Xƒ±nalƒ±q Trekkinq: ‚Çº350\n' +
                    '‚Ä¢ ≈ûahdaƒü Qƒ±≈ü: ‚Çº450\n' +
                    '‚Ä¢ Bazard√ºz√º Ekspedisiya: ‚Çº1200\n\n' +
                    'üè® <b>Otell…ôr (gec…ôlik):</b>\n' +
                    '‚Ä¢ Xƒ±nalƒ±q Ev Qonaƒüƒ±: ‚Çº80\n' +
                    '‚Ä¢ Tufandaƒü Resort: ‚Çº180\n' +
                    '‚Ä¢ ≈ûahdaƒü Resort: ‚Çº250\n' +
                    '‚Ä¢ Quba Palace: ‚Çº320\n\n' +
                    'üí° <b>B√ºdc…ôniz?</b> M…ôn siz…ô uyƒüun variant tapƒ±m!';
            }
            
            // Hotels
            if (msg.includes('otel') || msg.includes('hotel') || msg.includes('qalmaq') || msg.includes('–≥–æ—Å—Ç–∏–Ω–∏—Ü–∞')) {
                return 'üè® <b>T√∂vsiy…ô olunan otell…ôr:</b>\n\n' +
                    '‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê <b>≈ûahdaƒü Resort</b>\n' +
                    '‚Ä¢ ‚Çº250/gec…ô ‚Ä¢ SPA, hovuz, ski-in\n\n' +
                    '‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê <b>Quba Palace</b>\n' +
                    '‚Ä¢ ‚Çº320/gec…ô ‚Ä¢ 3 restoran, kazino\n\n' +
                    '‚≠ê‚≠ê‚≠ê‚≠ê <b>Tufandaƒü Resort</b>\n' +
                    '‚Ä¢ ‚Çº180/gec…ô ‚Ä¢ Kanat yolu yaxƒ±n\n\n' +
                    '‚≠ê‚≠ê‚≠ê <b>Xƒ±nalƒ±q Ev Qonaƒüƒ±</b>\n' +
                    '‚Ä¢ ‚Çº80/gec…ô ‚Ä¢ Avtentik t…ôcr√ºb…ô\n\n' +
                    'Hansƒ± otel maraqlandƒ±rƒ±r? üõéÔ∏è';
            }
            
            // Reservation
            if (msg.includes('rezerv') || msg.includes('sifari≈ü') || msg.includes('booking') || msg.includes('–±—Ä–æ–Ω—å')) {
                return 'üìù <b>Rezervasiya √ºsullarƒ±:</b>\n\n' +
                    '1Ô∏è‚É£ <b>Online:</b>\n' +
                    '   ‚Ä¢ Yuxarƒ±da "Turlar" b√∂lm…ôsi\n' +
                    '   ‚Ä¢ "Qo≈üul" d√ºym…ôsin…ô basƒ±n\n' +
                    '   ‚Ä¢ Formu doldurun\n\n' +
                    '2Ô∏è‚É£ <b>Telefon:</b>\n' +
                    '   üìû +994 12 345 67 89\n' +
                    '   üì± +994 50 123 45 67\n\n' +
                    '3Ô∏è‚É£ <b>WhatsApp:</b>\n' +
                    '   üí¨ +994 50 123 45 67\n\n' +
                    '‚è∞ 7/24 xidm…ôtinizd…ôyik!';
            }
            
            // Weather
            if (msg.includes('hava') || msg.includes('weather') || msg.includes('–ø–æ–≥–æ–¥–∞') || msg.includes('n…ô vaxt') || msg.includes('m√∂vs√ºm')) {
                return 'üå§Ô∏è <b>∆èn yax≈üƒ± m√∂vs√ºml…ôr:</b>\n\n' +
                    '‚ùÑÔ∏è <b>Qƒ±≈ü (Dek-Mar):</b>\n' +
                    '‚Ä¢ ≈ûahdaƒü xiz…ôk\n' +
                    '‚Ä¢ Tufandaƒü qar\n\n' +
                    'üå∏ <b>Yaz (Apr-May):</b>\n' +
                    '‚Ä¢ Lahƒ±c g…ôzintisi\n' +
                    '‚Ä¢ Xƒ±nalƒ±q trekkinq\n\n' +
                    '‚òÄÔ∏è <b>Yay (ƒ∞yun-Avq):</b>\n' +
                    '‚Ä¢ Bazard√ºz√º ekspedisiya\n' +
                    '‚Ä¢ B√ºt√ºn daƒülar a√ßƒ±q\n\n' +
                    'üçÇ <b>Payƒ±z (Sen-Noy):</b>\n' +
                    '‚Ä¢ M…ônz…ôr…ôli trekkinq\n' +
                    '‚Ä¢ Az turist\n\n' +
                    'Hansƒ± m√∂vs√ºmd…ô g…ôlm…ôk ist…ôyirsiniz? üìÖ';
            }
            
            // Contact
            if (msg.includes('…ôlaq…ô') || msg.includes('telefon') || msg.includes('contact') || msg.includes('—Å–≤—è–∑—å') || msg.includes('n√∂mr…ô')) {
                return 'üìû <b>∆èlaq…ô m…ôlumatlarƒ±:</b>\n\n' +
                    'üìç <b>√únvan:</b>\n' +
                    'Bakƒ±, Nizami k√º√ß…ôsi 45\n\n' +
                    'üìû <b>Telefon:</b>\n' +
                    '+994 12 345 67 89\n' +
                    '+994 50 123 45 67\n\n' +
                    '‚úâÔ∏è <b>E-po√ßt:</b>\n' +
                    'info@dagtur.az\n' +
                    'booking@dagtur.az\n\n' +
                    'üí¨ <b>Sosial:</b>\n' +
                    '@dagtur_az (Instagram)\n\n' +
                    '‚è∞ 7/24 sizin xidm…ôtinizd…ôyik!';
            }
            
            // Location / How to get
            if (msg.includes('nec…ô get') || msg.includes('yol') || msg.includes('harada') || msg.includes('where') || msg.includes('–∫–∞–∫ –¥–æ–µ—Ö–∞—Ç—å')) {
                return 'üöó <b>N…ôqliyyat m…ôlumatlarƒ±:</b>\n\n' +
                    'üèîÔ∏è <b>≈ûahdaƒü:</b>\n' +
                    '‚Ä¢ Bakƒ±dan 3.5 saat\n' +
                    '‚Ä¢ Qusar ≈ü…ôh…ôrind…ôn 30 d…ôq\n\n' +
                    'üèîÔ∏è <b>Q…ôb…ôl…ô/Tufandaƒü:</b>\n' +
                    '‚Ä¢ Bakƒ±dan 3 saat\n\n' +
                    'üèîÔ∏è <b>Xƒ±nalƒ±q:</b>\n' +
                    '‚Ä¢ Bakƒ±dan 4 saat\n' +
                    '‚Ä¢ Quba-dan 1.5 saat\n\n' +
                    'üöê B√ºt√ºn turlarƒ±mƒ±zda <b>transfer daxildir!</b>';
            }
            
            // Difficulty
            if (msg.includes('√ß…ôtin') || msg.includes('asan') || msg.includes('difficult') || msg.includes('easy') || msg.includes('ba≈ülayanlar')) {
                return 'üìä <b>√á…ôtinlik s…ôviyy…ôl…ôri:</b>\n\n' +
                    'üü¢ <b>Asan (Ba≈ülayanlar √º√ß√ºn):</b>\n' +
                    '‚Ä¢ Q…ôb…ôl…ô Ail…ôvi Tur\n' +
                    '‚Ä¢ Lahƒ±c G…ôzintisi\n' +
                    '‚Ä¢ Be≈übarmaq\n\n' +
                    'üü° <b>Orta:</b>\n' +
                    '‚Ä¢ Xƒ±nalƒ±q Trekkinqi\n' +
                    '‚Ä¢ Babadaƒü\n' +
                    '‚Ä¢ ≈ûahdaƒü Turu\n\n' +
                    'üî¥ <b>√á…ôtin (T…ôcr√ºb…ôli):</b>\n' +
                    '‚Ä¢ Bazard√ºz√º Ekspedisiyasƒ±\n' +
                    '‚Ä¢ Murovdaƒü\n\n' +
                    'T…ôcr√ºb…ôniz hansƒ± s…ôviyy…ôd…ôdir? ü•æ';
            }
            
            // What to bring
            if (msg.includes('g√∂t√ºr') || msg.includes('lazƒ±m') || msg.includes('hazƒ±rlan') || msg.includes('bring') || msg.includes('pack')) {
                return 'üéí <b>N…ô g√∂t√ºrm…ôli:</b>\n\n' +
                    'üëü <b>Geyim:</b>\n' +
                    '‚Ä¢ Trekking ayaqqabƒ±\n' +
                    '‚Ä¢ Qatlanan g√∂d…ôk√ß…ô\n' +
                    '‚Ä¢ G√ºn…ô≈ü eyn…ôyi\n\n' +
                    'üì¶ <b>Avadanlƒ±q:</b>\n' +
                    '‚Ä¢ Bel √ßantasƒ± (20-30L)\n' +
                    '‚Ä¢ Su ≈ü√º≈ü…ôsi\n' +
                    '‚Ä¢ G√ºn…ô≈ü kremi\n\n' +
                    'üí° <b>Qeyd:</b> Turlarƒ±mƒ±zda …ôsas avadanlƒ±q t…ômin olunur!\n\n' +
                    'Konkret tur √º√ß√ºn siyahƒ± lazƒ±mdƒ±r? üìã';
            }
            
            // Default - smart fallback
            const keywords = msg.split(' ').filter(w => w.length > 3);
            if (keywords.some(k => Object.keys(mountains).some(m => m.includes(k) || mountains[m].name.toLowerCase().includes(k)))) {
                return 'üèîÔ∏è Bu daƒü haqqƒ±nda m…ôlumat almaq ist…ôyirsiniz? X…ôrit…ôd…ô h…ômin daƒüa basa bil…ôrsiniz v…ô ya konkret adƒ±nƒ± yazƒ±n (m…ôs: ≈ûahdaƒü, Bazard√ºz√º, Xƒ±nalƒ±q)';
            }
            
            return 'ü§ñ <b>M…ôn siz…ô k√∂m…ôk ed…ô bil…ôr…ôm:</b>\n\n' +
                'üèîÔ∏è Daƒülar haqqƒ±nda m…ôlumat\n' +
                'üéø Turlar v…ô qiym…ôtl…ôr\n' +
                'üè® Otel t√∂vsiy…ôl…ôri\n' +
                'üìù Rezervasiya k√∂m…ôyi\n' +
                'üå§Ô∏è M√∂vs√ºm m…ôsl…ôh…ôtl…ôri\n' +
                'üìû ∆èlaq…ô m…ôlumatlarƒ±\n\n' +
                'Yuxarƒ±dakƒ±lardan birini se√ßin v…ô ya sualƒ±nƒ±zƒ± yazƒ±n! üòä';
        }
    </script>
</body>
</html>
