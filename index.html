<!DOCTYPE html>
<html lang="az">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PeakExplorer |   AzÉ™rbaycan</title>
    <link rel="stylesheet" href="./style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Montserrat:wght@300;400;500;600&display=swap" rel="stylesheet">
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet-routing-machine@3.2.12/dist/leaflet-routing-machine.css" />
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <a href="javascript:location.reload()" class="logo" style="text-decoration: none; color: inherit;">
            <span class="logo-icon">â›°ï¸</span>
            <span class="logo-text">PeakExplorer</span>
        </a>
        <ul class="nav-links">
            <li><a href="#home" data-lang-az="Ana SÉ™hifÉ™" data-lang-en="Home" data-lang-ru="Ğ“Ğ»Ğ°Ğ²Ğ½Ğ°Ñ" data-lang-tr="Ana Sayfa">Ana SÉ™hifÉ™</a></li>
            <li><a href="#mountains" data-lang-az="DaÄŸlar" data-lang-en="Mountains" data-lang-ru="Ğ“Ğ¾Ñ€Ñ‹" data-lang-tr="DaÄŸlar">DaÄŸlar</a></li>
            <li class="nav-dropdown-item">
                <a href="#tours" class="nav-dropdown-trigger" data-lang-az="Turlar" data-lang-en="Tours" data-lang-ru="Ğ¢ÑƒÑ€Ñ‹" data-lang-tr="Turlar">Turlar â–¾</a>
                <div class="nav-submenu">
                    <a href="#tours" class="submenu-item" data-lang-az="Popular Turlar" data-lang-en="Popular Tours">
                        <span class="submenu-icon">ğŸŒŸ</span>
                        <span>Popular Turlar</span>
                    </a>
                    <a href="hotels.html" class="submenu-item" data-lang-az="OtellÉ™r" data-lang-en="Hotels">
                        <span class="submenu-icon">ğŸ¨</span>
                        <span>OtellÉ™r</span>
                    </a>
                    <a href="restaurants.html" class="submenu-item" data-lang-az="Restoranlar" data-lang-en="Restaurants">
                        <span class="submenu-icon">ğŸ½ï¸</span>
                        <span>Restoranlar</span>
                    </a>
                    <a href="car-rental.html" class="submenu-item" data-lang-az="MaÅŸÄ±n KirayÉ™si" data-lang-en="Car Rental">
                        <span class="submenu-icon">ğŸš—</span>
                        <span>MaÅŸÄ±n KirayÉ™si</span>
                    </a>
                </div>
            </li>
            <li><a href="#map" data-lang-az="XÉ™ritÉ™" data-lang-en="Map" data-lang-ru="ĞšĞ°Ñ€Ñ‚Ğ°" data-lang-tr="Harita">XÉ™ritÉ™</a></li>
            <li><a href="#gallery" data-lang-az="Qalereya" data-lang-en="Gallery" data-lang-ru="Ğ“Ğ°Ğ»ĞµÑ€ĞµÑ" data-lang-tr="Galeri">Qalereya</a></li>
        </ul>
        <div class="nav-actions">
            <!-- Search -->
            <div class="nav-search">
                <button class="search-toggle-btn" id="searchToggleBtn" title="Axtar">ğŸ”</button>
            </div>
            
            <!-- Menu Dropdown -->
            <div class="nav-dropdown menu-dropdown">
                <button class="nav-dropdown-btn" id="menuDropdownBtn">
                    <span>â˜°</span>
                    <span data-lang-az="Menyu" data-lang-en="Menu" data-lang-ru="ĞœĞµĞ½Ñ" data-lang-tr="MenÃ¼">Menyu</span>
                </button>
                <div class="nav-dropdown-content" id="menuDropdownContent">
                    <a href="about.html" data-lang-az="HaqqÄ±mÄ±zda" data-lang-en="About Us" data-lang-ru="Ğ Ğ½Ğ°Ñ" data-lang-tr="HakkÄ±mÄ±zda">HaqqÄ±mÄ±zda</a>
                    <a href="contact.html" data-lang-az="ÆlaqÉ™" data-lang-en="Contact" data-lang-ru="ĞšĞ¾Ğ½Ñ‚Ğ°ĞºÑ‚Ñ‹" data-lang-tr="Ä°letiÅŸim">ÆlaqÉ™</a>
                    <a href="blog.html" data-lang-az="Blog" data-lang-en="Blog" data-lang-ru="Ğ‘Ğ»Ğ¾Ğ³" data-lang-tr="Blog">Blog</a>
                    <a href="faq.html" data-lang-az="FAQ" data-lang-en="FAQ" data-lang-ru="FAQ" data-lang-tr="SSS">FAQ</a>
                </div>
            </div>
            
            <!-- Dil seÃ§imi Dropdown -->
            <div class="nav-dropdown lang-dropdown">
                <button class="nav-dropdown-btn" id="langDropdownBtn">
                    <span class="lang-current">AZ</span>
                </button>
                <div class="nav-dropdown-content" id="langDropdownContent">
                    <button class="lang-option active" data-lang="az">
                        <span class="lang-flag">ğŸ‡¦ğŸ‡¿</span>
                        <span>AzÉ™rbaycan</span>
                    </button>
                    <button class="lang-option" data-lang="en">
                        <span class="lang-flag">ğŸ‡¬ğŸ‡§</span>
                        <span>English</span>
                    </button>
                    <button class="lang-option" data-lang="ru">
                        <span class="lang-flag">ğŸ‡·ğŸ‡º</span>
                        <span>Ğ ÑƒÑÑĞºĞ¸Ğ¹</span>
                    </button>
                    <button class="lang-option" data-lang="tr">
                        <span class="lang-flag">ğŸ‡¹ğŸ‡·</span>
                        <span>TÃ¼rkÃ§e</span>
                    </button>
                </div>
            </div>
            
            <!-- Auth buttons -->
            <div class="auth-buttons" id="authButtons">
                <button class="auth-btn login-btn" id="loginBtn" data-lang-az="GiriÅŸ" data-lang-en="Login" data-lang-ru="Ğ’Ñ…Ğ¾Ğ´" data-lang-tr="GiriÅŸ">GiriÅŸ</button>
                <button class="auth-btn signup-btn" id="signupBtn" data-lang-az="Qeydiyyat" data-lang-en="Sign Up" data-lang-ru="Ğ ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ" data-lang-tr="KayÄ±t">Qeydiyyat</button>
            </div>
            
            <!-- User profile dropdown (giriÅŸ edildikdÉ™n sonra) -->
            <div class="nav-dropdown user-dropdown" id="userProfile" style="display: none;">
                <button class="nav-dropdown-btn user-dropdown-btn" id="userDropdownBtn">
                    <span class="user-avatar" id="userAvatarNav">ğŸ‘¤</span>
                    <span class="user-name" id="userName"></span>
                </button>
                <div class="nav-dropdown-content" id="userDropdownContent">
                    <a href="profile.html" class="dropdown-item">
                        <span>ğŸ‘¤</span>
                        <span data-lang-az="Profil" data-lang-en="Profile" data-lang-ru="ĞŸÑ€Ğ¾Ñ„Ğ¸Ğ»ÑŒ" data-lang-tr="Profil">Profil</span>
                    </a>
                    <button class="dropdown-item logout-item" id="logoutBtn">
                        <span>ğŸšª</span>
                        <span data-lang-az="Ã‡Ä±xÄ±ÅŸ" data-lang-en="Logout" data-lang-ru="Ğ’Ñ‹Ñ…Ğ¾Ğ´" data-lang-tr="Ã‡Ä±kÄ±ÅŸ">Ã‡Ä±xÄ±ÅŸ</span>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Search Modal -->
    <div class="search-modal" id="searchModal">
        <div class="search-modal-content">
            <button class="search-close-btn" id="searchCloseBtn">âœ•</button>
            <div class="search-header">
                <h2 data-lang-az="Axtar" data-lang-en="Search">Axtar</h2>
            </div>
            <div class="search-input-wrapper">
                <span class="search-icon">ğŸ”</span>
                <input type="text" id="searchInput" placeholder="DaÄŸ, tur vÉ™ ya mÉ™kan axtar..." data-placeholder-az="DaÄŸ, tur vÉ™ ya mÉ™kan axtar..." data-placeholder-en="Search for mountains, tours or locations...">
                <button class="search-clear-btn" id="searchClearBtn" style="display: none;">âœ•</button>
            </div>
            <div class="search-filters">
                <button class="search-filter-btn active" data-filter="all" data-lang-az="HamÄ±sÄ±" data-lang-en="All">HamÄ±sÄ±</button>
                <button class="search-filter-btn" data-filter="mountains" data-lang-az="DaÄŸlar" data-lang-en="Mountains">DaÄŸlar</button>
                <button class="search-filter-btn" data-filter="tours" data-lang-az="Turlar" data-lang-en="Tours">Turlar</button>
            </div>
            <div class="search-results" id="searchResults">
                <div class="search-placeholder">
                    <span>ğŸ”</span>
                    <p data-lang-az="AxtarÄ±ÅŸ nÉ™ticÉ™lÉ™ri burada gÃ¶rÃ¼nÉ™cÉ™k" data-lang-en="Search results will appear here">AxtarÄ±ÅŸ nÉ™ticÉ™lÉ™ri burada gÃ¶rÃ¼nÉ™cÉ™k</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Login Modal -->
    <div class="auth-modal" id="loginModal">
        <div class="modal-content">
            <button class="modal-close" id="closeLoginModal">âœ•</button>
            <div class="modal-header">
                <h2 data-lang-az="GiriÅŸ" data-lang-en="Login">GiriÅŸ</h2>
                <p data-lang-az="HesabÄ±nÄ±za daxil olun" data-lang-en="Sign in to your account">HesabÄ±nÄ±za daxil olun</p>
            </div>
            <form class="auth-form" id="loginForm">
                <div class="form-group">
                    <label data-lang-az="E-poÃ§t" data-lang-en="Email">E-poÃ§t</label>
                    <input type="email" id="loginEmail" required placeholder="email@example.com">
                </div>
                <div class="form-group">
                    <label data-lang-az="ÅifrÉ™" data-lang-en="Password">ÅifrÉ™</label>
                    <input type="password" id="loginPassword" required placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢">
                </div>
                <div class="form-error" id="loginError"></div>
                <button type="submit" class="auth-submit-btn" data-lang-az="Daxil ol" data-lang-en="Sign In">Daxil ol</button>
            </form>
            <div class="modal-footer">
                <p data-lang-az="HesabÄ±nÄ±z yoxdur?" data-lang-en="Don't have an account?">HesabÄ±nÄ±z yoxdur?</p>
                <button class="switch-modal-btn" id="switchToSignup" data-lang-az="Qeydiyyatdan keÃ§in" data-lang-en="Sign up">Qeydiyyatdan keÃ§in</button>
            </div>
        </div>
    </div>

    <!-- Sign Up Modal -->
    <div class="auth-modal" id="signupModal">
        <div class="modal-content">
            <button class="modal-close" id="closeSignupModal">âœ•</button>
            <div class="modal-header">
                <h2 data-lang-az="Qeydiyyat" data-lang-en="Sign Up">Qeydiyyat</h2>
                <p data-lang-az="Yeni hesab yaradÄ±n" data-lang-en="Create a new account">Yeni hesab yaradÄ±n</p>
            </div>
            <form class="auth-form" id="signupForm">
                <div class="form-group">
                    <label data-lang-az="Ad Soyad" data-lang-en="Full Name">Ad Soyad</label>
                    <input type="text" id="signupName" required placeholder="AdÄ±nÄ±z SoyadÄ±nÄ±z">
                </div>
                <div class="form-group">
                    <label data-lang-az="E-poÃ§t" data-lang-en="Email">E-poÃ§t</label>
                    <input type="email" id="signupEmail" required placeholder="email@example.com">
                </div>
                <div class="form-group">
                    <label data-lang-az="Telefon" data-lang-en="Phone">Telefon</label>
                    <input type="tel" id="signupPhone" placeholder="+994 XX XXX XX XX">
                </div>
                <div class="form-group">
                    <label data-lang-az="ÅifrÉ™" data-lang-en="Password">ÅifrÉ™</label>
                    <input type="password" id="signupPassword" required placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" minlength="6">
                </div>
                <div class="form-group">
                    <label data-lang-az="ÅifrÉ™ni tÉ™sdiqlÉ™" data-lang-en="Confirm Password">ÅifrÉ™ni tÉ™sdiqlÉ™</label>
                    <input type="password" id="signupConfirmPassword" required placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢">
                </div>
                <div class="form-error" id="signupError"></div>
                <button type="submit" class="auth-submit-btn" data-lang-az="Qeydiyyatdan keÃ§" data-lang-en="Sign Up">Qeydiyyatdan keÃ§</button>
            </form>
            <div class="modal-footer">
                <p data-lang-az="ArtÄ±q hesabÄ±nÄ±z var?" data-lang-en="Already have an account?">ArtÄ±q hesabÄ±nÄ±z var?</p>
                <button class="switch-modal-btn" id="switchToLogin" data-lang-az="Daxil olun" data-lang-en="Login">Daxil olun</button>
            </div>
        </div>
    </div>

    <!-- Hero Section -->
    <section id="home" class="hero">
        <div class="hero-background">
            <div class="mountain-image"></div>
            <div class="overlay"></div>
            
            <!-- Animated Clouds -->
            <div class="clouds-container">
                <div class="cloud cloud-1"></div>
                <div class="cloud cloud-2"></div>
                <div class="cloud cloud-3"></div>
                <div class="cloud cloud-4"></div>
                <div class="cloud cloud-5"></div>
                <div class="cloud cloud-6"></div>
            </div>
        </div>
        
        <div class="hero-content">
            <span class="hero-subtitle" data-lang-az="AzÉ™rbaycanÄ±n ZirvÉ™lÉ™rini KÉ™ÅŸf Et" data-lang-en="Discover the Peaks of Azerbaijan" data-lang-ru="ĞÑ‚ĞºÑ€Ğ¾Ğ¹Ñ‚Ğµ Ğ²ĞµÑ€ÑˆĞ¸Ğ½Ñ‹ ĞĞ·ĞµÑ€Ğ±Ğ°Ğ¹Ğ´Ğ¶Ğ°Ğ½Ğ°" data-lang-tr="Azerbaycan'Ä±n Zirvelerini KeÅŸfet">AzÉ™rbaycanÄ±n ZirvÉ™lÉ™rini KÉ™ÅŸf Et</span>
            <h1 class="hero-title" data-lang-az="DaÄŸ Turizmi" data-lang-en="Mountain Tourism" data-lang-ru="Ğ“Ğ¾Ñ€Ğ½Ñ‹Ğ¹ Ğ¢ÑƒÑ€Ğ¸Ğ·Ğ¼" data-lang-tr="DaÄŸ Turizmi">DaÄŸ Turizmi</h1>
            <p class="hero-description" data-lang-az="Qafqaz daÄŸlarÄ±nÄ±n É™zÉ™mÉ™tli zirvÉ™lÉ™rindÉ™n TalÄ±ÅŸ daÄŸlarÄ±nÄ±n yaÅŸÄ±l yamaclarÄ±na qÉ™dÉ™r â€” AzÉ™rbaycanÄ±n É™n gÃ¶zÉ™l daÄŸ mÉ™nzÉ™rÉ™lÉ™rini bizimlÉ™ kÉ™ÅŸf edin." data-lang-en="From the majestic peaks of the Caucasus to the green slopes of the Talysh mountains â€” discover the most beautiful mountain landscapes of Azerbaijan with us." data-lang-ru="ĞÑ‚ Ğ²ĞµĞ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²ĞµĞ½Ğ½Ñ‹Ñ… Ğ²ĞµÑ€ÑˆĞ¸Ğ½ ĞšĞ°Ğ²ĞºĞ°Ğ·Ğ° Ğ´Ğ¾ Ğ·ĞµĞ»ĞµĞ½Ñ‹Ñ… ÑĞºĞ»Ğ¾Ğ½Ğ¾Ğ² Ğ¢Ğ°Ğ»Ñ‹ÑˆÑĞºĞ¸Ñ… Ğ³Ğ¾Ñ€ â€” Ğ¾Ñ‚ĞºÑ€Ğ¾Ğ¹Ñ‚Ğµ ÑĞ°Ğ¼Ñ‹Ğµ ĞºÑ€Ğ°ÑĞ¸Ğ²Ñ‹Ğµ Ğ³Ğ¾Ñ€Ğ½Ñ‹Ğµ Ğ¿ĞµĞ¹Ğ·Ğ°Ğ¶Ğ¸ ĞĞ·ĞµÑ€Ğ±Ğ°Ğ¹Ğ´Ğ¶Ğ°Ğ½Ğ° Ğ²Ğ¼ĞµÑÑ‚Ğµ Ñ Ğ½Ğ°Ğ¼Ğ¸." data-lang-tr="Kafkas daÄŸlarÄ±nÄ±n gÃ¶rkemli zirvelerinden TalÄ±ÅŸ daÄŸlarÄ±nÄ±n yeÅŸil yamaÃ§larÄ±na kadar â€” Azerbaycan'Ä±n en gÃ¼zel daÄŸ manzaralarÄ±nÄ± bizimle keÅŸfedin.">
                Qafqaz daÄŸlarÄ±nÄ±n É™zÉ™mÉ™tli zirvÉ™lÉ™rindÉ™n TalÄ±ÅŸ daÄŸlarÄ±nÄ±n yaÅŸÄ±l yamaclarÄ±na qÉ™dÉ™r 
                â€” AzÉ™rbaycanÄ±n É™n gÃ¶zÉ™l daÄŸ mÉ™nzÉ™rÉ™lÉ™rini bizimlÉ™ kÉ™ÅŸf edin.
            </p>
            <div class="hero-stats">
                <div class="stat">
                    <span class="stat-number">1000+</span>
                    <span class="stat-label" data-lang-az="UÄŸurlu tur" data-lang-en="Successful tour" data-lang-ru="Ğ£ÑĞ¿ĞµÑˆĞ½Ñ‹Ğ¹ Ñ‚ÑƒÑ€" data-lang-tr="BaÅŸarÄ±lÄ± tur">UÄŸurlu tur</span>
                </div>
                <div class="stat">
                    <span class="stat-number">50+</span>
                    <span class="stat-label" data-lang-az="DaÄŸ MarÅŸrutu" data-lang-en="Mountain Routes" data-lang-ru="Ğ“Ğ¾Ñ€Ğ½Ñ‹Ñ… Ğ¼Ğ°Ñ€ÑˆÑ€ÑƒÑ‚Ğ¾Ğ²" data-lang-tr="DaÄŸ RotasÄ±">DaÄŸ MarÅŸrutu</span>
                </div>
                <div class="stat">
                    <span class="stat-number">5000+</span>
                    <span class="stat-label" data-lang-az="MÉ™mnun Turist" data-lang-en="Happy Tourists" data-lang-ru="Ğ”Ğ¾Ğ²Ğ¾Ğ»ÑŒĞ½Ñ‹Ñ… Ñ‚ÑƒÑ€Ğ¸ÑÑ‚Ğ¾Ğ²" data-lang-tr="Mutlu Turist">MÉ™mnun Turist</span>
                </div>
            </div>
            <div class="hero-buttons">
                <a href="#tours" class="btn btn-primary" data-lang-az="TurlarÄ± KÉ™ÅŸf Et" data-lang-en="Explore Tours" data-lang-ru="Ğ˜ÑÑĞ»ĞµĞ´Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ñ‚ÑƒÑ€Ñ‹" data-lang-tr="TurlarÄ± KeÅŸfet">TurlarÄ± KÉ™ÅŸf Et</a>
                <a href="#mountains" class="btn btn-secondary" data-lang-az="DaÄŸlar HaqqÄ±nda" data-lang-en="About Mountains" data-lang-ru="Ğ Ğ³Ğ¾Ñ€Ğ°Ñ…" data-lang-tr="DaÄŸlar HakkÄ±nda">DaÄŸlar HaqqÄ±nda</a>
            </div>
        </div>
        
    </section>

    <!-- AI Tour Finder Section -->
    <section id="ai-finder" class="ai-finder-section">
        <div class="ai-finder-container">
            <div class="ai-header">
                <span class="ai-badge">ğŸ¤– AI</span>
                <h2 data-lang-az="SizÉ™ UyÄŸun Tur TapÄ±n" data-lang-en="Find Your Perfect Tour">SizÉ™ UyÄŸun Tur TapÄ±n</h2>
                <p data-lang-az="MaraqlarÄ±nÄ±zÄ± bizÉ™ bildirin, sÃ¼ni intellekt sizÉ™ É™n uyÄŸun turlarÄ± tÃ¶vsiyÉ™ etsin" data-lang-en="Tell us your interests, AI will recommend the most suitable tours for you">MaraqlarÄ±nÄ±zÄ± bizÉ™ bildirin, sÃ¼ni intellekt sizÉ™ É™n uyÄŸun turlarÄ± tÃ¶vsiyÉ™ etsin</p>
            </div>
            
            <div class="ai-form">
                <div class="ai-question">
                    <label data-lang-az="HansÄ± aktivitÉ™lÉ™ri sevirsiniz?" data-lang-en="What activities do you enjoy?">HansÄ± aktivitÉ™lÉ™ri sevirsiniz?</label>
                    <div class="ai-options" id="activityOptions">
                        <button type="button" class="ai-option" data-value="hiking">ğŸ¥¾ <span data-lang-az="Trekking" data-lang-en="Hiking">Trekking</span></button>
                        <button type="button" class="ai-option" data-value="skiing">â›·ï¸ <span data-lang-az="XizÉ™k" data-lang-en="Skiing">XizÉ™k</span></button>
                        <button type="button" class="ai-option" data-value="climbing">ğŸ§— <span data-lang-az="Alpinizm" data-lang-en="Climbing">Alpinizm</span></button>
                        <button type="button" class="ai-option" data-value="photography">ğŸ“¸ <span data-lang-az="Fotoqrafiya" data-lang-en="Photography">Fotoqrafiya</span></button>
                        <button type="button" class="ai-option" data-value="culture">ğŸ›ï¸ <span data-lang-az="MÉ™dÉ™niyyÉ™t" data-lang-en="Culture">MÉ™dÉ™niyyÉ™t</span></button>
                        <button type="button" class="ai-option" data-value="nature">ğŸŒ¿ <span data-lang-az="TÉ™biÉ™t" data-lang-en="Nature">TÉ™biÉ™t</span></button>
                    </div>
                </div>
                
                <div class="ai-question">
                    <label data-lang-az="Fiziki hazÄ±rlÄ±q sÉ™viyyÉ™niz?" data-lang-en="Your fitness level?">Fiziki hazÄ±rlÄ±q sÉ™viyyÉ™niz?</label>
                    <div class="ai-options" id="fitnessOptions">
                        <button type="button" class="ai-option" data-value="beginner">ğŸ˜Š <span data-lang-az="BaÅŸlanÄŸÄ±c" data-lang-en="Beginner">BaÅŸlanÄŸÄ±c</span></button>
                        <button type="button" class="ai-option" data-value="intermediate">ğŸ’ª <span data-lang-az="Orta" data-lang-en="Intermediate">Orta</span></button>
                        <button type="button" class="ai-option" data-value="advanced">ğŸ‹ï¸ <span data-lang-az="TÉ™crÃ¼bÉ™li" data-lang-en="Advanced">TÉ™crÃ¼bÉ™li</span></button>
                    </div>
                </div>
                
                <div class="ai-question">
                    <label data-lang-az="Tur mÃ¼ddÉ™ti?" data-lang-en="Tour duration?">Tur mÃ¼ddÉ™ti?</label>
                    <div class="ai-options" id="durationOptions">
                        <button type="button" class="ai-option" data-value="day">ğŸ“… <span data-lang-az="1 gÃ¼n" data-lang-en="1 day">1 gÃ¼n</span></button>
                        <button type="button" class="ai-option" data-value="weekend">ğŸ—“ï¸ <span data-lang-az="2-3 gÃ¼n" data-lang-en="2-3 days">2-3 gÃ¼n</span></button>
                        <button type="button" class="ai-option" data-value="week">ğŸ“† <span data-lang-az="1 hÉ™ftÉ™" data-lang-en="1 week">1 hÉ™ftÉ™</span></button>
                    </div>
                </div>
                
                <div class="ai-question">
                    <label data-lang-az="BÃ¼dcÉ™niz?" data-lang-en="Your budget?">BÃ¼dcÉ™niz?</label>
                    <div class="ai-options" id="budgetOptions">
                        <button type="button" class="ai-option" data-value="budget">ğŸ’° <span data-lang-az="Ekonom" data-lang-en="Budget">Ekonom</span></button>
                        <button type="button" class="ai-option" data-value="mid">ğŸ’µ <span data-lang-az="Orta" data-lang-en="Mid-range">Orta</span></button>
                        <button type="button" class="ai-option" data-value="premium">ğŸ’ <span data-lang-az="Premium" data-lang-en="Premium">Premium</span></button>
                    </div>
                </div>
                
                <button class="ai-submit-btn" id="aiSubmitBtn" onclick="getAIRecommendations()" data-lang-az="ğŸ”® TÃ¶vsiyÉ™lÉ™ri GÃ¶stÉ™r" data-lang-en="ğŸ”® Show Recommendations">ğŸ”® TÃ¶vsiyÉ™lÉ™ri GÃ¶stÉ™r</button>
            </div>
            
            <div class="ai-results" id="aiResults" style="display: none;">
                <h3 data-lang-az="SizÉ™ UyÄŸun Turlar" data-lang-en="Tours For You">SizÉ™ UyÄŸun Turlar</h3>
                <div class="ai-recommendations" id="aiRecommendations">
                    <!-- AI recommendations will be loaded here -->
                </div>
            </div>
        </div>
    </section>

    <!-- Mountains Section -->
    <section id="mountains" class="mountains-section">
        <div class="section-header">
            <span class="section-subtitle" data-lang-az="ÆzÉ™mÉ™tli ZirvÉ™lÉ™r" data-lang-en="Majestic Peaks">ÆzÉ™mÉ™tli ZirvÉ™lÉ™r</span>
            <h2 class="section-title" data-lang-az="AzÉ™rbaycanÄ±n DaÄŸlarÄ±" data-lang-en="Mountains of Azerbaijan">AzÉ™rbaycanÄ±n DaÄŸlarÄ±</h2>
        </div>
        
        <div class="mountains-grid">
            <div class="mountain-card clickable" onclick="openMountainModal('bazarduzu')">
                <div class="card-image card-bazarduzu"></div>
                <div class="card-content">
                    <h3>BazardÃ¼zÃ¼</h3>
                    <span class="altitude">4466 m</span>
                    <p data-lang-az="AzÉ™rbaycanÄ±n É™n hÃ¼ndÃ¼r zirvÉ™si. BÃ¶yÃ¼k Qafqaz silsilÉ™sindÉ™ yerlÉ™ÅŸir." data-lang-en="The highest peak of Azerbaijan. Located in the Greater Caucasus range.">AzÉ™rbaycanÄ±n É™n hÃ¼ndÃ¼r zirvÉ™si. BÃ¶yÃ¼k Qafqaz silsilÉ™sindÉ™ yerlÉ™ÅŸir.</p>
                    <div class="card-tags">
                        <span class="tag" data-lang-az="Alpinizm" data-lang-en="Alpinism">Alpinizm</span>
                        <span class="tag" data-lang-az="MÃ¼rÉ™kkÉ™b" data-lang-en="Difficult">MÃ¼rÉ™kkÉ™b</span>
                    </div>
                    <button class="card-details-btn" data-lang-az="ÆtraflÄ± Bax" data-lang-en="View Details">ÆtraflÄ± Bax</button>
                </div>
            </div>
            
            <div class="mountain-card clickable" onclick="openMountainModal('shahdag')">
                <div class="card-image card-shahdag"></div>
                <div class="card-content">
                    <h3>ÅahdaÄŸ</h3>
                    <span class="altitude">4243 m</span>
                    <p data-lang-az="QÄ±ÅŸ idman kurortlarÄ± vÉ™ heyrÉ™tamiz mÉ™nzÉ™rÉ™lÉ™ri ilÉ™ mÉ™ÅŸhur." data-lang-en="Famous for winter sports resorts and stunning views.">QÄ±ÅŸ idman kurortlarÄ± vÉ™ heyrÉ™tamiz mÉ™nzÉ™rÉ™lÉ™ri ilÉ™ mÉ™ÅŸhur.</p>
                    <div class="card-tags">
                        <span class="tag" data-lang-az="XizÉ™k" data-lang-en="Skiing">XizÉ™k</span>
                        <span class="tag" data-lang-az="Orta" data-lang-en="Medium">Orta</span>
                    </div>
                    <button class="card-details-btn" data-lang-az="ÆtraflÄ± Bax" data-lang-en="View Details">ÆtraflÄ± Bax</button>
                </div>
            </div>
            
            <div class="mountain-card clickable" onclick="openMountainModal('tufandag')">
                <div class="card-image card-tufandag"></div>
                <div class="card-content">
                    <h3>TufandaÄŸ</h3>
                    <span class="altitude">4191 m</span>
                    <p data-lang-az="MÃ¼asir infrastruktur vÉ™ fÃ¼sunkar tÉ™biÉ™t harmonyasÄ±." data-lang-en="Modern infrastructure in harmony with enchanting nature.">MÃ¼asir infrastruktur vÉ™ fÃ¼sunkar tÉ™biÉ™t harmonyasÄ±.</p>
                    <div class="card-tags">
                        <span class="tag" data-lang-az="Kurort" data-lang-en="Resort">Kurort</span>
                        <span class="tag" data-lang-az="Asan" data-lang-en="Easy">Asan</span>
                    </div>
                    <button class="card-details-btn" data-lang-az="ÆtraflÄ± Bax" data-lang-en="View Details">ÆtraflÄ± Bax</button>
                </div>
            </div>
            
            <div class="mountain-card clickable" onclick="openMountainModal('babadag')">
                <div class="card-image card-babadaag"></div>
                <div class="card-content">
                    <h3>BabadaÄŸ</h3>
                    <span class="altitude">3629 m</span>
                    <p data-lang-az="ZiyarÉ™t yeri kimi tanÄ±nan, mÉ™nÉ™vi É™hÉ™miyyÉ™tli daÄŸ." data-lang-en="A spiritually significant mountain known as a pilgrimage site.">ZiyarÉ™t yeri kimi tanÄ±nan, mÉ™nÉ™vi É™hÉ™miyyÉ™tli daÄŸ.</p>
                    <div class="card-tags">
                        <span class="tag">Trekking</span>
                        <span class="tag" data-lang-az="Orta" data-lang-en="Medium">Orta</span>
                    </div>
                    <button class="card-details-btn" data-lang-az="ÆtraflÄ± Bax" data-lang-en="View Details">ÆtraflÄ± Bax</button>
                </div>
            </div>
            
            <!-- Gizli daÄŸlar - "Daha Ã§ox gÃ¶r" basÄ±ldÄ±qda gÃ¶rÃ¼nÉ™cÉ™k -->
            <div class="mountain-card clickable hidden-mountain" onclick="openMountainModal('kapaz')">
                <div class="card-image card-kapaz"></div>
                <div class="card-content">
                    <h3>KÉ™pÉ™z</h3>
                    <span class="altitude">3066 m</span>
                    <p data-lang-az="GÃ¶ygÃ¶l gÃ¶lÃ¼nÃ¼n yaxÄ±nlÄ±ÄŸÄ±nda yerlÉ™ÅŸÉ™n gÃ¶zÉ™l daÄŸ." data-lang-en="Beautiful mountain near Goygol lake.">GÃ¶ygÃ¶l gÃ¶lÃ¼nÃ¼n yaxÄ±nlÄ±ÄŸÄ±nda yerlÉ™ÅŸÉ™n gÃ¶zÉ™l daÄŸ.</p>
                    <div class="card-tags">
                        <span class="tag">Trekking</span>
                        <span class="tag" data-lang-az="Orta" data-lang-en="Medium">Orta</span>
                    </div>
                    <button class="card-details-btn" data-lang-az="ÆtraflÄ± Bax" data-lang-en="View Details">ÆtraflÄ± Bax</button>
                </div>
            </div>
            
            <div class="mountain-card clickable hidden-mountain" onclick="openMountainModal('murovdag')">
                <div class="card-image card-murovdag"></div>
                <div class="card-content">
                    <h3>MurovdaÄŸ</h3>
                    <span class="altitude">3724 m</span>
                    <p data-lang-az="KiÃ§ik QafqazÄ±n É™n hÃ¼ndÃ¼r zirvÉ™si." data-lang-en="The highest peak of the Lesser Caucasus.">KiÃ§ik QafqazÄ±n É™n hÃ¼ndÃ¼r zirvÉ™si.</p>
                    <div class="card-tags">
                        <span class="tag" data-lang-az="Alpinizm" data-lang-en="Alpinism">Alpinizm</span>
                        <span class="tag" data-lang-az="MÃ¼rÉ™kkÉ™b" data-lang-en="Difficult">MÃ¼rÉ™kkÉ™b</span>
                    </div>
                    <button class="card-details-btn" data-lang-az="ÆtraflÄ± Bax" data-lang-en="View Details">ÆtraflÄ± Bax</button>
                </div>
            </div>
            
            <div class="mountain-card clickable hidden-mountain" onclick="openMountainModal('qobustan')">
                <div class="card-image card-qobustan"></div>
                <div class="card-content">
                    <h3>BÃ¶yÃ¼kdaÅŸ</h3>
                    <span class="altitude">400 m</span>
                    <p data-lang-az="Qobustan Milli ParkÄ±nda qÉ™dim qaya rÉ™smlÉ™ri." data-lang-en="Ancient rock carvings in Gobustan National Park.">Qobustan Milli ParkÄ±nda qÉ™dim qaya rÉ™smlÉ™ri.</p>
                    <div class="card-tags">
                        <span class="tag" data-lang-az="Tarix" data-lang-en="History">Tarix</span>
                        <span class="tag" data-lang-az="Asan" data-lang-en="Easy">Asan</span>
                    </div>
                    <button class="card-details-btn" data-lang-az="ÆtraflÄ± Bax" data-lang-en="View Details">ÆtraflÄ± Bax</button>
                </div>
            </div>
            
            <div class="mountain-card clickable hidden-mountain" onclick="openMountainModal('qizilqaya')">
                <div class="card-image card-qizilqaya"></div>
                <div class="card-content">
                    <h3>QÄ±zÄ±lqaya</h3>
                    <span class="altitude">3726 m</span>
                    <p data-lang-az="QÄ±zÄ±lÄ± rÉ™ngli qayalarÄ± ilÉ™ tanÄ±nan daÄŸ." data-lang-en="Mountain known for its golden-colored rocks.">QÄ±zÄ±lÄ± rÉ™ngli qayalarÄ± ilÉ™ tanÄ±nan daÄŸ.</p>
                    <div class="card-tags">
                        <span class="tag">Trekking</span>
                        <span class="tag" data-lang-az="MÃ¼rÉ™kkÉ™b" data-lang-en="Difficult">MÃ¼rÉ™kkÉ™b</span>
                    </div>
                    <button class="card-details-btn" data-lang-az="ÆtraflÄ± Bax" data-lang-en="View Details">ÆtraflÄ± Bax</button>
                </div>
            </div>
        </div>
        
        <div class="show-more-container">
            <button class="show-more-btn" id="showMoreMountainsBtn" onclick="toggleMoreMountains()">
                <span data-lang-az="Daha Ã‡ox GÃ¶r" data-lang-en="Show More">Daha Ã‡ox GÃ¶r</span>
                <span class="show-more-icon">â–¼</span>
            </button>
        </div>
    </section>
    
    <!-- Mountain Info Modal -->
    <div class="mountain-modal" id="mountainModal">
        <div class="mountain-modal-content">
            <button class="modal-close" onclick="closeMountainModal()">âœ•</button>
            <button class="mountain-favorite-btn" id="modalFavoriteBtn" onclick="toggleModalFavorite()">ğŸ¤</button>
            
            <div class="mountain-modal-image" id="modalMountainImage"></div>
            
            <div class="mountain-modal-body">
                <div class="modal-header-info">
                    <div>
                        <h2 id="modalMountainName">DaÄŸ AdÄ±</h2>
                        <p class="modal-location" id="modalMountainLocation">ğŸ“ MÉ™kan</p>
                    </div>
                    <div class="modal-altitude">
                        <span id="modalMountainAltitude">0000</span>
                        <small>metr</small>
                    </div>
                </div>
                
                <div class="modal-difficulty" id="modalDifficulty">
                    <span class="difficulty-badge">Orta</span>
                </div>
                
                <p class="modal-description" id="modalMountainDescription">
                    DaÄŸ haqqÄ±nda É™traflÄ± mÉ™lumat...
                </p>
                
                <div class="modal-info-grid">
                    <div class="modal-info-item">
                        <span class="info-icon">ğŸŒ¡ï¸</span>
                        <div>
                            <strong data-lang-az="Æn yaxÅŸÄ± vaxt" data-lang-en="Best Time">Æn yaxÅŸÄ± vaxt</strong>
                            <p id="modalBestTime">May - Sentyabr</p>
                        </div>
                    </div>
                    <div class="modal-info-item">
                        <span class="info-icon">ğŸ‘¥</span>
                        <div>
                            <strong data-lang-az="Qrup Ã¶lÃ§Ã¼sÃ¼" data-lang-en="Group Size">Qrup Ã¶lÃ§Ã¼sÃ¼</strong>
                            <p id="modalGroupSize">5-15 nÉ™fÉ™r</p>
                        </div>
                    </div>
                    <div class="modal-info-item">
                        <span class="info-icon">ğŸš—</span>
                        <div>
                            <strong data-lang-az="NÉ™qliyyat" data-lang-en="Transport">NÉ™qliyyat</strong>
                            <p id="modalTransport">Avtobus, Taksi</p>
                        </div>
                    </div>
                    <div class="modal-info-item">
                        <span class="info-icon">ğŸ’°</span>
                        <div>
                            <strong data-lang-az="Tur qiymÉ™ti" data-lang-en="Tour Price">Tur qiymÉ™ti</strong>
                            <p id="modalPrice">â‚¼350-dÉ™n</p>
                        </div>
                    </div>
                </div>
                
                <div class="modal-activities">
                    <h4 data-lang-az="FÉ™aliyyÉ™tlÉ™r" data-lang-en="Activities">FÉ™aliyyÉ™tlÉ™r</h4>
                    <div class="activities-list" id="modalActivities">
                        <!-- Activities will be loaded dynamically -->
                    </div>
                </div>
                
                <!-- Guide Section -->
                <div class="modal-guide-section" id="modalGuideSection" style="display: none;">
                    <h4 data-lang-az="BÉ™lÉ™dÃ§i" data-lang-en="Guide">BÉ™lÉ™dÃ§i</h4>
                    <div class="guide-card" id="modalGuideCard" onclick="openGuideModalFromMountain()">
                        <div class="guide-card-image">
                            <img id="modalGuideImage" src="" alt="Guide">
                        </div>
                        <div class="guide-card-info">
                            <h5 id="modalGuideName">BÉ™lÉ™dÃ§i AdÄ±</h5>
                            <span class="guide-card-role" id="modalGuideRole">BaÅŸ BÉ™lÉ™dÃ§i</span>
                            <div class="guide-card-stats">
                                <span><strong id="modalGuideExp">15</strong> il tÉ™crÃ¼bÉ™</span>
                                <span>â­ <strong id="modalGuideRating">4.9</strong></span>
                            </div>
                            <p class="guide-card-hint" data-lang-az="ÆtraflÄ± mÉ™lumat Ã¼Ã§Ã¼n kliklÉ™yin" data-lang-en="Click for details">ÆtraflÄ± mÉ™lumat Ã¼Ã§Ã¼n kliklÉ™yin</p>
                        </div>
                    </div>
                </div>
                
                <!-- Reviews Section -->
                <div class="modal-reviews">
                    <div class="reviews-header">
                        <h4 data-lang-az="RÉ™ylÉ™r" data-lang-en="Reviews">RÉ™ylÉ™r</h4>
                        <div class="overall-rating">
                            <span class="rating-stars" id="modalOverallStars">â­â­â­â­â­</span>
                            <span class="rating-score" id="modalOverallRating">4.8</span>
                            <span class="rating-count" id="modalReviewCount">(24 rÉ™y)</span>
                        </div>
                    </div>
                    <div class="reviews-list" id="modalReviewsList">
                        <!-- Reviews will be loaded dynamically -->
                    </div>
                    <button class="write-review-btn" onclick="openReviewModal()" data-lang-az="RÉ™y Yaz" data-lang-en="Write Review">âœï¸ RÉ™y Yaz</button>
                </div>
                
                <div class="modal-actions">
                    <a href="#" class="modal-action-btn primary" id="modalDetailsBtn">
                        <span>â„¹ï¸</span> <span data-lang-az="ÆtraflÄ± SÉ™hifÉ™" data-lang-en="Full Details">ÆtraflÄ± SÉ™hifÉ™</span>
                    </a>
                    <button class="modal-action-btn secondary" id="modalMapBtn" onclick="showOnMap()">
                        <span>ğŸ—ºï¸</span> <span data-lang-az="XÉ™ritÉ™dÉ™ GÃ¶stÉ™r" data-lang-en="Show on Map">XÉ™ritÉ™dÉ™ GÃ¶stÉ™r</span>
                    </button>
                    <a href="#" class="modal-action-btn" id="modalGoogleMapsBtn" target="_blank">
                        <span>ğŸ“</span> Google Maps
                    </a>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Review Modal -->
    <div class="review-modal" id="reviewModal">
        <div class="review-modal-content">
            <button class="modal-close" onclick="closeReviewModal()">âœ•</button>
            <div class="review-modal-header">
                <h2 data-lang-az="RÉ™y Yaz" data-lang-en="Write a Review">RÉ™y Yaz</h2>
                <p id="reviewMountainName">DaÄŸ adÄ±</p>
            </div>
            
            <form id="reviewForm">
                <div class="rating-select">
                    <label data-lang-az="QiymÉ™tlÉ™ndirmÉ™niz" data-lang-en="Your Rating">QiymÉ™tlÉ™ndirmÉ™niz</label>
                    <div class="star-rating" id="starRating">
                        <span class="star" data-rating="1">â˜†</span>
                        <span class="star" data-rating="2">â˜†</span>
                        <span class="star" data-rating="3">â˜†</span>
                        <span class="star" data-rating="4">â˜†</span>
                        <span class="star" data-rating="5">â˜†</span>
                    </div>
                    <input type="hidden" id="selectedRating" value="0">
                </div>
                
                <div class="form-group">
                    <label data-lang-az="RÉ™y baÅŸlÄ±ÄŸÄ±" data-lang-en="Review Title">RÉ™y baÅŸlÄ±ÄŸÄ±</label>
                    <input type="text" id="reviewTitle" required placeholder="QÄ±sa baÅŸlÄ±q yazÄ±n" data-placeholder-az="QÄ±sa baÅŸlÄ±q yazÄ±n" data-placeholder-en="Write a short title">
                </div>
                
                <div class="form-group">
                    <label data-lang-az="RÉ™yiniz" data-lang-en="Your Review">RÉ™yiniz</label>
                    <textarea id="reviewText" rows="4" required placeholder="TÉ™crÃ¼bÉ™nizi paylaÅŸÄ±n..." data-placeholder-az="TÉ™crÃ¼bÉ™nizi paylaÅŸÄ±n..." data-placeholder-en="Share your experience..."></textarea>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label data-lang-az="ZiyarÉ™t tarixi" data-lang-en="Visit Date">ZiyarÉ™t tarixi</label>
                        <input type="month" id="visitDate">
                    </div>
                    <div class="form-group">
                        <label data-lang-az="KiminlÉ™ getdiniz?" data-lang-en="Who did you go with?">KiminlÉ™ getdiniz?</label>
                        <select id="travelType">
                            <option value="solo" data-lang-az="TÉ™k" data-lang-en="Solo">TÉ™k</option>
                            <option value="couple" data-lang-az="CÃ¼tlÃ¼k" data-lang-en="Couple">CÃ¼tlÃ¼k</option>
                            <option value="family" data-lang-az="AilÉ™" data-lang-en="Family">AilÉ™</option>
                            <option value="friends" data-lang-az="Dostlar" data-lang-en="Friends">Dostlar</option>
                            <option value="group" data-lang-az="Qrup" data-lang-en="Group">Qrup</option>
                        </select>
                    </div>
                </div>
                
                <div class="review-error" id="reviewError"></div>
                
                <button type="submit" class="submit-review-btn" data-lang-az="RÉ™y GÃ¶ndÉ™r" data-lang-en="Submit Review">RÉ™y GÃ¶ndÉ™r</button>
            </form>
        </div>
    </div>

    <!-- Tours Section -->
    <section id="tours" class="tours-section">
        <!-- Animated Background for Tours -->
        <div class="tours-bg-animation">
            <div class="tours-cloud tours-cloud-1"></div>
            <div class="tours-cloud tours-cloud-2"></div>
            <div class="tours-cloud tours-cloud-3"></div>
            <div class="tours-cloud tours-cloud-4"></div>
            <div class="tours-cloud tours-cloud-5"></div>
            <div class="tours-bird tours-bird-1">ğŸ¦…</div>
            <div class="tours-bird tours-bird-2">ğŸ¦…</div>
            <div class="tours-mountain-bg"></div>
        </div>
        
        <div class="section-header">
            <span class="section-subtitle" data-lang-az="MacÉ™raya HazÄ±r Olun" data-lang-en="Get Ready for Adventure">MacÉ™raya HazÄ±r Olun</span>
            <h2 class="section-title" data-lang-az="Populyar Turlar" data-lang-en="Popular Tours">Populyar Turlar</h2>
        </div>
        
        <div class="tours-container">
            <div class="tour-card featured" data-tour-id="bazarduzu-expedition">
                <button class="tour-favorite-btn" onclick="toggleTourFavorite(this)" title="SevimlilÉ™rÉ™ É™lavÉ™ et">ğŸ¤</button>
                <div class="tour-icon">ğŸ”ï¸</div>
                <h3 data-lang-az="BazardÃ¼zÃ¼ EkspedisiyasÄ±" data-lang-en="Bazarduzu Expedition">BazardÃ¼zÃ¼ EkspedisiyasÄ±</h3>
                <p data-lang-az="7 gÃ¼nlÃ¼k professional alpinizm turu ilÉ™ AzÉ™rbaycanÄ±n É™n hÃ¼ndÃ¼r zirvÉ™sini fÉ™th edin." data-lang-en="Conquer Azerbaijan's highest peak with a 7-day professional alpinism tour.">7 gÃ¼nlÃ¼k professional alpinizm turu ilÉ™ AzÉ™rbaycanÄ±n É™n hÃ¼ndÃ¼r zirvÉ™sini fÉ™th edin.</p>
                <ul class="tour-features">
                    <li data-lang-az="âœ“ Professional bÉ™lÉ™dÃ§i" data-lang-en="âœ“ Professional guide">âœ“ Professional bÉ™lÉ™dÃ§i</li>
                    <li data-lang-az="âœ“ AvadanlÄ±q tÉ™minatÄ±" data-lang-en="âœ“ Equipment provided">âœ“ AvadanlÄ±q tÉ™minatÄ±</li>
                    <li data-lang-az="âœ“ Qidalanma daxil" data-lang-en="âœ“ Meals included">âœ“ Qidalanma daxil</li>
                    <li data-lang-az="âœ“ SÄ±ÄŸorta" data-lang-en="âœ“ Insurance">âœ“ SÄ±ÄŸorta</li>
                </ul>
                <div class="tour-footer">
                    <span class="tour-price">â‚¼1200</span>
                    <div class="tour-actions">
                        <button class="tour-btn tour-info-btn" onclick="openTourModal('bazarduzu-expedition')" data-lang-az="MÉ™lumat" data-lang-en="Info">MÉ™lumat</button>
                        <button class="tour-btn tour-book-btn" onclick="openTourBookingModal('bazarduzu-expedition')" data-lang-az="SifariÅŸ" data-lang-en="Book">SifariÅŸ</button>
                    </div>
                </div>
            </div>
            
            <div class="tour-card" data-tour-id="shahdag-winter">
                <button class="tour-favorite-btn" onclick="toggleTourFavorite(this)" title="SevimlilÉ™rÉ™ É™lavÉ™ et">ğŸ¤</button>
                <div class="tour-icon">â›·ï¸</div>
                <h3 data-lang-az="ÅahdaÄŸ QÄ±ÅŸ Turu" data-lang-en="Shahdag Winter Tour">ÅahdaÄŸ QÄ±ÅŸ Turu</h3>
                <p data-lang-az="QÄ±ÅŸ mÃ¶vsÃ¼mÃ¼ndÉ™ xizÉ™k vÉ™ snowboard hÉ™yÉ™canÄ±." data-lang-en="Skiing and snowboarding excitement in winter season.">QÄ±ÅŸ mÃ¶vsÃ¼mÃ¼ndÉ™ xizÉ™k vÉ™ snowboard hÉ™yÉ™canÄ±.</p>
                <ul class="tour-features">
                    <li data-lang-az="âœ“ Lift bileti" data-lang-en="âœ“ Lift ticket">âœ“ Lift bileti</li>
                    <li data-lang-az="âœ“ Otel yerlÉ™ÅŸmÉ™" data-lang-en="âœ“ Hotel accommodation">âœ“ Otel yerlÉ™ÅŸmÉ™</li>
                    <li data-lang-az="âœ“ Transfer" data-lang-en="âœ“ Transfer">âœ“ Transfer</li>
                </ul>
                <div class="tour-footer">
                    <span class="tour-price">â‚¼450</span>
                    <div class="tour-actions">
                        <button class="tour-btn tour-info-btn" onclick="openTourModal('shahdag-winter')" data-lang-az="MÉ™lumat" data-lang-en="Info">MÉ™lumat</button>
                        <button class="tour-btn tour-book-btn" onclick="openTourBookingModal('shahdag-winter')" data-lang-az="SifariÅŸ" data-lang-en="Book">SifariÅŸ</button>
                    </div>
                </div>
            </div>
            
            <div class="tour-card" data-tour-id="khinaliq-trekking">
                <button class="tour-favorite-btn" onclick="toggleTourFavorite(this)" title="SevimlilÉ™rÉ™ É™lavÉ™ et">ğŸ¤</button>
                <div class="tour-icon">ğŸ¥¾</div>
                <h3 data-lang-az="XÄ±nalÄ±q Trekkinqi" data-lang-en="Khinaliq Trekking">XÄ±nalÄ±q Trekkinqi</h3>
                <p data-lang-az="QÉ™dim XÄ±nalÄ±q kÉ™ndinÉ™ 3 gÃ¼nlÃ¼k trekking macÉ™rasÄ±." data-lang-en="3-day trekking adventure to the ancient Khinaliq village.">QÉ™dim XÄ±nalÄ±q kÉ™ndinÉ™ 3 gÃ¼nlÃ¼k trekking macÉ™rasÄ±.</p>
                <ul class="tour-features">
                    <li data-lang-az="âœ“ Yerli ev qonaÄŸÄ±" data-lang-en="âœ“ Local homestay">âœ“ Yerli ev qonaÄŸÄ±</li>
                    <li data-lang-az="âœ“ MÉ™dÉ™ni tur" data-lang-en="âœ“ Cultural tour">âœ“ MÉ™dÉ™ni tur</li>
                    <li data-lang-az="âœ“ Milli yemÉ™klÉ™r" data-lang-en="âœ“ Traditional food">âœ“ Milli yemÉ™klÉ™r</li>
                </ul>
                <div class="tour-footer">
                    <span class="tour-price">â‚¼350</span>
                    <div class="tour-actions">
                        <button class="tour-btn tour-info-btn" onclick="openTourModal('khinaliq-trekking')" data-lang-az="MÉ™lumat" data-lang-en="Info">MÉ™lumat</button>
                        <button class="tour-btn tour-book-btn" onclick="openTourBookingModal('khinaliq-trekking')" data-lang-az="SifariÅŸ" data-lang-en="Book">SifariÅŸ</button>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Tour Info Modal -->
    <div class="tour-modal" id="tourInfoModal">
        <div class="tour-modal-content">
            <button class="modal-close" onclick="closeTourModal()">âœ•</button>
            <div class="tour-modal-header" id="tourModalHeader">
                <span class="tour-modal-icon">ğŸ”ï¸</span>
                <h2 id="tourModalName">Tur AdÄ±</h2>
            </div>
            <div class="tour-modal-body">
                <p class="tour-modal-description" id="tourModalDescription">Tur haqqÄ±nda É™traflÄ± mÉ™lumat...</p>
                
                <div class="tour-info-grid">
                    <div class="tour-info-item">
                        <span class="info-icon">ğŸ“…</span>
                        <div>
                            <strong data-lang-az="MÃ¼ddÉ™t" data-lang-en="Duration">MÃ¼ddÉ™t</strong>
                            <p id="tourModalDuration">7 gÃ¼n</p>
                        </div>
                    </div>
                    <div class="tour-info-item">
                        <span class="info-icon">ğŸ‘¥</span>
                        <div>
                            <strong data-lang-az="Qrup" data-lang-en="Group">Qrup</strong>
                            <p id="tourModalGroup">5-15 nÉ™fÉ™r</p>
                        </div>
                    </div>
                    <div class="tour-info-item">
                        <span class="info-icon">âš¡</span>
                        <div>
                            <strong data-lang-az="Ã‡É™tinlik" data-lang-en="Difficulty">Ã‡É™tinlik</strong>
                            <p id="tourModalDifficulty">Orta</p>
                        </div>
                    </div>
                    <div class="tour-info-item">
                        <span class="info-icon">ğŸ“</span>
                        <div>
                            <strong data-lang-az="MÉ™kan" data-lang-en="Location">MÉ™kan</strong>
                            <p id="tourModalLocation">AzÉ™rbaycan</p>
                        </div>
                    </div>
                </div>
                
                <div class="tour-includes">
                    <h4 data-lang-az="Tura Daxildir" data-lang-en="Tour Includes">Tura Daxildir</h4>
                    <ul id="tourModalIncludes">
                        <li>Professional bÉ™lÉ™dÃ§i</li>
                    </ul>
                </div>
                
                <div class="tour-itinerary">
                    <h4 data-lang-az="Proqram" data-lang-en="Itinerary">Proqram</h4>
                    <div id="tourModalItinerary">
                        <!-- Itinerary items -->
                    </div>
                </div>
                
                <!-- Guide Section -->
                <div class="tour-guide-section" id="tourGuideSection">
                    <h4 data-lang-az="BÉ™lÉ™dÃ§i" data-lang-en="Guide" data-lang-ru="Ğ“Ğ¸Ğ´" data-lang-tr="Rehber">BÉ™lÉ™dÃ§i</h4>
                    <div class="guide-card" id="tourGuideCard" onclick="openGuideModalFromTour()">
                        <div class="guide-card-image">
                            <img id="tourGuideImage" src="" alt="Guide">
                        </div>
                        <div class="guide-card-info">
                            <h5 id="tourGuideName">BÉ™lÉ™dÃ§i AdÄ±</h5>
                            <span class="guide-card-role" id="tourGuideRole">BaÅŸ BÉ™lÉ™dÃ§i</span>
                            <div class="guide-card-stats">
                                <span><strong id="tourGuideExp">15</strong> <span data-lang-az="il tÉ™crÃ¼bÉ™" data-lang-en="years exp." data-lang-ru="Ğ»ĞµÑ‚ Ğ¾Ğ¿Ñ‹Ñ‚Ğ°" data-lang-tr="yÄ±l deneyim">il tÉ™crÃ¼bÉ™</span></span>
                                <span>â­ <strong id="tourGuideRating">4.9</strong></span>
                            </div>
                            <p class="guide-card-hint" data-lang-az="ÆtraflÄ± mÉ™lumat Ã¼Ã§Ã¼n kliklÉ™yin" data-lang-en="Click for details" data-lang-ru="ĞĞ°Ğ¶Ğ¼Ğ¸Ñ‚Ğµ Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ´Ñ€Ğ¾Ğ±Ğ½Ğ¾ÑÑ‚ĞµĞ¹" data-lang-tr="Detaylar iÃ§in tÄ±klayÄ±n">ÆtraflÄ± mÉ™lumat Ã¼Ã§Ã¼n kliklÉ™yin</p>
                        </div>
                    </div>
                </div>
                
                <div class="tour-modal-footer">
                    <div class="tour-modal-price">
                        <span data-lang-az="QiymÉ™t:" data-lang-en="Price:">QiymÉ™t:</span>
                        <strong id="tourModalPrice">â‚¼1200</strong>
                        <span class="per-person" data-lang-az="/nÉ™fÉ™r" data-lang-en="/person">/nÉ™fÉ™r</span>
                    </div>
                    <button class="book-tour-btn" onclick="openTourBookingFromModal()" data-lang-az="Ä°ndi SifariÅŸ Et" data-lang-en="Book Now">Ä°ndi SifariÅŸ Et</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Activity Modal -->
    <div class="activity-modal" id="activityModal">
        <div class="activity-modal-content">
            <button class="modal-close" onclick="closeActivityModal()">âœ•</button>
            <div class="activity-modal-header">
                <span class="activity-modal-icon" id="activityModalIcon">ğŸ”ï¸</span>
                <h2 id="activityModalName">AktivitÉ™</h2>
            </div>
            <div class="activity-modal-body">
                <p class="activity-modal-desc" id="activityModalDesc"></p>
                <div class="activity-modal-details">
                    <div class="activity-detail">
                        <span class="detail-icon">â±ï¸</span>
                        <div>
                            <span class="detail-label" data-lang-az="MÃ¼ddÉ™t" data-lang-en="Duration">MÃ¼ddÉ™t</span>
                            <span class="detail-value" id="activityModalDuration"></span>
                        </div>
                    </div>
                    <div class="activity-detail">
                        <span class="detail-icon">ğŸ“Š</span>
                        <div>
                            <span class="detail-label" data-lang-az="Ã‡É™tinlik" data-lang-en="Difficulty">Ã‡É™tinlik</span>
                            <span class="detail-value" id="activityModalDifficulty"></span>
                        </div>
                    </div>
                    <div class="activity-detail">
                        <span class="detail-icon">ğŸ’°</span>
                        <div>
                            <span class="detail-label" data-lang-az="QiymÉ™t" data-lang-en="Price">QiymÉ™t</span>
                            <span class="detail-value" id="activityModalPrice"></span>
                        </div>
                    </div>
                    <div class="activity-detail">
                        <span class="detail-icon">ğŸ‘¥</span>
                        <div>
                            <span class="detail-label" data-lang-az="Qrup" data-lang-en="Group">Qrup</span>
                            <span class="detail-value" id="activityModalGroup"></span>
                        </div>
                    </div>
                </div>
                <div class="activity-modal-requirements">
                    <h4 data-lang-az="TÉ™lÉ™blÉ™r" data-lang-en="Requirements">TÉ™lÉ™blÉ™r</h4>
                    <ul id="activityModalRequirements"></ul>
                </div>
                <div class="activity-modal-equipment">
                    <h4 data-lang-az="LazÄ±mi AvadanlÄ±q" data-lang-en="Required Equipment">LazÄ±mi AvadanlÄ±q</h4>
                    <div id="activityModalEquipment"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Guide Modal -->
    <div class="guide-modal" id="guideModal">
        <div class="guide-modal-content">
            <button class="modal-close" onclick="closeGuideModal()">âœ•</button>
            <div class="guide-modal-body">
                <div class="guide-modal-image">
                    <img id="guideModalImage" src="" alt="">
                </div>
                <div class="guide-modal-info">
                    <h2 id="guideModalName"></h2>
                    <span class="guide-modal-role" id="guideModalRole"></span>
                    <div class="guide-modal-stats">
                        <div class="guide-stat">
                            <span class="guide-stat-value" id="guideModalExp"></span>
                            <span class="guide-stat-label" data-lang-az="Ä°l TÉ™crÃ¼bÉ™" data-lang-en="Years Experience" data-lang-ru="Ğ›ĞµÑ‚ Ğ¾Ğ¿Ñ‹Ñ‚Ğ°" data-lang-tr="YÄ±l Deneyim">Ä°l TÉ™crÃ¼bÉ™</span>
                        </div>
                        <div class="guide-stat">
                            <span class="guide-stat-value" id="guideModalTours"></span>
                            <span class="guide-stat-label" data-lang-az="Tur" data-lang-en="Tours" data-lang-ru="Ğ¢ÑƒÑ€Ğ¾Ğ²" data-lang-tr="Tur">Tur</span>
                        </div>
                        <div class="guide-stat">
                            <span class="guide-stat-value" id="guideModalRating"></span>
                            <span class="guide-stat-label" data-lang-az="Reytinq" data-lang-en="Rating" data-lang-ru="Ğ ĞµĞ¹Ñ‚Ğ¸Ğ½Ğ³" data-lang-tr="Puan">Reytinq</span>
                        </div>
                    </div>
                    <p class="guide-modal-bio" id="guideModalBio"></p>
                    <div class="guide-modal-certs">
                        <h4 data-lang-az="Sertifikatlar" data-lang-en="Certifications" data-lang-ru="Ğ¡ĞµÑ€Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ‚Ñ‹" data-lang-tr="Sertifikalar">Sertifikatlar</h4>
                        <ul id="guideModalCerts"></ul>
                    </div>
                    <div class="guide-modal-langs">
                        <h4 data-lang-az="DillÉ™r" data-lang-en="Languages" data-lang-ru="Ğ¯Ğ·Ñ‹ĞºĞ¸" data-lang-tr="Diller">DillÉ™r</h4>
                        <div id="guideModalLangs"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Tour Booking Modal -->
    <div class="tour-booking-modal" id="tourBookingModal">
        <div class="tour-booking-content">
            <button class="modal-close" onclick="closeTourBookingModal()">âœ•</button>
            
            <div class="booking-step" id="tourBookingStep1">
                <div class="modal-header">
                    <h2>ğŸ« <span data-lang-az="Tur SifariÅŸi" data-lang-en="Tour Booking">Tur SifariÅŸi</span></h2>
                    <p id="bookingTourName">Tur adÄ±</p>
                </div>
                
                <form id="tourBookingForm">
                    <div class="form-row">
                        <div class="form-group">
                            <label data-lang-az="Tarix" data-lang-en="Date">Tarix</label>
                            <input type="date" id="tourDate" required>
                        </div>
                        <div class="form-group">
                            <label data-lang-az="Ä°ÅŸtirakÃ§Ä± sayÄ±" data-lang-en="Participants">Ä°ÅŸtirakÃ§Ä± sayÄ±</label>
                            <select id="tourParticipants" required>
                                <option value="1">1 nÉ™fÉ™r</option>
                                <option value="2" selected>2 nÉ™fÉ™r</option>
                                <option value="3">3 nÉ™fÉ™r</option>
                                <option value="4">4 nÉ™fÉ™r</option>
                                <option value="5">5 nÉ™fÉ™r</option>
                                <option value="6">6+ nÉ™fÉ™r</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label data-lang-az="Ad Soyad" data-lang-en="Full Name">Ad Soyad</label>
                        <input type="text" id="tourGuestName" required placeholder="Tam adÄ±nÄ±z">
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label data-lang-az="E-poÃ§t" data-lang-en="Email">E-poÃ§t</label>
                            <input type="email" id="tourGuestEmail" required placeholder="email@example.com">
                        </div>
                        <div class="form-group">
                            <label data-lang-az="Telefon" data-lang-en="Phone">Telefon</label>
                            <input type="tel" id="tourGuestPhone" required placeholder="+994 XX XXX XX XX">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label data-lang-az="QeydlÉ™r (opsional)" data-lang-en="Notes (optional)">QeydlÉ™r (opsional)</label>
                        <textarea id="tourNotes" rows="2" placeholder="XÃ¼susi istÉ™klÉ™r, allergiyalar vÉ™ s."></textarea>
                    </div>
                    
                    <div class="booking-summary">
                        <div class="summary-row">
                            <span data-lang-az="Tur:" data-lang-en="Tour:">Tur:</span>
                            <span id="tourSummaryName">-</span>
                        </div>
                        <div class="summary-row">
                            <span data-lang-az="Ä°ÅŸtirakÃ§Ä±:" data-lang-en="Participants:">Ä°ÅŸtirakÃ§Ä±:</span>
                            <span id="tourSummaryParticipants">2 nÉ™fÉ™r</span>
                        </div>
                        <div class="summary-row">
                            <span data-lang-az="QiymÉ™t:" data-lang-en="Price:">QiymÉ™t:</span>
                            <span id="tourSummaryPrice">â‚¼0</span>
                        </div>
                        <div class="summary-row discount" id="discountRow" style="display: none;">
                            <span data-lang-az="ğŸ‰ Ä°lk gediÅŸ endirimi (15%):" data-lang-en="ğŸ‰ First trip discount (15%):">ğŸ‰ Ä°lk gediÅŸ endirimi (15%):</span>
                            <span id="tourSummaryDiscount" class="discount-amount">-â‚¼0</span>
                        </div>
                        <div class="summary-row total">
                            <span data-lang-az="CÉ™mi:" data-lang-en="Total:">CÉ™mi:</span>
                            <span id="tourSummaryTotal">â‚¼0</span>
                        </div>
                    </div>
                    
                    <button type="submit" class="proceed-btn" data-lang-az="SifariÅŸi TÉ™sdiqlÉ™" data-lang-en="Confirm Booking">SifariÅŸi TÉ™sdiqlÉ™</button>
                </form>
            </div>
            
            <div class="booking-step" id="tourBookingStep2" style="display: none;">
                <div class="confirmation-content">
                    <div class="success-icon">âœ“</div>
                    <h2 data-lang-az="SifariÅŸ QÉ™bul Edildi!" data-lang-en="Booking Confirmed!">SifariÅŸ QÉ™bul Edildi!</h2>
                    <p data-lang-az="TÉ™ÅŸÉ™kkÃ¼r edirik! SifariÅŸiniz uÄŸurla qeydÉ™ alÄ±ndÄ±." data-lang-en="Thank you! Your booking has been recorded successfully.">TÉ™ÅŸÉ™kkÃ¼r edirik! SifariÅŸiniz uÄŸurla qeydÉ™ alÄ±ndÄ±.</p>
                    
                    <div class="confirmation-details">
                        <div class="conf-row">
                            <span data-lang-az="SifariÅŸ â„–:" data-lang-en="Order #:">SifariÅŸ â„–:</span>
                            <span id="tourOrderNumber">DT-000000</span>
                        </div>
                        <div class="conf-row">
                            <span data-lang-az="Tur:" data-lang-en="Tour:">Tur:</span>
                            <span id="tourConfName">-</span>
                        </div>
                        <div class="conf-row">
                            <span data-lang-az="Tarix:" data-lang-en="Date:">Tarix:</span>
                            <span id="tourConfDate">-</span>
                        </div>
                        <div class="conf-row">
                            <span data-lang-az="MÉ™blÉ™ÄŸ:" data-lang-en="Amount:">MÉ™blÉ™ÄŸ:</span>
                            <span id="tourConfAmount">â‚¼0</span>
                        </div>
                    </div>
                    
                    <p class="conf-email" data-lang-az="TÉ™sdiq e-poÃ§tu gÃ¶ndÉ™rildi:" data-lang-en="Confirmation email sent to:">TÉ™sdiq e-poÃ§tu gÃ¶ndÉ™rildi: <strong id="tourConfEmail">email@example.com</strong></p>
                    
                    <button class="close-conf-btn" onclick="closeTourBookingModal()" data-lang-az="BaÄŸla" data-lang-en="Close">BaÄŸla</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Interactive Map Section -->
    <section id="map" class="map-section">
        <div class="section-header">
            <span class="section-subtitle" data-lang-az="Ä°nteraktiv XÉ™ritÉ™" data-lang-en="Interactive Map">Ä°nteraktiv XÉ™ritÉ™</span>
            <h2 class="section-title" data-lang-az="AzÉ™rbaycan DaÄŸlarÄ±" data-lang-en="Mountains of Azerbaijan">AzÉ™rbaycan DaÄŸlarÄ±</h2>
        </div>
        
        <div class="map-container">
            <div id="azerbaijan-map"></div>
            
            <div class="mountain-info-panel" id="mountainInfoPanel">
                <div class="info-placeholder" id="infoPlaceholder">
                    <div class="placeholder-icon">ğŸ—ºï¸</div>
                    <h3 data-lang-az="DaÄŸ SeÃ§in" data-lang-en="Select a Mountain">DaÄŸ SeÃ§in</h3>
                    <p data-lang-az="XÉ™ritÉ™dÉ™ daÄŸ niÅŸanÄ±na kliklÉ™yÉ™rÉ™k É™traflÄ± mÉ™lumat É™ldÉ™ edin" data-lang-en="Click on a mountain marker on the map to get detailed information">XÉ™ritÉ™dÉ™ daÄŸ niÅŸanÄ±na kliklÉ™yÉ™rÉ™k É™traflÄ± mÉ™lumat É™ldÉ™ edin</p>
                </div>
                
                <div class="info-content" id="infoContent" style="display: none;">
                    <button style="margin-right: 5px;" class="close-info-btn" id="closeInfoBtn" title="BaÄŸla">âœ•</button>
                    <button style="margin-right: 5px;" class="favorite-btn-top" id="favoriteBtn" title="SevimlilÉ™rÉ™ É™lavÉ™ et">
                        <span class="fav-icon">ğŸ¤</span>
                    </button>
                    <div class="info-header">
                        <h3 id="mountainName">DaÄŸ AdÄ±</h3>
                        <span style="margin-top: 40px; float: right;" class="info-altitude" id="mountainAltitude">0000 m</span>
                    </div>
                    
                    <p style="margin-top: -40px;" class="info-country" id="mountainCountry">Ã–lkÉ™ â€¢ Region</p>
                    
                    <div class="info-difficulty" id="mountainDifficulty">
                        <span class="difficulty-badge">Orta</span>
                    </div>
                    
                    <p class="info-description" id="mountainDescription">
                        DaÄŸ haqqÄ±nda mÉ™lumat...
                    </p>
                    
                    <div class="info-section">
                        <h4 data-lang-az="ğŸš— NÉ™qliyyat VariantlarÄ±" data-lang-en="ğŸš— Transport Options">ğŸš— NÉ™qliyyat VariantlarÄ±</h4>
                        <ul class="transport-list" id="transportList">
                        </ul>
                    </div>
                    
                    <div class="info-section">
                        <h4 data-lang-az="ğŸ›¤ï¸ Yol Tarifi" data-lang-en="ğŸ›¤ï¸ Route Directions">ğŸ›¤ï¸ Yol Tarifi</h4>
                        <div class="routes-list" id="routesList">
                        </div>
                    </div>
                    
                    <div class="info-section">
                        <h4 data-lang-az="ğŸ¯ FÉ™aliyyÉ™tlÉ™r" data-lang-en="ğŸ¯ Activities">ğŸ¯ FÉ™aliyyÉ™tlÉ™r</h4>
                        <div class="activities-list" id="mapActivities">
                        </div>
                    </div>
                    
                    <div class="info-actions">
                        <button class="action-btn route-btn" id="showRouteBtn">
                            <span>ğŸ“</span> <span data-lang-az="MarÅŸrut GÃ¶stÉ™r" data-lang-en="Show Route">MarÅŸrut GÃ¶stÉ™r</span>
                        </button>
                        <a href="#" class="action-btn details-btn" id="detailsBtn">
                            <span>â„¹ï¸</span> <span data-lang-az="ÆtraflÄ± MÉ™lumat" data-lang-en="More Info">ÆtraflÄ± MÉ™lumat</span>
                        </a>
                        <a href="#" class="action-btn maps-btn" id="googleMapsBtn" target="_blank">
                            <span>ğŸ—ºï¸</span> Google Maps
                        </a>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="map-legend">
            <button class="my-location-btn" id="myLocationBtn" title="MÉ™nim mÃ¶vqeyim">
                <span>ğŸ“</span> <span data-lang-az="MÉ™nim MÃ¶vqeyim" data-lang-en="My Location">MÉ™nim MÃ¶vqeyim</span>
            </button>
            <div class="legend-item">
                <span class="legend-marker user-marker"></span>
                <span data-lang-az="Sizin MÃ¶vqeyiniz" data-lang-en="Your Location">Sizin MÃ¶vqeyiniz</span>
            </div>
            <div class="legend-item">
                <span class="legend-marker easy-marker"></span>
                <span data-lang-az="Asan" data-lang-en="Easy">Asan</span>
            </div>
            <div class="legend-item">
                <span class="legend-marker medium-marker"></span>
                <span data-lang-az="Orta" data-lang-en="Medium">Orta</span>
            </div>
            <div class="legend-item">
                <span class="legend-marker hard-marker"></span>
                <span data-lang-az="MÃ¼rÉ™kkÉ™b" data-lang-en="Difficult">MÃ¼rÉ™kkÉ™b</span>
            </div>
        </div>
        
    </section>

    <!-- Gallery Section -->
    <section id="gallery" class="gallery-section">
        <div class="section-header">
            <span class="section-subtitle" data-lang-az="Vizual SÉ™yahÉ™t" data-lang-en="Visual Journey">Vizual SÉ™yahÉ™t</span>
            <h2 class="section-title" data-lang-az="Foto Qalereya" data-lang-en="Photo Gallery">Foto Qalereya</h2>
        </div>
        
        <div class="gallery-grid">
            <div class="gallery-item large">
                <div class="gallery-image gi-1"></div>
                <div class="gallery-overlay">
                    <div class="gallery-info">
                        <span class="gallery-title" data-lang-az="Qafqaz DaÄŸlarÄ±" data-lang-en="Caucasus Mountains">Qafqaz DaÄŸlarÄ±</span>
                        <p class="gallery-desc" data-lang-az="BÃ¶yÃ¼k Qafqaz silsilÉ™sinin É™zÉ™mÉ™tli zirvÉ™lÉ™ri. AzÉ™rbaycanÄ±n É™n hÃ¼ndÃ¼r daÄŸlarÄ± burada yerlÉ™ÅŸir." data-lang-en="Majestic peaks of the Greater Caucasus range. Azerbaijan's highest mountains are located here.">BÃ¶yÃ¼k Qafqaz silsilÉ™sinin É™zÉ™mÉ™tli zirvÉ™lÉ™ri. AzÉ™rbaycanÄ±n É™n hÃ¼ndÃ¼r daÄŸlarÄ± burada yerlÉ™ÅŸir.</p>
                        <span class="gallery-location">ğŸ“ Qusar, AzÉ™rbaycan</span>
                    </div>
                </div>
            </div>
            <div class="gallery-item">
                <div class="gallery-image gi-2"></div>
                <div class="gallery-overlay">
                    <div class="gallery-info">
                        <span class="gallery-title" data-lang-az="GÃ¼nÉ™ÅŸ DoÄŸuÅŸu" data-lang-en="Sunrise">GÃ¼nÉ™ÅŸ DoÄŸuÅŸu</span>
                        <p class="gallery-desc" data-lang-az="DaÄŸ zirvÉ™sindÉ™n sehirli gÃ¼nÉ™ÅŸ doÄŸuÅŸu mÉ™nzÉ™rÉ™si. Æn yaxÅŸÄ± foto anlarÄ±ndan biri." data-lang-en="Magical sunrise view from the mountain peak. One of the best photo moments.">DaÄŸ zirvÉ™sindÉ™n sehirli gÃ¼nÉ™ÅŸ doÄŸuÅŸu mÉ™nzÉ™rÉ™si. Æn yaxÅŸÄ± foto anlarÄ±ndan biri.</p>
                        <span class="gallery-location">ğŸ“ ÅahdaÄŸ</span>
                    </div>
                </div>
            </div>
            <div class="gallery-item">
                <div class="gallery-image gi-3"></div>
                <div class="gallery-overlay">
                    <div class="gallery-info">
                        <span class="gallery-title" data-lang-az="DaÄŸ GÃ¶lÃ¼" data-lang-en="Mountain Lake">DaÄŸ GÃ¶lÃ¼</span>
                        <p class="gallery-desc" data-lang-az="GÃ¶ygÃ¶l - 1139-cu il zÉ™lzÉ™lÉ™si nÉ™ticÉ™sindÉ™ yaranan tÉ™bii gÃ¶l. UNESCO qoruÄŸu." data-lang-en="Goygol - natural lake formed by earthquake in 1139. UNESCO protected area.">GÃ¶ygÃ¶l - 1139-cu il zÉ™lzÉ™lÉ™si nÉ™ticÉ™sindÉ™ yaranan tÉ™bii gÃ¶l. UNESCO qoruÄŸu.</p>
                        <span class="gallery-location">ğŸ“ GÃ¶ygÃ¶l</span>
                    </div>
                </div>
            </div>
            <div class="gallery-item tall">
                <div class="gallery-image gi-4"></div>
                <div class="gallery-overlay">
                    <div class="gallery-info">
                        <span class="gallery-title" data-lang-az="Trekking Yolu" data-lang-en="Trekking Trail">Trekking Yolu</span>
                        <p class="gallery-desc" data-lang-az="XÄ±nalÄ±qdan keÃ§É™n qÉ™dim karvan yolu. 5000 illik tarixÉ™ malik kÉ™nd." data-lang-en="Ancient caravan route passing through Khinalig. Village with 5000 years of history.">XÄ±nalÄ±qdan keÃ§É™n qÉ™dim karvan yolu. 5000 illik tarixÉ™ malik kÉ™nd.</p>
                        <span class="gallery-location">ğŸ“ XÄ±nalÄ±q, Quba</span>
                    </div>
                </div>
            </div>
            <div class="gallery-item">
                <div class="gallery-image gi-5"></div>
                <div class="gallery-overlay">
                    <div class="gallery-info">
                        <span class="gallery-title" data-lang-az="QÄ±ÅŸ MÉ™nzÉ™rÉ™si" data-lang-en="Winter Scenery">QÄ±ÅŸ MÉ™nzÉ™rÉ™si</span>
                        <p class="gallery-desc" data-lang-az="TufandaÄŸ qÄ±ÅŸ kurortunun aÄŸ Ã¶rtÃ¼klÃ¼ yamaclarÄ±. XizÉ™k hÉ™vÉ™skarlarÄ± Ã¼Ã§Ã¼n cÉ™nnÉ™t." data-lang-en="Snow-covered slopes of Tufandag winter resort. Paradise for skiing enthusiasts.">TufandaÄŸ qÄ±ÅŸ kurortunun aÄŸ Ã¶rtÃ¼klÃ¼ yamaclarÄ±. XizÉ™k hÉ™vÉ™skarlarÄ± Ã¼Ã§Ã¼n cÉ™nnÉ™t.</p>
                        <span class="gallery-location">ğŸ“ QÉ™bÉ™lÉ™</span>
                    </div>
                </div>
            </div>
            <div class="gallery-item">
                <div class="gallery-image gi-6"></div>
                <div class="gallery-overlay">
                    <div class="gallery-info">
                        <span class="gallery-title" data-lang-az="DaÄŸ KÉ™ndlÉ™ri" data-lang-en="Mountain Villages">DaÄŸ KÉ™ndlÉ™ri</span>
                        <p class="gallery-desc" data-lang-az="ÆnÉ™nÉ™vi daÄŸ kÉ™ndlÉ™ri. QonaqpÉ™rvÉ™rlik vÉ™ milli mÉ™tbÉ™x mÉ™dÉ™niyyÉ™ti." data-lang-en="Traditional mountain villages. Hospitality and national cuisine culture.">ÆnÉ™nÉ™vi daÄŸ kÉ™ndlÉ™ri. QonaqpÉ™rvÉ™rlik vÉ™ milli mÉ™tbÉ™x mÉ™dÉ™niyyÉ™ti.</p>
                        <span class="gallery-location">ğŸ“ LahÄ±c, Ä°smayÄ±llÄ±</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="contact-section">
        <!-- Animated Background -->
        <div class="contact-bg-animation">
            <div class="cloud cloud-1"></div>
            <div class="cloud cloud-2"></div>
            <div class="cloud cloud-3"></div>
            <div class="mountain-silhouette"></div>
        </div>
        
        <div class="contact-header">
            <span class="section-subtitle" data-lang-az="BizimlÉ™ ÆlaqÉ™" data-lang-en="Contact Us">BizimlÉ™ ÆlaqÉ™</span>
            <h2 class="section-title contact-title-animated" data-lang-az="SualÄ±nÄ±z Var?" data-lang-en="Have Questions?">SualÄ±nÄ±z Var?</h2>
            <p class="contact-subtitle">7/24 sizin xidmÉ™tinizdÉ™yik</p>
                        </div>
        
        <div class="contact-container-new">
            <!-- Contact Cards -->
            <div class="contact-cards-grid">
                <div class="contact-card glass-card">
                    <div class="contact-card-icon">ğŸ“</div>
                    <h3>Ãœnvan</h3>
                    <p>BakÄ± ÅŸÉ™hÉ™ri, Nizami kÃ¼Ã§É™si 45</p>
                    <a href="https://maps.google.com/?q=Baku,+Nizami+street+45" target="_blank" class="contact-card-link">XÉ™ritÉ™dÉ™ Bax â†’</a>
                    </div>
                
                <div class="contact-card glass-card">
                    <div class="contact-card-icon">ğŸ“</div>
                    <h3>Telefon</h3>
                            <p>+994 12 345 67 89</p>
                    <p>+994 50 123 45 67</p>
                    <a href="tel:+994123456789" class="contact-card-link">ZÉ™ng Et â†’</a>
                        </div>
                
                <div class="contact-card glass-card">
                    <div class="contact-card-icon">âœ‰ï¸</div>
                    <h3>E-poÃ§t</h3>
                            <p>info@dagtur.az</p>
                    <p>booking@dagtur.az</p>
                    <a href="mailto:info@dagtur.az" class="contact-card-link">E-poÃ§t GÃ¶ndÉ™r â†’</a>
                        </div>
                
                <div class="contact-card glass-card">
                    <div class="contact-card-icon">ğŸ•</div>
                    <h3>Ä°ÅŸ SaatlarÄ±</h3>
                    <p>7/24 AÃ§Ä±qdÄ±r</p>
                    <p>HÉ™miÅŸÉ™ sizin xidmÉ™tinizdÉ™</p>
                    <span class="contact-card-badge">â— 7/24</span>
                </div>
            </div>
            
            <!-- Contact Form -->
            <div class="contact-form-card">
                <h3>Mesaj GÃ¶ndÉ™r</h3>
                <form class="contact-form-new" id="contactFormNew">
                    <div class="form-row">
                        <div class="form-group-new">
                            <label>Ad Soyad</label>
                            <input type="text" id="contactName" placeholder="AdÄ±nÄ±z SoyadÄ±nÄ±z" required>
                </div>
                        <div class="form-group-new">
                            <label>Telefon</label>
                            <input type="tel" id="contactPhone" placeholder="+994 XX XXX XX XX" required>
                </div>
                    </div>
                    <div class="form-group-new">
                        <label>E-poÃ§t</label>
                        <input type="email" id="contactEmail" placeholder="email@example.com" required>
                    </div>
                    <div class="form-group-new">
                        <label>MÃ¶vzu</label>
                        <select id="contactSubject" required>
                            <option value="">MÃ¶vzu seÃ§in</option>
                            <option value="tour">Tur SifariÅŸi</option>
                            <option value="info">MÉ™lumat Almaq</option>
                            <option value="complaint">ÅikayÉ™t</option>
                        <option value="other">DigÉ™r</option>
                    </select>
                </div>
                    <div class="form-group-new">
                        <label>MesajÄ±nÄ±z</label>
                        <textarea id="contactMessage" placeholder="SualÄ±nÄ±zÄ± vÉ™ ya mesajÄ±nÄ±zÄ± yazÄ±n..." rows="4"></textarea>
                </div>
                    <button type="submit" class="submit-btn-new" id="contactSubmitBtn">GÃ¶ndÉ™r â†’</button>
            </form>
            </div>
        </div>
        
        <!-- Social Links -->
        <div class="contact-social">
            <a href="#" class="social-link" title="Instagram">ğŸ“·</a>
            <a href="#" class="social-link" title="Facebook">ğŸ‘¤</a>
            <a href="#" class="social-link" title="WhatsApp">ğŸ’¬</a>
            <a href="#" class="social-link" title="YouTube">â–¶ï¸</a>
        </div>
    </section>

    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://unpkg.com/leaflet-routing-machine@3.2.12/dist/leaflet-routing-machine.js"></script>
    
    <script>
        // DaÄŸ mÉ™lumatlarÄ± - AzÉ™rbaycan vÉ™ dÃ¼nya daÄŸlarÄ±
        const mountains = [
            // ========== AZÆRBAYCAN DAÄLARI ==========
            {
                id: 'bazarduzu',
                name: 'BazardÃ¼zÃ¼',
                coords: [41.2206, 47.8642],
                altitude: '4466 m',
                difficulty: 'MÃ¼rÉ™kkÉ™b',
                difficultyClass: 'hard',
                country: 'AzÉ™rbaycan',
                region: 'Qusar rayonu',
                description: 'AzÉ™rbaycanÄ±n É™n hÃ¼ndÃ¼r zirvÉ™si. BÃ¶yÃ¼k Qafqaz silsilÉ™sindÉ™, Rusiya sÉ™rhÉ™dindÉ™ yerlÉ™ÅŸir. AlpinistlÉ™r Ã¼Ã§Ã¼n É™n Ã§É™tin vÉ™ maraqlÄ± marÅŸrutlardan biridir.',
                transport: ['Jeep transfer (Qusar)', 'DaÄŸ bÉ™lÉ™dÃ§isi ilÉ™', 'At ilÉ™ yÃ¼k daÅŸÄ±ma'],
                routes: [
                    { type: 'Avtomobil', duration: '4-5 saat', path: 'BakÄ± â†’ Qusar â†’ LÉ™zÉ™ kÉ™ndi' },
                    { type: 'Piyada', duration: '2-3 gÃ¼n', path: 'LÉ™zÉ™ dÃ¼ÅŸÉ™rgÉ™si â†’ BazardÃ¼zÃ¼ zirvÉ™si' }
                ],
                hotels: ['ÅahdaÄŸ Resort', 'Qusar Park Hotel', 'LÉ™zÉ™ Guest House'],
                restaurants: ['Qusar Milli MÉ™tbÉ™x', 'DaÄŸ RestoranÄ±'],
                activities: ['Alpinizm', 'Trekking', 'Foto-tur', 'DÃ¼ÅŸÉ™rgÉ™']
            },
            {
                id: 'shahdag',
                name: 'ÅahdaÄŸ',
                coords: [41.2758, 48.1353],
                altitude: '4243 m',
                difficulty: 'Orta',
                difficultyClass: 'medium',
                country: 'AzÉ™rbaycan',
                region: 'Qusar rayonu',
                description: 'AzÉ™rbaycanÄ±n É™n mÉ™ÅŸhur qÄ±ÅŸ kurort zonasÄ±. MÃ¼asir xizÉ™k infrastrukturu vÉ™ heyrÉ™tamiz daÄŸ mÉ™nzÉ™rÉ™lÉ™ri ilÉ™ turistlÉ™ri cÉ™lb edir.',
                transport: ['Avtobus (BakÄ±-Qusar)', 'Taksi', 'ÅÉ™xsi avtomobil', 'Transfer xidmÉ™ti'],
                routes: [
                    { type: 'Avtomobil', duration: '3 saat', path: 'BakÄ± â†’ Qusar â†’ ÅahdaÄŸ Kurort' },
                    { type: 'Kanat yolu', duration: '15 dÉ™q', path: 'Kurort â†’ ZirvÉ™ stansiyasÄ±' }
                ],
                hotels: ['ÅahdaÄŸ Hotel', 'Pik Palace', 'Zirve Hotel', 'Park Chalet'],
                restaurants: ['Altitude Restaurant', 'ÅahdaÄŸ Lounge', 'DaÄŸ Evi'],
                activities: ['XizÉ™k', 'Snowboard', 'Paraqlaydinq', 'Trekking', 'ATV turu']
            },
            {
                id: 'tufandag',
                name: 'TufandaÄŸ',
                coords: [40.9981, 47.8503],
                altitude: '4191 m',
                difficulty: 'Asan',
                difficultyClass: 'easy',
                country: 'AzÉ™rbaycan',
                region: 'QÉ™bÉ™lÉ™ rayonu',
                description: 'QÉ™bÉ™lÉ™ rayonunda yerlÉ™ÅŸÉ™n mÃ¼asir turizm mÉ™rkÉ™zi. Yay vÉ™ qÄ±ÅŸ mÃ¶vsÃ¼mÃ¼ndÉ™ fÉ™aliyyÉ™t gÃ¶stÉ™rÉ™n kanat yolu ilÉ™ mÉ™ÅŸhurdur.',
                transport: ['Avtobus (BakÄ±-QÉ™bÉ™lÉ™)', 'Taksi', 'ÅÉ™xsi avtomobil'],
                routes: [
                    { type: 'Avtomobil', duration: '2.5 saat', path: 'BakÄ± â†’ QÉ™bÉ™lÉ™ â†’ TufandaÄŸ' },
                    { type: 'Kanat yolu', duration: '20 dÉ™q', path: 'AÅŸaÄŸÄ± stansiya â†’ YuxarÄ± stansiya' }
                ],
                hotels: ['Qafqaz Resort', 'Qafqaz Riverside', 'Chenot Palace', 'Marxal Resort'],
                restaurants: ['Qazmaq Restaurant', 'Riverside Cafe', 'DÉ™dÉ™ Qorqud'],
                activities: ['Kanat yolu', 'XizÉ™k', 'Zipline', 'At gÉ™zintisi', 'Paraqlaydinq']
            },
            {
                id: 'babadag',
                name: 'BabadaÄŸ',
                coords: [41.1167, 48.3833],
                altitude: '3629 m',
                difficulty: 'Orta',
                difficultyClass: 'medium',
                country: 'AzÉ™rbaycan',
                region: 'Quba rayonu',
                description: 'Quba rayonunda yerlÉ™ÅŸÉ™n mÃ¼qÉ™ddÉ™s daÄŸ. ZiyarÉ™t yeri kimi tanÄ±nÄ±r vÉ™ hÉ™r il minlÉ™rlÉ™ zÉ™vvar buraya gÉ™lir.',
                transport: ['Taksi (Quba)', 'ÅÉ™xsi avtomobil', 'Piyada'],
                routes: [
                    { type: 'Avtomobil', duration: '3 saat', path: 'BakÄ± â†’ Quba â†’ BabadaÄŸ É™tÉ™yi' },
                    { type: 'Piyada', duration: '4-5 saat', path: 'BabadaÄŸ É™tÉ™yi â†’ ZirvÉ™' }
                ],
                hotels: ['Quba Palace Hotel', 'Rixos Quba', 'Quba Olympic Complex'],
                restaurants: ['Quba Milli MÉ™tbÉ™x', 'Apple Garden', 'Sahil Restaurant'],
                activities: ['ZiyarÉ™t', 'Trekking', 'Meditasiya', 'Foto-tur']
            },
            {
                id: 'khinaliq',
                name: 'XÄ±nalÄ±q',
                coords: [41.1831, 48.1264],
                altitude: '2350 m',
                difficulty: 'Orta',
                difficultyClass: 'medium',
                country: 'AzÉ™rbaycan',
                region: 'Quba rayonu',
                description: 'DÃ¼nyanÄ±n É™n qÉ™dim yaÅŸayÄ±ÅŸ yerlÉ™rindÉ™n biri. 5000 illik tarixÉ™ malik unikal mÉ™dÉ™niyyÉ™t vÉ™ dil.',
                transport: ['Jeep (Quba)', '4x4 avtomobil'],
                routes: [
                    { type: 'Avtomobil', duration: '4 saat', path: 'BakÄ± â†’ Quba â†’ XÄ±nalÄ±q' },
                    { type: 'Piyada', duration: '1 gÃ¼n', path: 'QrÄ±z kÉ™ndi â†’ XÄ±nalÄ±q' }
                ],
                hotels: ['XÄ±nalÄ±q Guest House', 'Yerli evlÉ™r', 'Quba otellÉ™r'],
                restaurants: ['Yerli ev yemÉ™klÉ™ri', 'XÄ±nalÄ±q Ã§ayxanasÄ±'],
                activities: ['MÉ™dÉ™ni tur', 'Etnoqrafiya', 'Trekking', 'Foto-tur', 'Yerli sÉ™nÉ™tkarlÄ±q']
            },
            {
                id: 'qobustan',
                name: 'BÃ¶yÃ¼kdaÅŸ',
                coords: [40.0856, 49.3772],
                altitude: '400 m',
                difficulty: 'Asan',
                difficultyClass: 'easy',
                country: 'AzÉ™rbaycan',
                region: 'Qobustan rayonu',
                description: 'Qobustan Milli ParkÄ±nda yerlÉ™ÅŸÉ™n qÉ™dim qayaÃ¼stÃ¼ rÉ™smlÉ™r mÉ™skÉ™ni. UNESCO DÃ¼nya Ä°rsi siyahÄ±sÄ±ndadÄ±r.',
                transport: ['Avtobus', 'Taksi', 'ÅÉ™xsi avtomobil', 'Tur avtobusu'],
                routes: [
                    { type: 'Avtomobil', duration: '1 saat', path: 'BakÄ± â†’ Qobustan' }
                ],
                hotels: ['BakÄ± otellÉ™ri', 'Qobustan yaxÄ±nlÄ±ÄŸÄ±'],
                restaurants: ['Qobustan Cafe', 'BakÄ± restoranlarÄ±'],
                activities: ['Muzey ziyarÉ™ti', 'QayaÃ¼stÃ¼ rÉ™smlÉ™r', 'PalÃ§Ä±q vulkanlarÄ±', 'Foto-tur']
            },
            {
                id: 'kapaz',
                name: 'KÉ™pÉ™z',
                coords: [40.5167, 46.3167],
                altitude: '3066 m',
                difficulty: 'Orta',
                difficultyClass: 'medium',
                country: 'AzÉ™rbaycan',
                region: 'GÉ™dÉ™bÉ™y rayonu',
                description: 'KiÃ§ik QafqazÄ±n É™n gÃ¶zÉ™l daÄŸlarÄ±ndan biri. GÃ¶ygÃ¶l Milli ParkÄ±nÄ±n É™razisindÉ™ yerlÉ™ÅŸir. ÆtrafÄ±nda gÃ¶llÉ™r vÉ™ meÅŸÉ™lÉ™r var.',
                transport: ['ÅÉ™xsi avtomobil', 'Taksi (GÉ™ncÉ™)', 'Tur avtobusu'],
                routes: [
                    { type: 'Avtomobil', duration: '4 saat', path: 'BakÄ± â†’ GÉ™ncÉ™ â†’ GÃ¶ygÃ¶l â†’ KÉ™pÉ™z' },
                    { type: 'Piyada', duration: '5-6 saat', path: 'GÃ¶ygÃ¶l â†’ KÉ™pÉ™z zirvÉ™si' }
                ],
                hotels: ['GÃ¶ygÃ¶l Park Hotel', 'GÉ™ncÉ™ otellÉ™r'],
                restaurants: ['GÃ¶ygÃ¶l restoranÄ±', 'GÉ™ncÉ™ mÉ™tbÉ™xi'],
                activities: ['Trekking', 'GÃ¶l turu', 'Piknik', 'Foto-tur']
            },
            {
                id: 'murovdag',
                name: 'MurovdaÄŸ',
                coords: [40.3500, 46.4167],
                altitude: '3724 m',
                difficulty: 'MÃ¼rÉ™kkÉ™b',
                difficultyClass: 'hard',
                country: 'AzÉ™rbaycan',
                region: 'KÉ™lbÉ™cÉ™r rayonu',
                description: 'KiÃ§ik QafqazÄ±n É™n hÃ¼ndÃ¼r zirvÉ™si. GamÄ±ÅŸdaÄŸ adÄ± ilÉ™ dÉ™ tanÄ±nÄ±r. Nadir flora vÉ™ fauna nÃ¶vlÉ™ri ilÉ™ zÉ™ngindir.',
                transport: ['4x4 avtomobil', 'DaÄŸ bÉ™lÉ™dÃ§isi'],
                routes: [
                    { type: 'Avtomobil', duration: '5-6 saat', path: 'BakÄ± â†’ KÉ™lbÉ™cÉ™r â†’ MurovdaÄŸ É™tÉ™yi' },
                    { type: 'Piyada', duration: '2 gÃ¼n', path: 'DÃ¼ÅŸÉ™rgÉ™ â†’ ZirvÉ™' }
                ],
                hotels: ['KÉ™lbÉ™cÉ™r mehmanxanalarÄ±'],
                restaurants: ['Yerli mÉ™tbÉ™x'],
                activities: ['Alpinizm', 'Trekking', 'DÃ¼ÅŸÉ™rgÉ™', 'HÉ™rbÃ§i yolu']
            },
            {
                id: 'ilancidagi',
                name: 'Ä°lancÄ± daÄŸÄ±',
                coords: [38.9333, 48.8500],
                altitude: '2415 m',
                difficulty: 'Orta',
                difficultyClass: 'medium',
                country: 'AzÉ™rbaycan',
                region: 'LÉ™nkÉ™ran rayonu',
                description: 'TalÄ±ÅŸ daÄŸlarÄ±nÄ±n É™n hÃ¼ndÃ¼r zirvÉ™lÉ™rindÉ™n biri. Subtropik meÅŸÉ™lÉ™r vÉ™ nadir bitki Ã¶rtÃ¼yÃ¼ ilÉ™ É™hatÉ™ olunub.',
                transport: ['ÅÉ™xsi avtomobil', 'Taksi (LÉ™nkÉ™ran)'],
                routes: [
                    { type: 'Avtomobil', duration: '5 saat', path: 'BakÄ± â†’ LÉ™nkÉ™ran â†’ Ä°lancÄ± daÄŸÄ±' },
                    { type: 'Piyada', duration: '1 gÃ¼n', path: 'KÉ™nd â†’ ZirvÉ™' }
                ],
                hotels: ['LÉ™nkÉ™ran otellÉ™r', 'Lerik mehmanxanalarÄ±'],
                restaurants: ['LÉ™nkÉ™ran mÉ™tbÉ™xi', 'Yerli restoranlar'],
                activities: ['Trekking', 'Ekoturizm', 'QuÅŸ mÃ¼ÅŸahidÉ™si', 'Foto-tur']
            },
            {
                id: 'goyazan',
                name: 'Goyazan',
                coords: [40.8333, 48.9667],
                altitude: '857 m',
                difficulty: 'Asan',
                difficultyClass: 'easy',
                country: 'AzÉ™rbaycan',
                region: 'ÅamaxÄ± rayonu',
                description: 'ÅamaxÄ± rayonunda yerlÉ™ÅŸÉ™n tarixi daÄŸ. QÉ™dim astronomik rÉ™sÉ™dxana qalÄ±qlarÄ± tapÄ±lÄ±b.',
                transport: ['ÅÉ™xsi avtomobil', 'Taksi'],
                routes: [
                    { type: 'Avtomobil', duration: '2 saat', path: 'BakÄ± â†’ ÅamaxÄ± â†’ Goyazan' }
                ],
                hotels: ['ÅamaxÄ± otellÉ™r'],
                restaurants: ['ÅamaxÄ± restoranlarÄ±'],
                activities: ['Tarixi tur', 'Trekking', 'Foto-tur']
            },
            {
                id: 'yanardag',
                name: 'YanardaÄŸ',
                coords: [40.5017, 49.8903],
                altitude: '116 m',
                difficulty: 'Asan',
                difficultyClass: 'easy',
                country: 'AzÉ™rbaycan',
                region: 'AbÅŸeron rayonu',
                description: 'TÉ™bii qaz yanmasÄ± nÉ™ticÉ™sindÉ™ daim alÄ±ÅŸan daÄŸ yamacÄ±. "Odlar yurdu" AzÉ™rbaycanÄ±n simvolu.',
                transport: ['Avtobus', 'Taksi', 'Metro + avtobus'],
                routes: [
                    { type: 'Avtomobil', duration: '30 dÉ™q', path: 'BakÄ± mÉ™rkÉ™z â†’ YanardaÄŸ' }
                ],
                hotels: ['BakÄ± otellÉ™r'],
                restaurants: ['BakÄ± restoranlarÄ±'],
                activities: ['Muzey ziyarÉ™ti', 'Foto-tur', 'GecÉ™ turu']
            }
        ];

        // Ä°stifadÉ™Ã§i mÃ¶vqeyi (BakÄ±)
        let userLocation = [40.4093, 49.8671];
        let map;
        let routingControl = null;
        let selectedMountain = null;
        let userMarker = null;

        // Ã–lkÉ™ bayraqlarÄ±
        const countryFlags = {
            'AzÉ™rbaycan': 'ğŸ‡¦ğŸ‡¿',
            'GÃ¼rcÃ¼stan': 'ğŸ‡¬ğŸ‡ª',
            'ErmÉ™nistan': 'ğŸ‡¦ğŸ‡²',
            'TÃ¼rkiyÉ™': 'ğŸ‡¹ğŸ‡·',
            'Rusiya': 'ğŸ‡·ğŸ‡º',
            'Ä°ran': 'ğŸ‡®ğŸ‡·',
            'Fransa/Ä°taliya': 'ğŸ‡«ğŸ‡·',
            'Ä°sveÃ§rÉ™/Ä°taliya': 'ğŸ‡¨ğŸ‡­',
            'Nepal/Ã‡in': 'ğŸ‡³ğŸ‡µ',
            'Pakistan/Ã‡in': 'ğŸ‡µğŸ‡°',
            'Yaponiya': 'ğŸ‡¯ğŸ‡µ',
            'Tanzaniya': 'ğŸ‡¹ğŸ‡¿',
            'ABÅ': 'ğŸ‡ºğŸ‡¸',
            'Argentina': 'ğŸ‡¦ğŸ‡·'
        };

        // XÉ™ritÉ™ni inisializasiya et
        function initMap() {
            map = L.map('azerbaijan-map').setView([40.5, 47.5], 7);

            // Fiziki/Topoqrafik xÉ™ritÉ™ (OpenTopoMap)
            const topoLayer = L.tileLayer('https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png', {
                attribution: 'Â© OpenTopoMap contributors',
                maxZoom: 17
            });
            
            // Satellite gÃ¶rÃ¼nÃ¼ÅŸÃ¼ (Esri)
            const satelliteLayer = L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', {
                attribution: 'Â© Esri',
                maxZoom: 18
            });
            
            // Standart xÉ™ritÉ™
            const standardLayer = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: 'Â© OpenStreetMap contributors',
                maxZoom: 18
            });
            
            // Default olaraq fiziki xÉ™ritÉ™
            topoLayer.addTo(map);
            
            // Layer control
            const baseMaps = {
                "ğŸ”ï¸ Fiziki XÉ™ritÉ™": topoLayer,
                "ğŸ›°ï¸ Peyk GÃ¶rÃ¼nÃ¼ÅŸÃ¼": satelliteLayer,
                "ğŸ—ºï¸ Standart": standardLayer
            };
            
            L.control.layers(baseMaps, null, { position: 'topright' }).addTo(map);

            // DaÄŸ markerlÉ™rini É™lavÉ™ et
            addMountainMarkers(mountains);
            
            // Zoom dÉ™yiÅŸdikdÉ™ marker Ã¶lÃ§Ã¼sÃ¼nÃ¼ yenilÉ™
            map.on('zoomend', updateMarkerSizes);

            // Ä°stifadÉ™Ã§i mÃ¶vqeyini É™ldÉ™ et
            getUserLocation();
        }

        // Ä°stifadÉ™Ã§i mÃ¶vqeyini al
        function getUserLocation() {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(
                    (position) => {
                        userLocation = [position.coords.latitude, position.coords.longitude];
                        addUserMarker();
                        
                        // MÃ¶vqeyi izlÉ™mÉ™yÉ™ davam et
                        watchUserLocation();
                    },
                    (error) => {
                        console.log('Geolocation xÉ™tasÄ±:', error.message);
                        // Geolocation uÄŸursuz olsa, default BakÄ±
                        addUserMarker();
                    },
                    {
                        enableHighAccuracy: true,  // DÉ™qiq mÃ¶vqe
                        timeout: 10000,            // 10 saniyÉ™ gÃ¶zlÉ™
                        maximumAge: 0              // KeÅŸlÉ™nmiÅŸ mÃ¶vqe istifadÉ™ etmÉ™
                    }
                );
            } else {
                addUserMarker();
            }
        }

        // MÃ¶vqeyi davamlÄ± izlÉ™
        let watchId = null;
        function watchUserLocation() {
            if (navigator.geolocation && !watchId) {
                watchId = navigator.geolocation.watchPosition(
                    (position) => {
                        userLocation = [position.coords.latitude, position.coords.longitude];
                        updateUserMarkerPosition();
                    },
                    (error) => {
                        console.log('MÃ¶vqe izlÉ™mÉ™ xÉ™tasÄ±:', error.message);
                    },
                    {
                        enableHighAccuracy: true,
                        timeout: 15000,
                        maximumAge: 5000
                    }
                );
            }
        }

        // Ä°stifadÉ™Ã§i markerini É™lavÉ™ et
        function addUserMarker() {
            const userIcon = L.divIcon({
                className: 'user-marker-icon',
                html: `<div class="user-marker-content">
                    <span class="pulse"></span>
                    <span class="user-icon">ğŸ“</span>
                </div>`,
                iconSize: [40, 40],
                iconAnchor: [20, 40]
            });

            if (userMarker) {
                map.removeLayer(userMarker);
            }

            userMarker = L.marker(userLocation, { icon: userIcon, zIndexOffset: 1000 })
                .addTo(map)
                .bindPopup('<strong>Sizin mÃ¶vqeyiniz</strong>');
        }

        // Ä°stifadÉ™Ã§i marker mÃ¶vqeyini yenilÉ™
        function updateUserMarkerPosition() {
            if (userMarker) {
                userMarker.setLatLng(userLocation);
            }
        }

        // DaÄŸ mÉ™lumatÄ±nÄ± gÃ¶stÉ™r
        function showMountainInfo(mountain) {
            selectedMountain = mountain;
            
            document.getElementById('infoPlaceholder').style.display = 'none';
            document.getElementById('infoContent').style.display = 'block';

            const flag = countryFlags[mountain.country] || 'ğŸ”ï¸';
            document.getElementById('mountainName').innerHTML = `${mountain.name} <span class="country-flag">${flag}</span>`;
            document.getElementById('mountainAltitude').textContent = mountain.altitude;
            
            // Ã–lkÉ™ vÉ™ region mÉ™lumatÄ±
            const countryInfo = document.getElementById('mountainCountry');
            if (countryInfo) {
                countryInfo.textContent = `${mountain.country} â€¢ ${mountain.region}`;
            }
            
            const difficultyBadge = document.querySelector('.difficulty-badge');
            difficultyBadge.textContent = mountain.difficulty;
            difficultyBadge.className = `difficulty-badge ${mountain.difficultyClass}`;
            
            document.getElementById('mountainDescription').textContent = mountain.description;

            // NÉ™qliyyat siyahÄ±sÄ±
            const transportList = document.getElementById('transportList');
            transportList.innerHTML = mountain.transport.map(t => `<li>${t}</li>`).join('');

            // MarÅŸrut siyahÄ±sÄ±
            const routesList = document.getElementById('routesList');
            routesList.innerHTML = mountain.routes.map(r => `
                <div class="route-item">
                    <span class="route-type">${r.type}</span>
                    <span class="route-duration">${r.duration}</span>
                    <p class="route-path">${r.path}</p>
                </div>
            `).join('');

            // AktivitÉ™lÉ™r siyahÄ±sÄ±
            const activitiesList = document.getElementById('mapActivities');
            if (activitiesList && mountain.activities) {
                activitiesList.innerHTML = mountain.activities.map(act => 
                    `<span class="activity-tag clickable" onclick="openActivityModal('${act}')">${act}</span>`
                ).join('');
            }

            // DetallÄ± sÉ™hifÉ™ linki
            document.getElementById('detailsBtn').href = `mountain-details.html?id=${mountain.id}`;
            
            // Google Maps linki
            document.getElementById('googleMapsBtn').href = 
                `https://www.google.com/maps/dir/?api=1&origin=${userLocation[0]},${userLocation[1]}&destination=${mountain.coords[0]},${mountain.coords[1]}`;

            // Sevimli dÃ¼ymÉ™sini yenilÉ™
            updateFavoriteButton(mountain);

            // XÉ™ritÉ™dÉ™ fokusla
            map.flyTo(mountain.coords, 10, { duration: 1 });
        }
        
        // Sevimli dÃ¼ymÉ™sini yenilÉ™
        function updateFavoriteButton(mountain) {
            const favBtn = document.getElementById('favoriteBtn');
            const user = getCurrentUser();
            
            if (!user) {
                favBtn.querySelector('.fav-icon').textContent = 'ğŸ¤';
                return;
            }
            
            const favorites = user.favorites || [];
            const isFavorite = favorites.some(f => f.id === mountain.id);
            
            favBtn.querySelector('.fav-icon').textContent = isFavorite ? 'â¤ï¸' : 'ğŸ¤';
            favBtn.classList.toggle('is-favorite', isFavorite);
        }
        
        // SevimlilÉ™rÉ™ É™lavÉ™ et / sil
        function toggleFavorite() {
            const user = getCurrentUser();
            
            if (!user) {
                showNotification(currentLanguage === 'az' ? 'SevimlilÉ™rÉ™ É™lavÉ™ etmÉ™k Ã¼Ã§Ã¼n giriÅŸ edin' : 'Login to add to favorites', 'error');
                openLoginModal();
                return;
            }
            
            if (!selectedMountain) return;
            
            const favorites = user.favorites || [];
            const existingIndex = favorites.findIndex(f => f.id === selectedMountain.id);
            
            if (existingIndex !== -1) {
                // Sil
                favorites.splice(existingIndex, 1);
                showNotification(currentLanguage === 'az' ? 'SevimlilÉ™rdÉ™n silindi' : 'Removed from favorites', 'success');
            } else {
                // ÆlavÉ™ et
                favorites.push({
                    id: selectedMountain.id,
                    name: selectedMountain.name,
                    altitude: selectedMountain.altitude,
                    country: selectedMountain.country,
                    image: `https://images.unsplash.com/photo-1464822759023-fed622ff2c3b?w=400`,
                    type: 'mountain'
                });
                showNotification(currentLanguage === 'az' ? 'SevimlilÉ™rÉ™ É™lavÉ™ edildi' : 'Added to favorites', 'success');
            }
            
            user.favorites = favorites;
            updateCurrentUser(user);
            
            // Users massivindÉ™ dÉ™ yenilÉ™
            const users = getUsers();
            const userIndex = users.findIndex(u => u.id === user.id);
            if (userIndex !== -1) {
                users[userIndex].favorites = favorites;
                saveUsers(users);
            }
            
            updateFavoriteButton(selectedMountain);
        }
        
        // Cari istifadÉ™Ã§ini al
        function getCurrentUser() {
            const user = localStorage.getItem(CURRENT_USER_KEY);
            return user ? JSON.parse(user) : null;
        }
        
        // Cari istifadÉ™Ã§ini yenilÉ™
        function updateCurrentUser(userData) {
            localStorage.setItem(CURRENT_USER_KEY, JSON.stringify(userData));
        }
        
        // Tur sevimlilÉ™rÉ™ É™lavÉ™ et / sil
        function toggleTourFavorite(btn) {
            const user = getCurrentUser();
            
            if (!user) {
                showNotification(currentLanguage === 'az' ? 'SevimlilÉ™rÉ™ É™lavÉ™ etmÉ™k Ã¼Ã§Ã¼n giriÅŸ edin' : 'Login to add to favorites', 'error');
                openLoginModal();
                return;
            }
            
            const tourCard = btn.closest('.tour-card');
            const tourId = tourCard.dataset.tourId;
            const tourName = tourCard.querySelector('h3').textContent;
            const tourPrice = tourCard.querySelector('.tour-price').textContent;
            
            const favorites = user.favorites || [];
            const existingIndex = favorites.findIndex(f => f.id === tourId);
            
            if (existingIndex !== -1) {
                // Sil
                favorites.splice(existingIndex, 1);
                btn.textContent = 'ğŸ¤';
                btn.classList.remove('is-favorite');
                showNotification(currentLanguage === 'az' ? 'SevimlilÉ™rdÉ™n silindi' : 'Removed from favorites', 'success');
            } else {
                // ÆlavÉ™ et
                favorites.push({
                    id: tourId,
                    name: tourName,
                    price: tourPrice,
                    type: 'tour',
                    image: 'https://images.unsplash.com/photo-1551632811-561732d1e306?w=400'
                });
                btn.textContent = 'â¤ï¸';
                btn.classList.add('is-favorite');
                showNotification(currentLanguage === 'az' ? 'SevimlilÉ™rÉ™ É™lavÉ™ edildi' : 'Added to favorites', 'success');
            }
            
            user.favorites = favorites;
            updateCurrentUser(user);
            
            // Users massivindÉ™ dÉ™ yenilÉ™
            const users = getUsers();
            const userIndex = users.findIndex(u => u.id === user.id);
            if (userIndex !== -1) {
                users[userIndex].favorites = favorites;
                saveUsers(users);
            }
        }
        
        // Tur sevimlilÉ™rini yÃ¼klÉ™
        function loadTourFavorites() {
            const user = getCurrentUser();
            if (!user) return;
            
            const favorites = user.favorites || [];
            document.querySelectorAll('.tour-card').forEach(card => {
                const tourId = card.dataset.tourId;
                const btn = card.querySelector('.tour-favorite-btn');
                if (btn && favorites.some(f => f.id === tourId)) {
                    btn.textContent = 'â¤ï¸';
                    btn.classList.add('is-favorite');
                }
            });
        }

        // ==========================================
        // BÆLÆDÃ‡I MÆLUMATLARI
        // ==========================================
        const guidesData = {
            elchin: {
                id: 'elchin',
                name: 'ElÃ§in MÉ™mmÉ™dov',
                role: { az: 'BaÅŸ BÉ™lÉ™dÃ§i', en: 'Head Guide', ru: 'Ğ“Ğ»Ğ°Ğ²Ğ½Ñ‹Ğ¹ Ğ³Ğ¸Ğ´', tr: 'BaÅŸ Rehber' },
                image: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400',
                experience: 15,
                tours: 450,
                rating: '4.9',
                bio: {
                    az: 'ElÃ§in 15 ildÉ™n artÄ±qdÄ±r ki, daÄŸ turizmindÉ™ fÉ™aliyyÉ™t gÃ¶stÉ™rir. BazardÃ¼zÃ¼ zirvÉ™sini 20 dÉ™fÉ™dÉ™n Ã§ox fÉ™th edib. BeynÉ™lxalq alpinizm sertifikatlarÄ±na malikdir.',
                    en: 'Elchin has been active in mountain tourism for over 15 years. He has conquered Bazarduzu peak more than 20 times. He holds international alpinism certificates.',
                    ru: 'Ğ­Ğ»ÑŒÑ‡Ğ¸Ğ½ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ Ğ² Ğ³Ğ¾Ñ€Ğ½Ğ¾Ğ¼ Ñ‚ÑƒÑ€Ğ¸Ğ·Ğ¼Ğµ Ğ±Ğ¾Ğ»ĞµĞµ 15 Ğ»ĞµÑ‚. ĞĞ½ Ğ¿Ğ¾ĞºĞ¾Ñ€Ğ¸Ğ» Ğ²ĞµÑ€ÑˆĞ¸Ğ½Ñƒ Ğ‘Ğ°Ğ·Ğ°Ñ€Ğ´ÑĞ·Ñ Ğ±Ğ¾Ğ»ĞµĞµ 20 Ñ€Ğ°Ğ·. Ğ˜Ğ¼ĞµĞµÑ‚ Ğ¼ĞµĞ¶Ğ´ÑƒĞ½Ğ°Ñ€Ğ¾Ğ´Ğ½Ñ‹Ğµ ÑĞµÑ€Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ‚Ñ‹ Ğ¿Ğ¾ Ğ°Ğ»ÑŒĞ¿Ğ¸Ğ½Ğ¸Ğ·Ğ¼Ñƒ.',
                    tr: 'ElÃ§in 15 yÄ±lÄ± aÅŸkÄ±n sÃ¼redir daÄŸ turizminde aktif. BazardÃ¼zÃ¼ zirvesini 20\'den fazla kez fethetti. UluslararasÄ± daÄŸcÄ±lÄ±k sertifikalarÄ±na sahip.'
                },
                certs: ['UIAGM Alpinizm SertifikatÄ±', 'Ä°lk YardÄ±m SertifikatÄ±', 'XilasetmÉ™ TÉ™limi'],
                languages: ['ğŸ‡¦ğŸ‡¿ AzÉ™rbaycan', 'ğŸ‡·ğŸ‡º Ğ ÑƒÑÑĞºĞ¸Ğ¹', 'ğŸ‡¬ğŸ‡§ English']
            },
            leyla: {
                id: 'leyla',
                name: 'Leyla HÉ™sÉ™nova',
                role: { az: 'Trekking BÉ™lÉ™dÃ§isi', en: 'Trekking Guide', ru: 'Ğ“Ğ¸Ğ´ Ğ¿Ğ¾ Ñ‚Ñ€ĞµĞºĞºĞ¸Ğ½Ğ³Ñƒ', tr: 'Trekking Rehberi' },
                image: 'https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=400',
                experience: 8,
                tours: 280,
                rating: '4.8',
                bio: {
                    az: 'Leyla ekoturizm vÉ™ tÉ™biÉ™t mÃ¼hafizÉ™si sahÉ™sindÉ™ mÃ¼tÉ™xÉ™ssisdir. XÄ±nalÄ±q, LahÄ±c vÉ™ digÉ™r tarixi kÉ™ndlÉ™rÉ™ turlar tÉ™ÅŸkil edir.',
                    en: 'Leyla is a specialist in ecotourism and nature conservation. She organizes tours to Khinalig, Lahij and other historical villages.',
                    ru: 'Ğ›ĞµĞ¹Ğ»Ğ° - ÑĞ¿ĞµÑ†Ğ¸Ğ°Ğ»Ğ¸ÑÑ‚ Ğ¿Ğ¾ ÑĞºĞ¾Ñ‚ÑƒÑ€Ğ¸Ğ·Ğ¼Ñƒ Ğ¸ Ğ¾Ñ…Ñ€Ğ°Ğ½Ğµ Ğ¿Ñ€Ğ¸Ñ€Ğ¾Ğ´Ñ‹. ĞÑ€Ğ³Ğ°Ğ½Ğ¸Ğ·ÑƒĞµÑ‚ Ñ‚ÑƒÑ€Ñ‹ Ğ² Ğ¥Ñ‹Ğ½Ğ°Ğ»Ñ‹Ğ³, Ğ›Ğ°Ğ³Ğ¸Ñ‡ Ğ¸ Ğ´Ñ€ÑƒĞ³Ğ¸Ğµ Ğ¸ÑÑ‚Ğ¾Ñ€Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ ÑĞµĞ»Ğ°.',
                    tr: 'Leyla ekoturizm ve doÄŸa koruma uzmanÄ±dÄ±r. HÄ±nalÄ±k, LahÄ±c ve diÄŸer tarihi kÃ¶ylere turlar dÃ¼zenler.'
                },
                certs: ['Ekoturizm SertifikatÄ±', 'Ä°lk YardÄ±m SertifikatÄ±', 'Botanika Eksperti'],
                languages: ['ğŸ‡¦ğŸ‡¿ AzÉ™rbaycan', 'ğŸ‡¬ğŸ‡§ English', 'ğŸ‡¹ğŸ‡· TÃ¼rkÃ§e']
            },
            rashad: {
                id: 'rashad',
                name: 'RÉ™ÅŸad Æliyev',
                role: { az: 'QÄ±ÅŸ TurlarÄ± BÉ™lÉ™dÃ§isi', en: 'Winter Tours Guide', ru: 'Ğ“Ğ¸Ğ´ Ğ¿Ğ¾ Ğ·Ğ¸Ğ¼Ğ½Ğ¸Ğ¼ Ñ‚ÑƒÑ€Ğ°Ğ¼', tr: 'KÄ±ÅŸ TurlarÄ± Rehberi' },
                image: 'https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=400',
                experience: 10,
                tours: 320,
                rating: '4.9',
                bio: {
                    az: 'RÉ™ÅŸad professional xizÉ™kÃ§i vÉ™ qÄ±ÅŸ idmanlarÄ± mÃ¼tÉ™xÉ™ssisidir. ÅahdaÄŸ vÉ™ TufandaÄŸ kurortlarÄ±nda 10 il instruktor kimi Ã§alÄ±ÅŸÄ±b.',
                    en: 'Rashad is a professional skier and winter sports specialist. He has worked as an instructor at Shahdag and Tufandag resorts for 10 years.',
                    ru: 'Ğ Ğ°ÑˆĞ°Ğ´ - Ğ¿Ñ€Ğ¾Ñ„ĞµÑÑĞ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ»Ñ‹Ğ¶Ğ½Ğ¸Ğº Ğ¸ ÑĞ¿ĞµÑ†Ğ¸Ğ°Ğ»Ğ¸ÑÑ‚ Ğ¿Ğ¾ Ğ·Ğ¸Ğ¼Ğ½Ğ¸Ğ¼ Ğ²Ğ¸Ğ´Ğ°Ğ¼ ÑĞ¿Ğ¾Ñ€Ñ‚Ğ°. 10 Ğ»ĞµÑ‚ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°Ğ» Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞºÑ‚Ğ¾Ñ€Ğ¾Ğ¼ Ğ½Ğ° ĞºÑƒÑ€Ğ¾Ñ€Ñ‚Ğ°Ñ… Ğ¨Ğ°Ñ…Ğ´Ğ°Ğ³ Ğ¸ Ğ¢ÑƒÑ„Ğ°Ğ½Ğ´Ğ°Ğ³.',
                    tr: 'ReÅŸad profesyonel kayakÃ§Ä± ve kÄ±ÅŸ sporlarÄ± uzmanÄ±dÄ±r. ÅahdaÄŸ ve TufandaÄŸ tatil kÃ¶ylerinde 10 yÄ±l eÄŸitmen olarak Ã§alÄ±ÅŸtÄ±.'
                },
                certs: ['FIS XizÉ™k Instruktoru', 'Ã‡Ä±ÄŸ TÉ™hlÃ¼kÉ™sizliyi', 'DaÄŸ XilasetmÉ™si'],
                languages: ['ğŸ‡¦ğŸ‡¿ AzÉ™rbaycan', 'ğŸ‡·ğŸ‡º Ğ ÑƒÑÑĞºĞ¸Ğ¹', 'ğŸ‡¬ğŸ‡§ English']
            }
        };

        let currentGuideId = null;

        // ==========================================
        // AKTÄ°VÄ°TÆ SÄ°STEMÄ°
        // ==========================================
        const activitiesData = {
            'Alpinizm': {
                icon: 'ğŸ§—',
                name: { az: 'Alpinizm', en: 'Mountaineering', ru: 'ĞĞ»ÑŒĞ¿Ğ¸Ğ½Ğ¸Ğ·Ğ¼', tr: 'DaÄŸcÄ±lÄ±k' },
                desc: { 
                    az: 'Alpinizm daÄŸlarÄ±n zirvÉ™lÉ™rinÉ™ qalxmaq sÉ™nÉ™tidir. Professional avadanlÄ±q vÉ™ tÉ™crÃ¼bÉ™ tÉ™lÉ™b edir. AzÉ™rbaycanÄ±n É™n yÃ¼ksÉ™k zirvÉ™lÉ™rini fÉ™th etmÉ™k Ã¼Ã§Ã¼n ideal fÃ¼rsÉ™tdir.',
                    en: 'Mountaineering is the art of climbing to mountain peaks. Requires professional equipment and experience. An ideal opportunity to conquer Azerbaijan\'s highest peaks.'
                },
                duration: { az: '2-7 gÃ¼n', en: '2-7 days' },
                difficulty: { az: 'MÃ¼rÉ™kkÉ™b', en: 'Hard' },
                price: 'â‚¼500-1500',
                group: { az: '5-12 nÉ™fÉ™r', en: '5-12 people' },
                requirements: [
                    { az: 'Fiziki hazÄ±rlÄ±q', en: 'Physical fitness' },
                    { az: 'Æsas alpinizm tÉ™crÃ¼bÉ™si', en: 'Basic mountaineering experience' },
                    { az: 'Tibbi arayÄ±ÅŸ', en: 'Medical certificate' },
                    { az: '18 yaÅŸdan yuxarÄ±', en: 'Age 18+' }
                ],
                equipment: ['Ä°p', 'KarabinlÉ™r', 'Alpinizm ayaqqabÄ±sÄ±', 'Kaska', 'Buz baltasÄ±']
            },
            'Trekking': {
                icon: 'ğŸ¥¾',
                name: { az: 'Trekking', en: 'Trekking', ru: 'Ğ¢Ñ€ĞµĞºĞºĞ¸Ğ½Ğ³', tr: 'Trekking' },
                desc: { 
                    az: 'Uzun mÉ™safÉ™li piyada gÉ™zintilÉ™r daÄŸ cÄ±ÄŸÄ±rlarÄ± boyunca. TÉ™biÉ™tin gÃ¶zÉ™lliklÉ™rini kÉ™ÅŸf etmÉ™k vÉ™ fiziki aktivlik Ã¼Ã§Ã¼n É™la seÃ§imdir.',
                    en: 'Long-distance hiking along mountain trails. An excellent choice for discovering natural beauty and physical activity.'
                },
                duration: { az: '1-5 gÃ¼n', en: '1-5 days' },
                difficulty: { az: 'Orta', en: 'Medium' },
                price: 'â‚¼100-400',
                group: { az: '5-20 nÉ™fÉ™r', en: '5-20 people' },
                requirements: [
                    { az: 'YaxÅŸÄ± fiziki forma', en: 'Good physical condition' },
                    { az: 'Rahat gÉ™zinti ayaqqabÄ±sÄ±', en: 'Comfortable hiking shoes' },
                    { az: 'YaÅŸ mÉ™hdudiyyÉ™ti yoxdur', en: 'No age limit' }
                ],
                equipment: ['Trekking Ã§ubuqlarÄ±', 'Bel Ã§antasÄ±', 'Su qabÄ±', 'GÃ¼nÉ™ÅŸ eynÉ™yi']
            },
            'Foto-tur': {
                icon: 'ğŸ“¸',
                name: { az: 'Foto-tur', en: 'Photo Tour', ru: 'Ğ¤Ğ¾Ñ‚Ğ¾-Ñ‚ÑƒÑ€', tr: 'Foto Tur' },
                desc: { 
                    az: 'Professional fotoqraflar mÃ¼ÅŸayiÉ™ti ilÉ™ daÄŸ mÉ™nzÉ™rÉ™lÉ™rinin Ã§É™kiliÅŸi. GÃ¼n doÄŸumu vÉ™ gÃ¼n batÄ±mÄ± anlarÄ±nda É™n gÃ¶zÉ™l kadrlarÄ± Ã§É™kmÉ™k Ã¼Ã§Ã¼n ideal.',
                    en: 'Mountain landscape photography with professional photographers. Ideal for capturing the most beautiful shots at sunrise and sunset.'
                },
                duration: { az: '1-3 gÃ¼n', en: '1-3 days' },
                difficulty: { az: 'Asan', en: 'Easy' },
                price: 'â‚¼200-600',
                group: { az: '3-10 nÉ™fÉ™r', en: '3-10 people' },
                requirements: [
                    { az: 'Fotoaparat (istÉ™nilÉ™n nÃ¶v)', en: 'Camera (any type)' },
                    { az: 'XÃ¼susi hazÄ±rlÄ±q tÉ™lÉ™b olunmur', en: 'No special preparation required' }
                ],
                equipment: ['Kamera', 'Tripod', 'ÆlavÉ™ batareya', 'YaddaÅŸ kartlarÄ±']
            },
            'DÃ¼ÅŸÉ™rgÉ™': {
                icon: 'â›º',
                name: { az: 'DÃ¼ÅŸÉ™rgÉ™', en: 'Camping', ru: 'ĞšĞµĞ¼Ğ¿Ğ¸Ğ½Ğ³', tr: 'Kamp' },
                desc: { 
                    az: 'DaÄŸ É™tÉ™klÉ™rindÉ™ Ã§adÄ±r qurub gecÉ™lÉ™mÉ™k. Ulduzlu sÉ™ma altÄ±nda unudulmaz gecÉ™lÉ™r keÃ§irmÉ™k vÉ™ tÉ™biÉ™tlÉ™ baÅŸ-baÅŸa qalmaq.',
                    en: 'Setting up tents and camping at mountain bases. Spending unforgettable nights under starry skies and being one with nature.'
                },
                duration: { az: '1-4 gecÉ™', en: '1-4 nights' },
                difficulty: { az: 'Asan', en: 'Easy' },
                price: 'â‚¼80-250',
                group: { az: '4-15 nÉ™fÉ™r', en: '4-15 people' },
                requirements: [
                    { az: 'Yuxu tulumu', en: 'Sleeping bag' },
                    { az: 'Ä°sti geyim', en: 'Warm clothing' }
                ],
                equipment: ['Ã‡adÄ±r', 'Yuxu tulumu', 'Karimat', 'FÉ™nÉ™r', 'BÄ±Ã§aq']
            },
            'XizÉ™k': {
                icon: 'â›·ï¸',
                name: { az: 'XizÉ™k', en: 'Skiing', ru: 'Ğ›Ñ‹Ğ¶Ğ¸', tr: 'Kayak' },
                desc: { 
                    az: 'QÄ±ÅŸ mÃ¶vsÃ¼mÃ¼ndÉ™ daÄŸ xizÉ™yi. ÅahdaÄŸ vÉ™ TufandaÄŸ kurortlarÄ±nda mÃ¼asir pistlÉ™rdÉ™ xizÉ™k sÃ¼rmÉ™k imkanÄ±.',
                    en: 'Mountain skiing during winter season. Opportunity to ski on modern slopes at Shahdag and Tufandag resorts.'
                },
                duration: { az: '1-7 gÃ¼n', en: '1-7 days' },
                difficulty: { az: 'MÃ¼xtÉ™lif', en: 'Various' },
                price: 'â‚¼150-800',
                group: { az: '1-20 nÉ™fÉ™r', en: '1-20 people' },
                requirements: [
                    { az: 'Æsas xizÉ™k bacarÄ±ÄŸÄ± (yeni baÅŸlayanlar Ã¼Ã§Ã¼n dÉ™rslÉ™r var)', en: 'Basic skiing skills (lessons available for beginners)' }
                ],
                equipment: ['XizÉ™k', 'Ã‡ubuqlar', 'Botlar', 'Kaska', 'XizÉ™k geyimi']
            },
            'Snowboard': {
                icon: 'ğŸ‚',
                name: { az: 'Snowboard', en: 'Snowboarding', ru: 'Ğ¡Ğ½Ğ¾ÑƒĞ±Ğ¾Ñ€Ğ´', tr: 'Snowboard' },
                desc: { 
                    az: 'Qar Ã¼zÉ™rindÉ™ sÃ¼rÃ¼ÅŸmÉ™ taxtasÄ± ilÉ™ ekstremal idman. Adrenalin hÉ™vÉ™skarlarÄ± Ã¼Ã§Ã¼n ideal seÃ§im.',
                    en: 'Extreme sport on snow with a snowboard. An ideal choice for adrenaline enthusiasts.'
                },
                duration: { az: '1-7 gÃ¼n', en: '1-7 days' },
                difficulty: { az: 'Orta-MÃ¼rÉ™kkÉ™b', en: 'Medium-Hard' },
                price: 'â‚¼200-900',
                group: { az: '1-15 nÉ™fÉ™r', en: '1-15 people' },
                requirements: [
                    { az: 'Balans bacarÄ±ÄŸÄ±', en: 'Balance skills' },
                    { az: 'Yeni baÅŸlayanlar Ã¼Ã§Ã¼n kurs mÃ¶vcuddur', en: 'Courses available for beginners' }
                ],
                equipment: ['Snowboard', 'Botlar', 'Kaska', 'Qoruyucu geyim']
            },
            'Paraqlaydinq': {
                icon: 'ğŸª‚',
                name: { az: 'Paraqlaydinq', en: 'Paragliding', ru: 'ĞŸĞ°Ñ€Ğ°Ğ³Ğ»Ğ°Ğ¹Ğ´Ğ¸Ğ½Ğ³', tr: 'YamaÃ§ ParaÅŸÃ¼tÃ¼' },
                desc: { 
                    az: 'DaÄŸ zirvÉ™lÉ™rindÉ™n paraÅŸÃ¼tlÉ™ uÃ§uÅŸ. QuÅŸ kimi sÉ™rbÉ™st uÃ§maq vÉ™ daÄŸ mÉ™nzÉ™rÉ™lÉ™rini yuxarÄ±dan seyr etmÉ™k.',
                    en: 'Paragliding from mountain peaks. Flying freely like a bird and viewing mountain landscapes from above.'
                },
                duration: { az: '15-45 dÉ™qiqÉ™ uÃ§uÅŸ', en: '15-45 min flight' },
                difficulty: { az: 'Orta', en: 'Medium' },
                price: 'â‚¼150-350',
                group: { az: 'FÉ™rdi/Tandem', en: 'Individual/Tandem' },
                requirements: [
                    { az: 'Ã‡É™ki limiti: 40-100 kq', en: 'Weight limit: 40-100 kg' },
                    { az: 'ÃœrÉ™k xÉ™stÉ™liyi olmamalÄ±', en: 'No heart conditions' }
                ],
                equipment: ['ParaÅŸÃ¼t (tÉ™min edilir)', 'Kaska', 'Qoruyucu geyim']
            },
            'Spa': {
                icon: 'ğŸ’†',
                name: { az: 'Spa', en: 'Spa', ru: 'Ğ¡Ğ¿Ğ°', tr: 'Spa' },
                desc: { 
                    az: 'DaÄŸ kurortlarÄ±nda istirahÉ™t vÉ™ bÉ™rpa prosedurlarÄ±. Masaj, sauna, hovuz vÉ™ digÉ™r relaksasiya xidmÉ™tlÉ™ri.',
                    en: 'Rest and recovery procedures at mountain resorts. Massage, sauna, pool and other relaxation services.'
                },
                duration: { az: '2-4 saat', en: '2-4 hours' },
                difficulty: { az: 'Asan', en: 'Easy' },
                price: 'â‚¼100-400',
                group: { az: 'FÉ™rdi/CÃ¼tlÃ¼k', en: 'Individual/Couple' },
                requirements: [
                    { az: 'XÃ¼susi tÉ™lÉ™b yoxdur', en: 'No special requirements' }
                ],
                equipment: ['Ã‡imÉ™rlik geyimi', 'DÉ™smal']
            }
        };

        function openActivityModal(activityName) {
            const activity = activitiesData[activityName];
            if (!activity) {
                // ÆgÉ™r aktivitÉ™ tapÄ±lmasa, default mÉ™lumat gÃ¶stÉ™r
                document.getElementById('activityModalIcon').textContent = 'ğŸ”ï¸';
                document.getElementById('activityModalName').textContent = activityName;
                document.getElementById('activityModalDesc').textContent = currentLanguage === 'az' 
                    ? 'Bu aktivitÉ™ haqqÄ±nda É™traflÄ± mÉ™lumat tezliklÉ™ É™lavÉ™ olunacaq.' 
                    : 'Detailed information about this activity will be added soon.';
                document.getElementById('activityModalDuration').textContent = '-';
                document.getElementById('activityModalDifficulty').textContent = '-';
                document.getElementById('activityModalPrice').textContent = '-';
                document.getElementById('activityModalGroup').textContent = '-';
                document.getElementById('activityModalRequirements').innerHTML = '';
                document.getElementById('activityModalEquipment').innerHTML = '';
                document.getElementById('activityModal').classList.add('active');
                return;
            }

            document.getElementById('activityModalIcon').textContent = activity.icon;
            document.getElementById('activityModalName').textContent = activity.name[currentLanguage] || activity.name.az;
            document.getElementById('activityModalDesc').textContent = activity.desc[currentLanguage] || activity.desc.az;
            document.getElementById('activityModalDuration').textContent = activity.duration[currentLanguage] || activity.duration.az;
            document.getElementById('activityModalDifficulty').textContent = activity.difficulty[currentLanguage] || activity.difficulty.az;
            document.getElementById('activityModalPrice').textContent = activity.price;
            document.getElementById('activityModalGroup').textContent = activity.group[currentLanguage] || activity.group.az;
            
            // Requirements
            document.getElementById('activityModalRequirements').innerHTML = activity.requirements.map(req => 
                `<li>${req[currentLanguage] || req.az}</li>`
            ).join('');
            
            // Equipment
            document.getElementById('activityModalEquipment').innerHTML = activity.equipment.map(eq => 
                `<span class="equipment-tag">${eq}</span>`
            ).join('');

            document.getElementById('activityModal').classList.add('active');
        }

        function closeActivityModal() {
            document.getElementById('activityModal').classList.remove('active');
        }

        // Close activity modal on outside click
        document.getElementById('activityModal')?.addEventListener('click', function(e) {
            if (e.target === this) closeActivityModal();
        });

        function openGuideModal(guideId) {
            const guide = guidesData[guideId];
            if (!guide) return;
            
            currentGuideId = guideId;

            document.getElementById('guideModalImage').src = guide.image;
            document.getElementById('guideModalName').textContent = guide.name;
            document.getElementById('guideModalRole').textContent = guide.role[currentLanguage] || guide.role.az;
            document.getElementById('guideModalExp').textContent = guide.experience;
            document.getElementById('guideModalTours').textContent = guide.tours;
            document.getElementById('guideModalRating').textContent = 'â­ ' + guide.rating;
            document.getElementById('guideModalBio').textContent = guide.bio[currentLanguage] || guide.bio.az;
            
            document.getElementById('guideModalCerts').innerHTML = guide.certs.map(cert => `<li>âœ“ ${cert}</li>`).join('');
            document.getElementById('guideModalLangs').innerHTML = guide.languages.map(lang => `<span class="lang-tag">${lang}</span>`).join('');

            document.getElementById('guideModal').classList.add('active');
        }

        function closeGuideModal() {
            document.getElementById('guideModal').classList.remove('active');
        }

        function openGuideModalFromTour() {
            if (currentTourId && toursData[currentTourId] && toursData[currentTourId].guide) {
                openGuideModal(toursData[currentTourId].guide);
            }
        }

        function openGuideModalFromMountain() {
            if (currentModalMountainId && mountainCardsData[currentModalMountainId] && mountainCardsData[currentModalMountainId].guide) {
                openGuideModal(mountainCardsData[currentModalMountainId].guide);
            }
        }

        // ==========================================
        // TUR MODAL SÄ°STEMÄ°
        // ==========================================
        const toursData = {
            'bazarduzu-expedition': {
                id: 'bazarduzu-expedition',
                name: 'BazardÃ¼zÃ¼ EkspedisiyasÄ±',
                nameEn: 'Bazarduzu Expedition',
                icon: 'ğŸ”ï¸',
                price: 1200,
                duration: '7 gÃ¼n',
                group: '5-15 nÉ™fÉ™r',
                difficulty: 'MÃ¼rÉ™kkÉ™b',
                location: 'Qusar rayonu, AzÉ™rbaycan',
                guide: 'elchin',
                description: 'AzÉ™rbaycanÄ±n É™n hÃ¼ndÃ¼r zirvÉ™si olan BazardÃ¼zÃ¼ daÄŸÄ±na (4466 m) professional alpinizm ekspedisiyasÄ±. Bu tur tÉ™crÃ¼bÉ™li alpinistlÉ™r vÉ™ macÉ™ra hÉ™vÉ™skarlarÄ± Ã¼Ã§Ã¼n nÉ™zÉ™rdÉ™ tutulub.',
                descriptionEn: 'Professional alpinism expedition to Mount Bazarduzu (4466 m), the highest peak in Azerbaijan. This tour is designed for experienced alpinists and adventure enthusiasts.',
                includes: [
                    'Professional daÄŸ bÉ™lÉ™dÃ§isi',
                    'Alpinizm avadanlÄ±ÄŸÄ±',
                    'Ã‡adÄ±r vÉ™ yataq lÉ™vazimatlarÄ±',
                    'BÃ¼tÃ¼n yemÉ™klÉ™r',
                    'BakÄ±-Qusar transferi',
                    'Tibbi sÄ±ÄŸorta',
                    'Ä°lk yardÄ±m dÉ™sti'
                ],
                itinerary: [
                    { day: 1, title: 'BakÄ± - Qusar', desc: 'SÉ™hÉ™r BakÄ±dan yola dÃ¼ÅŸmÉ™, Qusara Ã§atma, gecÉ™lÉ™mÉ™' },
                    { day: 2, title: 'Qusar - Baza dÃ¼ÅŸÉ™rgÉ™', desc: 'Piyada yÃ¼rÃ¼ÅŸ, 2500m-É™ qalxÄ±ÅŸ' },
                    { day: 3, title: 'Akklimatizasiya', desc: '3000m-É™ qalxÄ±ÅŸ vÉ™ geri enmÉ™' },
                    { day: 4, title: 'YuxarÄ± dÃ¼ÅŸÉ™rgÉ™', desc: '3800m yuxarÄ± dÃ¼ÅŸÉ™rgÉ™yÉ™ keÃ§id' },
                    { day: 5, title: 'ZirvÉ™ gÃ¼nÃ¼', desc: '4466m zirvÉ™yÉ™ qalxÄ±ÅŸ vÉ™ enmÉ™' },
                    { day: 6, title: 'EnmÉ™', desc: 'Baza dÃ¼ÅŸÉ™rgÉ™yÉ™ enmÉ™' },
                    { day: 7, title: 'QayÄ±dÄ±ÅŸ', desc: 'Qusara vÉ™ BakÄ±ya qayÄ±dÄ±ÅŸ' }
                ]
            },
            'shahdag-winter': {
                id: 'shahdag-winter',
                name: 'ÅahdaÄŸ QÄ±ÅŸ Turu',
                nameEn: 'Shahdag Winter Tour',
                icon: 'â›·ï¸',
                price: 450,
                duration: '3 gÃ¼n',
                group: '2-20 nÉ™fÉ™r',
                difficulty: 'Asan',
                location: 'ÅahdaÄŸ Kurort, Qusar',
                guide: 'rashad',
                description: 'AzÉ™rbaycanÄ±n É™n mÃ¼asir qÄ±ÅŸ kurortunda xizÉ™k vÉ™ snowboard hÉ™yÉ™canÄ±. Yeni baÅŸlayanlar Ã¼Ã§Ã¼n tÉ™limlÉ™r, peÅŸÉ™karlar Ã¼Ã§Ã¼n mÃ¼rÉ™kkÉ™b pistlÉ™r.',
                descriptionEn: 'Skiing and snowboarding excitement at Azerbaijan\'s most modern winter resort. Training for beginners, challenging slopes for professionals.',
                includes: [
                    '3 gecÉ™lik otel (4-5 ulduz)',
                    'GÃ¼ndÉ™lik sÉ™hÉ™r yemÉ™yi',
                    '3 gÃ¼nlÃ¼k lift bileti',
                    'BakÄ±-ÅahdaÄŸ transferi',
                    'XizÉ™k/snowboard icarÉ™si',
                    'BaÅŸlanÄŸÄ±c dÉ™rsi (istÉ™yÉ™ gÃ¶rÉ™)'
                ],
                itinerary: [
                    { day: 1, title: 'GÉ™liÅŸ', desc: 'ÅahdaÄŸa gÉ™liÅŸ, otelÉ™ yerlÉ™ÅŸmÉ™, axÅŸam azad' },
                    { day: 2, title: 'XizÉ™k gÃ¼nÃ¼', desc: 'Tam gÃ¼n xizÉ™k/snowboard, axÅŸam spa' },
                    { day: 3, title: 'QayÄ±dÄ±ÅŸ', desc: 'SÉ™hÉ™r xizÉ™k, gÃ¼nortadan sonra BakÄ±ya qayÄ±dÄ±ÅŸ' }
                ]
            },
            'khinaliq-trekking': {
                id: 'khinaliq-trekking',
                name: 'XÄ±nalÄ±q Trekkinqi',
                nameEn: 'Khinaliq Trekking',
                icon: 'ğŸ¥¾',
                price: 350,
                duration: '3 gÃ¼n',
                group: '4-12 nÉ™fÉ™r',
                difficulty: 'Orta',
                location: 'Quba rayonu, XÄ±nalÄ±q',
                guide: 'leyla',
                description: 'DÃ¼nyanÄ±n É™n qÉ™dim yaÅŸayÄ±ÅŸ mÉ™ntÉ™qÉ™lÉ™rindÉ™n biri olan XÄ±nalÄ±q kÉ™ndinÉ™ mÉ™dÉ™ni-trekking turu. 5000 illik tarix, unikal dil vÉ™ É™nÉ™nÉ™lÉ™r.',
                descriptionEn: 'Cultural-trekking tour to Khinaliq village, one of the oldest continuously inhabited settlements in the world. 5000 years of history, unique language and traditions.',
                includes: [
                    'Yerli evdÉ™ qonaqlama',
                    'BÃ¼tÃ¼n yemÉ™klÉ™r (milli mÉ™tbÉ™x)',
                    'Professional bÉ™lÉ™dÃ§i',
                    'BakÄ±-XÄ±nalÄ±q transferi',
                    'MÉ™dÉ™ni tur vÉ™ sÃ¶hbÉ™tlÉ™r',
                    'ÆnÉ™nÉ™vi sÉ™nÉ™tkarlÄ±q nÃ¼mayiÅŸi'
                ],
                itinerary: [
                    { day: 1, title: 'BakÄ± - XÄ±nalÄ±q', desc: 'SÉ™hÉ™r yola dÃ¼ÅŸmÉ™, Quba Ã¼zÉ™rindÉ™n XÄ±nalÄ±ÄŸa, kÉ™nd turu' },
                    { day: 2, title: 'Trekking', desc: 'DaÄŸ yÃ¼rÃ¼ÅŸÃ¼, Ã§oban dÃ¼ÅŸÉ™rgÉ™lÉ™ri, maÄŸaralar' },
                    { day: 3, title: 'MÉ™dÉ™niyyÉ™t vÉ™ qayÄ±dÄ±ÅŸ', desc: 'SÉ™nÉ™tkarlÄ±q, muzey, BakÄ±ya qayÄ±dÄ±ÅŸ' }
                ]
            }
        };

        let currentTourId = null;

        function openTourModal(tourId) {
            const tour = toursData[tourId];
            if (!tour) return;
            
            currentTourId = tourId;
            
            document.getElementById('tourModalHeader').innerHTML = `
                <span class="tour-modal-icon">${tour.icon}</span>
                <h2>${currentLanguage === 'az' ? tour.name : tour.nameEn}</h2>
            `;
            document.getElementById('tourModalDescription').textContent = currentLanguage === 'az' ? tour.description : tour.descriptionEn;
            document.getElementById('tourModalDuration').textContent = tour.duration;
            document.getElementById('tourModalGroup').textContent = tour.group;
            document.getElementById('tourModalDifficulty').textContent = tour.difficulty;
            document.getElementById('tourModalLocation').textContent = tour.location;
            document.getElementById('tourModalPrice').textContent = `â‚¼${tour.price}`;
            
            // Includes
            document.getElementById('tourModalIncludes').innerHTML = tour.includes.map(item => `<li>âœ“ ${item}</li>`).join('');
            
            // Itinerary
            document.getElementById('tourModalItinerary').innerHTML = tour.itinerary.map(day => `
                <div class="itinerary-item">
                    <span class="day-badge">${currentLanguage === 'az' ? 'GÃ¼n' : 'Day'} ${day.day}</span>
                    <div class="itinerary-content">
                        <strong>${day.title}</strong>
                        <p>${day.desc}</p>
                    </div>
                </div>
            `).join('');
            
            // Guide
            const guideSection = document.getElementById('tourGuideSection');
            if (tour.guide && guidesData[tour.guide]) {
                const guide = guidesData[tour.guide];
                document.getElementById('tourGuideImage').src = guide.image;
                document.getElementById('tourGuideName').textContent = guide.name;
                document.getElementById('tourGuideRole').textContent = guide.role[currentLanguage] || guide.role.az;
                document.getElementById('tourGuideExp').textContent = guide.experience;
                document.getElementById('tourGuideRating').textContent = guide.rating;
                guideSection.style.display = 'block';
            } else {
                guideSection.style.display = 'none';
            }
            
            document.getElementById('tourInfoModal').classList.add('active');
        }

        function closeTourModal() {
            document.getElementById('tourInfoModal').classList.remove('active');
        }

        function openTourBookingFromModal() {
            closeTourModal();
            openTourBookingModal(currentTourId);
        }

        // ==========================================
        // DAÄ MODAL SÄ°STEMÄ° (Kartlar Ã¼Ã§Ã¼n)
        // ==========================================
        const mountainCardsData = {
            'bazarduzu': {
                id: 'bazarduzu',
                name: 'BazardÃ¼zÃ¼',
                altitude: '4466',
                difficulty: 'MÃ¼rÉ™kkÉ™b',
                difficultyClass: 'hard',
                location: 'Qusar rayonu, AzÉ™rbaycan',
                description: 'BazardÃ¼zÃ¼ â€” AzÉ™rbaycanÄ±n É™n hÃ¼ndÃ¼r zirvÉ™sidir. BÃ¶yÃ¼k Qafqaz silsilÉ™sinin ÅŸÉ™rq hissÉ™sindÉ™, AzÉ™rbaycan-Rusiya sÉ™rhÉ™dindÉ™ yerlÉ™ÅŸir. AdÄ± "bazar yeri" mÉ™nasÄ±nÄ± verir, Ã§Ã¼nki qÉ™dimdÉ™ burada ticarÉ™t karvanlarÄ± keÃ§irdi. Professional alpinistlÉ™r Ã¼Ã§Ã¼n É™sl sÄ±naq meydanÄ±dÄ±r.',
                bestTime: 'Ä°yun - Sentyabr',
                groupSize: '5-15 nÉ™fÉ™r',
                transport: 'Avtobus, Jeep',
                price: 'â‚¼1200-dÉ™n',
                activities: ['Alpinizm', 'Trekking', 'Foto-tur', 'DÃ¼ÅŸÉ™rgÉ™'],
                image: 'https://images.unsplash.com/photo-1464822759023-fed622ff2c3b?w=800',
                coords: [41.2208, 47.8517],
                guide: 'elchin'
            },
            'shahdag': {
                id: 'shahdag',
                name: 'ÅahdaÄŸ',
                altitude: '4243',
                difficulty: 'Orta',
                difficultyClass: 'medium',
                location: 'Qusar rayonu, AzÉ™rbaycan',
                description: 'ÅahdaÄŸ â€” AzÉ™rbaycanÄ±n É™n mÉ™ÅŸhur qÄ±ÅŸ kurortudur. MÃ¼asir xizÉ™k pistlÉ™ri, lÃ¼ks otellÉ™r vÉ™ heyrÉ™tamiz daÄŸ mÉ™nzÉ™rÉ™lÉ™ri ilÉ™ tanÄ±nÄ±r. Yay mÃ¶vsÃ¼mÃ¼ndÉ™ trekking vÉ™ paraqlaydinq Ã¼Ã§Ã¼n ideal yerdir.',
                bestTime: 'BÃ¼tÃ¼n il',
                groupSize: '2-20 nÉ™fÉ™r',
                transport: 'Avtobus, Transfer',
                price: 'â‚¼450-dÉ™n',
                activities: ['XizÉ™k', 'Snowboard', 'Paraqlaydinq', 'Trekking', 'Spa'],
                image: 'https://images.unsplash.com/photo-1491002052546-bf38f186af56?w=800',
                guide: 'rashad',
                coords: [41.2758, 48.1342]
            },
            'tufandag': {
                id: 'tufandag',
                name: 'TufandaÄŸ',
                altitude: '4191',
                difficulty: 'Asan',
                difficultyClass: 'easy',
                location: 'QÉ™bÉ™lÉ™ rayonu, AzÉ™rbaycan',
                description: 'TufandaÄŸ â€” QÉ™bÉ™lÉ™dÉ™ yerlÉ™ÅŸÉ™n mÃ¼asir turizm mÉ™rkÉ™zidir. AzÉ™rbaycanÄ±n É™n uzun kanat yolu burada yerlÉ™ÅŸir. Ætrafda gÃ¶zÉ™l meÅŸÉ™lÉ™r, ÅŸÉ™lalÉ™lÉ™r vÉ™ tarixi abidÉ™lÉ™r var. AilÉ™lÉ™r Ã¼Ã§Ã¼n ideal istirahÉ™t yeridir.',
                bestTime: 'BÃ¼tÃ¼n il',
                groupSize: '1-30 nÉ™fÉ™r',
                transport: 'Avtobus, Taksi',
                price: 'â‚¼200-dÉ™n',
                activities: ['Kanat yolu', 'XizÉ™k', 'Zipline', 'At gÉ™zintisi'],
                image: 'https://images.unsplash.com/photo-1454496522488-7a8e488e8606?w=800',
                coords: [41.0053, 47.8625],
                guide: 'rashad'
            },
            'babadag': {
                id: 'babadag',
                name: 'BabadaÄŸ',
                altitude: '3629',
                difficulty: 'Orta',
                difficultyClass: 'medium',
                location: 'Quba rayonu, AzÉ™rbaycan',
                description: 'BabadaÄŸ â€” AzÉ™rbaycanda mÃ¼qÉ™ddÉ™s sayÄ±lan daÄŸlardan biridir. HÉ™r il minlÉ™rlÉ™ zÉ™vvar buraya ziyarÉ™tÉ™ gÉ™lir. DaÄŸÄ±n zirvÉ™sindÉ™ qÉ™dim ibadÉ™tgah yerlÉ™ÅŸir. TÉ™biÉ™t mÉ™nzÉ™rÉ™lÉ™ri vÉ™ mÉ™nÉ™vi atmosfer turistlÉ™ri cÉ™lb edir.',
                bestTime: 'May - Oktyabr',
                groupSize: '5-20 nÉ™fÉ™r',
                transport: 'Avtobus, Jeep',
                price: 'â‚¼300-dÉ™n',
                activities: ['Trekking', 'ZiyarÉ™t', 'Foto-tur', 'MÉ™dÉ™ni tur'],
                image: 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800',
                coords: [41.1275, 48.3517],
                guide: 'leyla'
            },
            'kapaz': {
                id: 'kapaz',
                name: 'KÉ™pÉ™z',
                altitude: '3066',
                difficulty: 'Orta',
                difficultyClass: 'medium',
                location: 'GÃ¶ygÃ¶l rayonu, AzÉ™rbaycan',
                description: 'KÉ™pÉ™z daÄŸÄ± GÃ¶ygÃ¶l Milli ParkÄ±nda yerlÉ™ÅŸir. 1139-cu il zÉ™lzÉ™lÉ™si nÉ™ticÉ™sindÉ™ daÄŸÄ±n bir hissÉ™si uÃ§araq GÃ¶ygÃ¶l gÃ¶lÃ¼nÃ¼ yaratmÄ±ÅŸdÄ±r. ÆfsanÉ™vi gÃ¶zÉ™lliyi vÉ™ tarixi ilÉ™ turistlÉ™ri cÉ™lb edir.',
                bestTime: 'May - Sentyabr',
                groupSize: '5-15 nÉ™fÉ™r',
                transport: 'Avtobus, Jeep',
                price: 'â‚¼250-dÉ™n',
                activities: ['Trekking', 'Foto-tur', 'DÃ¼ÅŸÉ™rgÉ™', 'GÃ¶l turu'],
                image: 'https://images.unsplash.com/photo-1454496522488-7a8e488e8606?w=800',
                coords: [40.5889, 46.3275],
                guide: 'leyla'
            },
            'murovdag': {
                id: 'murovdag',
                name: 'MurovdaÄŸ',
                altitude: '3724',
                difficulty: 'MÃ¼rÉ™kkÉ™b',
                difficultyClass: 'hard',
                location: 'KiÃ§ik Qafqaz, AzÉ™rbaycan',
                description: 'MurovdaÄŸ â€” KiÃ§ik Qafqaz silsilÉ™sinin É™n hÃ¼ndÃ¼r zirvÉ™sidir. Nadir flora vÉ™ fauna nÃ¶vlÉ™rinÉ™ ev sahibliyi edir. Professional alpinistlÉ™r Ã¼Ã§Ã¼n É™la marÅŸrutlar tÉ™klif edir.',
                bestTime: 'Ä°yun - Avqust',
                groupSize: '5-10 nÉ™fÉ™r',
                transport: 'Jeep, Piyada',
                price: 'â‚¼800-dÉ™n',
                activities: ['Alpinizm', 'Trekking', 'Foto-tur', 'Elm ekspedisiyasÄ±'],
                image: 'https://images.unsplash.com/photo-1519681393784-d120267933ba?w=800',
                coords: [40.4167, 46.5833],
                guide: 'elchin'
            },
            'qobustan': {
                id: 'qobustan',
                name: 'BÃ¶yÃ¼kdaÅŸ',
                altitude: '400',
                difficulty: 'Asan',
                difficultyClass: 'easy',
                location: 'Qobustan, AzÉ™rbaycan',
                description: 'BÃ¶yÃ¼kdaÅŸ â€” Qobustan Milli ParkÄ±nda yerlÉ™ÅŸÉ™n, 40.000 ildÉ™n Ã§ox yaÅŸÄ± olan qaya rÉ™smlÉ™ri ilÉ™ mÉ™ÅŸhur É™razidir. UNESCO DÃ¼nya Ä°rs SiyahÄ±sÄ±na daxildir. QÉ™dim insanlarÄ±n hÉ™yatÄ± haqqÄ±nda unikal mÉ™lumat verir.',
                bestTime: 'BÃ¼tÃ¼n il',
                groupSize: '5-30 nÉ™fÉ™r',
                transport: 'Avtobus, Avtomobil',
                price: 'â‚¼50-dÉ™n',
                activities: ['Ekskursiya', 'Foto-tur', 'Tarix turu', 'Arxeologiya'],
                image: 'https://images.unsplash.com/photo-1682687220742-aba13b6e50ba?w=800',
                coords: [40.0908, 49.3731],
                guide: 'leyla'
            },
            'qizilqaya': {
                id: 'qizilqaya',
                name: 'QÄ±zÄ±lqaya',
                altitude: '3726',
                difficulty: 'MÃ¼rÉ™kkÉ™b',
                difficultyClass: 'hard',
                location: 'BÃ¶yÃ¼k Qafqaz, AzÉ™rbaycan',
                description: 'QÄ±zÄ±lqaya â€” adÄ±nÄ± qÄ±zÄ±lÄ± rÉ™ngli qayalarÄ±ndan almÄ±ÅŸ daÄŸdÄ±r. GÃ¼n batÄ±mÄ± zamanÄ± qayalar qÄ±zÄ±l rÉ™ngÉ™ boyanÄ±r. AlpinistlÉ™r vÉ™ fotoqraflar Ã¼Ã§Ã¼n É™la mÉ™kandÄ±r.',
                bestTime: 'Ä°yun - Sentyabr',
                groupSize: '5-12 nÉ™fÉ™r',
                transport: 'Jeep, Piyada',
                price: 'â‚¼700-dÉ™n',
                activities: ['Alpinizm', 'Trekking', 'Foto-tur', 'DÃ¼ÅŸÉ™rgÉ™'],
                image: 'https://images.unsplash.com/photo-1464822759023-fed622ff2c3b?w=800',
                coords: [41.1500, 47.9167],
                guide: 'elchin'
            }
        };

        let currentModalMountainId = null;
        let mountainsExpanded = false;

        // Daha Ã§ox daÄŸ gÃ¶stÉ™r/gizlÉ™t
        function toggleMoreMountains() {
            mountainsExpanded = !mountainsExpanded;
            const hiddenMountains = document.querySelectorAll('.hidden-mountain');
            const btn = document.getElementById('showMoreMountainsBtn');
            const icon = btn.querySelector('.show-more-icon');
            const text = btn.querySelector('span:first-child');
            
            hiddenMountains.forEach(card => {
                if (mountainsExpanded) {
                    card.classList.add('visible');
                } else {
                    card.classList.remove('visible');
                }
            });
            
            if (mountainsExpanded) {
                text.setAttribute('data-lang-az', 'Daha Az GÃ¶r');
                text.setAttribute('data-lang-en', 'Show Less');
                text.textContent = currentLanguage === 'az' ? 'Daha Az GÃ¶r' : 'Show Less';
                icon.textContent = 'â–²';
            } else {
                text.setAttribute('data-lang-az', 'Daha Ã‡ox GÃ¶r');
                text.setAttribute('data-lang-en', 'Show More');
                text.textContent = currentLanguage === 'az' ? 'Daha Ã‡ox GÃ¶r' : 'Show More';
                icon.textContent = 'â–¼';
            }
        }

        function openMountainModal(mountainId) {
            const mountain = mountainCardsData[mountainId];
            if (!mountain) return;
            
            currentModalMountainId = mountainId;
            
            // Set image
            document.getElementById('modalMountainImage').style.backgroundImage = `url('${mountain.image}')`;
            
            // Set info
            document.getElementById('modalMountainName').textContent = mountain.name;
            document.getElementById('modalMountainLocation').textContent = 'ğŸ“ ' + mountain.location;
            document.getElementById('modalMountainAltitude').textContent = mountain.altitude;
            document.getElementById('modalMountainDescription').textContent = mountain.description;
            document.getElementById('modalBestTime').textContent = mountain.bestTime;
            document.getElementById('modalGroupSize').textContent = mountain.groupSize;
            document.getElementById('modalTransport').textContent = mountain.transport;
            document.getElementById('modalPrice').textContent = mountain.price;
            
            // Difficulty
            const diffBadge = document.querySelector('#modalDifficulty .difficulty-badge');
            diffBadge.textContent = mountain.difficulty;
            diffBadge.className = `difficulty-badge ${mountain.difficultyClass}`;
            
            // Activities - klik edilÉ™ bilÉ™n
            document.getElementById('modalActivities').innerHTML = mountain.activities.map(act => 
                `<span class="activity-tag clickable" onclick="openActivityModal('${act}')">${act}</span>`
            ).join('');
            
            // Guide section
            const guideSection = document.getElementById('modalGuideSection');
            if (mountain.guide && guidesData[mountain.guide]) {
                const guide = guidesData[mountain.guide];
                document.getElementById('modalGuideImage').src = guide.image;
                document.getElementById('modalGuideName').textContent = guide.name;
                document.getElementById('modalGuideRole').textContent = guide.role[currentLanguage] || guide.role.az;
                document.getElementById('modalGuideExp').textContent = guide.experience;
                document.getElementById('modalGuideRating').textContent = guide.rating;
                guideSection.style.display = 'block';
            } else {
                guideSection.style.display = 'none';
            }
            
            // Links
            document.getElementById('modalDetailsBtn').href = `mountain-details.html?id=${mountain.id}`;
            document.getElementById('modalGoogleMapsBtn').href = `https://www.google.com/maps/search/?api=1&query=${mountain.coords[0]},${mountain.coords[1]}`;
            
            // Favorite status
            updateModalFavoriteBtn(mountain);
            
            // Load reviews
            loadMountainReviews(mountainId);
            
            // Show modal
            document.getElementById('mountainModal').classList.add('active');
        }

        function closeMountainModal() {
            document.getElementById('mountainModal').classList.remove('active');
        }

        function updateModalFavoriteBtn(mountain) {
            const user = getCurrentUser();
            const btn = document.getElementById('modalFavoriteBtn');
            
            if (!user) {
                btn.textContent = 'ğŸ¤';
                btn.classList.remove('is-favorite');
                return;
            }
            
            const favorites = user.favorites || [];
            const isFavorite = favorites.some(f => f.id === mountain.id);
            
            btn.textContent = isFavorite ? 'â¤ï¸' : 'ğŸ¤';
            btn.classList.toggle('is-favorite', isFavorite);
        }

        function toggleModalFavorite() {
            const user = getCurrentUser();
            
            if (!user) {
                showNotification(currentLanguage === 'az' ? 'SevimlilÉ™rÉ™ É™lavÉ™ etmÉ™k Ã¼Ã§Ã¼n giriÅŸ edin' : 'Login to add to favorites', 'error');
                closeMountainModal();
                openLoginModal();
                return;
            }
            
            const mountain = mountainCardsData[currentModalMountainId];
            if (!mountain) return;
            
            const favorites = user.favorites || [];
            const existingIndex = favorites.findIndex(f => f.id === mountain.id);
            
            if (existingIndex !== -1) {
                favorites.splice(existingIndex, 1);
                showNotification(currentLanguage === 'az' ? 'SevimlilÉ™rdÉ™n silindi' : 'Removed from favorites', 'success');
            } else {
                favorites.push({
                    id: mountain.id,
                    name: mountain.name,
                    altitude: mountain.altitude + ' m',
                    country: 'AzÉ™rbaycan',
                    image: mountain.image,
                    type: 'mountain'
                });
                showNotification(currentLanguage === 'az' ? 'SevimlilÉ™rÉ™ É™lavÉ™ edildi' : 'Added to favorites', 'success');
            }
            
            user.favorites = favorites;
            updateCurrentUser(user);
            
            const users = getUsers();
            const userIndex = users.findIndex(u => u.id === user.id);
            if (userIndex !== -1) {
                users[userIndex].favorites = favorites;
                saveUsers(users);
            }
            
            updateModalFavoriteBtn(mountain);
        }

        function showOnMap() {
            const mountain = mountainCardsData[currentModalMountainId];
            if (!mountain) return;
            
            closeMountainModal();
            
            // Scroll to map
            document.getElementById('map').scrollIntoView({ behavior: 'smooth' });
            
            // Find and click on the mountain marker
            setTimeout(() => {
                const mapMountain = mountains.find(m => m.id === mountain.id);
                if (mapMountain) {
                    map.flyTo(mapMountain.coords, 10, { duration: 1.5 });
                    showMountainInfo(mapMountain);
                }
            }, 800);
        }

        // Close modal on outside click
        document.getElementById('mountainModal')?.addEventListener('click', function(e) {
            if (e.target === this) closeMountainModal();
        });

        // ==========================================
        // SEARCH SÄ°STEMÄ°
        // ==========================================
        const searchData = {
            mountains: [
                { id: 'bazarduzu', name: 'BazardÃ¼zÃ¼', type: 'mountain', altitude: '4466 m', location: 'Qusar' },
                { id: 'shahdag', name: 'ÅahdaÄŸ', type: 'mountain', altitude: '4243 m', location: 'Qusar' },
                { id: 'tufandag', name: 'TufandaÄŸ', type: 'mountain', altitude: '4191 m', location: 'QÉ™bÉ™lÉ™' },
                { id: 'babadag', name: 'BabadaÄŸ', type: 'mountain', altitude: '3629 m', location: 'Quba' },
                { id: 'khinaliq', name: 'XÄ±nalÄ±q', type: 'mountain', altitude: '2350 m', location: 'Quba' },
                { id: 'qobustan', name: 'Qobustan', type: 'mountain', altitude: '400 m', location: 'Qobustan' }
            ],
            tours: [
                { id: 'bazarduzu-expedition', name: 'BazardÃ¼zÃ¼ EkspedisiyasÄ±', type: 'tour', price: 'â‚¼1200', duration: '7 gÃ¼n' },
                { id: 'shahdag-winter', name: 'ÅahdaÄŸ QÄ±ÅŸ Turu', type: 'tour', price: 'â‚¼450', duration: '3 gÃ¼n' },
                { id: 'khinaliq-trekking', name: 'XÄ±nalÄ±q Trekkinqi', type: 'tour', price: 'â‚¼350', duration: '3 gÃ¼n' }
            ]
        };

        let currentSearchFilter = 'all';

        function openSearchModal() {
            document.getElementById('searchModal').classList.add('active');
            document.getElementById('searchInput').focus();
        }

        function closeSearchModal() {
            document.getElementById('searchModal').classList.remove('active');
            document.getElementById('searchInput').value = '';
            document.getElementById('searchResults').innerHTML = `
                <div class="search-placeholder">
                    <span>ğŸ”</span>
                    <p>${currentLanguage === 'az' ? 'AxtarÄ±ÅŸ nÉ™ticÉ™lÉ™ri burada gÃ¶rÃ¼nÉ™cÉ™k' : 'Search results will appear here'}</p>
                </div>
            `;
        }

        function performSearch(query) {
            if (!query || query.length < 2) {
                document.getElementById('searchResults').innerHTML = `
                    <div class="search-placeholder">
                        <span>ğŸ”</span>
                        <p>${currentLanguage === 'az' ? 'Æn azÄ± 2 simvol daxil edin' : 'Enter at least 2 characters'}</p>
                    </div>
                `;
                return;
            }

            const lowerQuery = query.toLowerCase();
            let results = [];

            // Search mountains
            if (currentSearchFilter === 'all' || currentSearchFilter === 'mountains') {
                const mountainResults = searchData.mountains.filter(m => 
                    m.name.toLowerCase().includes(lowerQuery) || 
                    m.location.toLowerCase().includes(lowerQuery)
                );
                results = results.concat(mountainResults);
            }

            // Search tours
            if (currentSearchFilter === 'all' || currentSearchFilter === 'tours') {
                const tourResults = searchData.tours.filter(t => 
                    t.name.toLowerCase().includes(lowerQuery)
                );
                results = results.concat(tourResults);
            }

            displaySearchResults(results, query);
        }

        function displaySearchResults(results, query) {
            const container = document.getElementById('searchResults');

            if (results.length === 0) {
                container.innerHTML = `
                    <div class="search-no-results">
                        <span>ğŸ˜•</span>
                        <p>${currentLanguage === 'az' ? `"${query}" Ã¼Ã§Ã¼n nÉ™ticÉ™ tapÄ±lmadÄ±` : `No results found for "${query}"`}</p>
                    </div>
                `;
                return;
            }

            container.innerHTML = results.map(item => `
                <div class="search-result-item" onclick="${item.type === 'mountain' ? `closeSearchModal(); openMountainModal('${item.id}')` : `closeSearchModal(); openTourModal('${item.id}')`}">
                    <span class="result-icon">${item.type === 'mountain' ? 'ğŸ”ï¸' : 'ğŸ«'}</span>
                    <div class="result-info">
                        <h4>${item.name}</h4>
                        <p>${item.type === 'mountain' ? `${item.altitude} â€¢ ${item.location}` : `${item.price} â€¢ ${item.duration}`}</p>
                    </div>
                    <span class="result-arrow">â†’</span>
                </div>
            `).join('');
        }

        // Search event listeners
        document.getElementById('searchToggleBtn')?.addEventListener('click', openSearchModal);
        document.getElementById('searchCloseBtn')?.addEventListener('click', closeSearchModal);
        document.getElementById('searchModal')?.addEventListener('click', function(e) {
            if (e.target === this) closeSearchModal();
        });

        document.getElementById('searchInput')?.addEventListener('input', function(e) {
            const query = e.target.value;
            document.getElementById('searchClearBtn').style.display = query ? 'block' : 'none';
            performSearch(query);
        });

        document.getElementById('searchClearBtn')?.addEventListener('click', function() {
            document.getElementById('searchInput').value = '';
            this.style.display = 'none';
            performSearch('');
            document.getElementById('searchInput').focus();
        });

        document.querySelectorAll('.search-filter-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                document.querySelectorAll('.search-filter-btn').forEach(b => b.classList.remove('active'));
                this.classList.add('active');
                currentSearchFilter = this.dataset.filter;
                performSearch(document.getElementById('searchInput').value);
            });
        });

        // Keyboard shortcut (Ctrl+K or Cmd+K)
        document.addEventListener('keydown', function(e) {
            if ((e.ctrlKey || e.metaKey) && e.key === 'k') {
                e.preventDefault();
                openSearchModal();
            }
            if (e.key === 'Escape' && document.getElementById('searchModal').classList.contains('active')) {
                closeSearchModal();
            }
        });

        // ==========================================
        // RÆY (REVIEW) SÄ°STEMÄ°
        // ==========================================
        const REVIEWS_KEY = 'peakexplorer_reviews';

        function getReviews() {
            const reviews = localStorage.getItem(REVIEWS_KEY);
            return reviews ? JSON.parse(reviews) : {};
        }

        function saveReviews(reviews) {
            localStorage.setItem(REVIEWS_KEY, JSON.stringify(reviews));
        }

        function getMountainReviews(mountainId) {
            const allReviews = getReviews();
            return allReviews[mountainId] || [];
        }

        function loadMountainReviews(mountainId) {
            const reviews = getMountainReviews(mountainId);
            const container = document.getElementById('modalReviewsList');
            
            if (reviews.length === 0) {
                container.innerHTML = `
                    <div class="no-reviews">
                        <p>${currentLanguage === 'az' ? 'HÉ™lÉ™ rÉ™y yoxdur. Ä°lk rÉ™yi siz yazÄ±n!' : 'No reviews yet. Be the first to write one!'}</p>
                    </div>
                `;
                document.getElementById('modalOverallRating').textContent = '-';
                document.getElementById('modalOverallStars').textContent = 'â˜†â˜†â˜†â˜†â˜†';
                document.getElementById('modalReviewCount').textContent = `(0 ${currentLanguage === 'az' ? 'rÉ™y' : 'reviews'})`;
                return;
            }

            // Calculate average rating
            const avgRating = (reviews.reduce((sum, r) => sum + r.rating, 0) / reviews.length).toFixed(1);
            const fullStars = Math.round(avgRating);
            
            document.getElementById('modalOverallRating').textContent = avgRating;
            document.getElementById('modalOverallStars').textContent = 'â­'.repeat(fullStars) + 'â˜†'.repeat(5 - fullStars);
            document.getElementById('modalReviewCount').textContent = `(${reviews.length} ${currentLanguage === 'az' ? 'rÉ™y' : 'reviews'})`;

            // Display reviews (last 3)
            const displayReviews = reviews.slice(-3).reverse();
            container.innerHTML = displayReviews.map(review => `
                <div class="review-item">
                    <div class="review-header">
                        <div class="reviewer-info">
                            <span class="reviewer-avatar">ğŸ‘¤</span>
                            <div>
                                <strong>${review.userName}</strong>
                                <span class="review-date">${review.visitDate || ''}</span>
                            </div>
                        </div>
                        <div class="review-rating">${'â­'.repeat(review.rating)}</div>
                    </div>
                    <h5 class="review-title">${review.title}</h5>
                    <p class="review-text">${review.text}</p>
                    <span class="travel-type">${getTravelTypeLabel(review.travelType)}</span>
                </div>
            `).join('');
        }

        function getTravelTypeLabel(type) {
            const labels = {
                'solo': currentLanguage === 'az' ? 'ğŸ‘¤ TÉ™k' : 'ğŸ‘¤ Solo',
                'couple': currentLanguage === 'az' ? 'ğŸ’‘ CÃ¼tlÃ¼k' : 'ğŸ’‘ Couple',
                'family': currentLanguage === 'az' ? 'ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ AilÉ™' : 'ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ Family',
                'friends': currentLanguage === 'az' ? 'ğŸ‘¥ Dostlar' : 'ğŸ‘¥ Friends',
                'group': currentLanguage === 'az' ? 'ğŸ§‘â€ğŸ¤â€ğŸ§‘ Qrup' : 'ğŸ§‘â€ğŸ¤â€ğŸ§‘ Group'
            };
            return labels[type] || type;
        }

        let selectedStarRating = 0;

        function openReviewModal() {
            const user = getCurrentUser();
            
            if (!user) {
                showNotification(currentLanguage === 'az' ? 'RÉ™y yazmaq Ã¼Ã§Ã¼n giriÅŸ edin' : 'Login to write a review', 'error');
                closeMountainModal();
                openLoginModal();
                return;
            }
            
            const mountain = mountainCardsData[currentModalMountainId];
            if (!mountain) return;
            
            document.getElementById('reviewMountainName').textContent = mountain.name;
            document.getElementById('reviewForm').reset();
            selectedStarRating = 0;
            updateStarDisplay();
            
            document.getElementById('reviewModal').classList.add('active');
        }

        function closeReviewModal() {
            document.getElementById('reviewModal').classList.remove('active');
        }

        function updateStarDisplay() {
            document.querySelectorAll('#starRating .star').forEach((star, index) => {
                star.textContent = index < selectedStarRating ? 'â˜…' : 'â˜†';
                star.classList.toggle('selected', index < selectedStarRating);
            });
            document.getElementById('selectedRating').value = selectedStarRating;
        }

        // Star rating click
        document.querySelectorAll('#starRating .star').forEach(star => {
            star.addEventListener('click', function() {
                selectedStarRating = parseInt(this.dataset.rating);
                updateStarDisplay();
            });
            
            star.addEventListener('mouseenter', function() {
                const rating = parseInt(this.dataset.rating);
                document.querySelectorAll('#starRating .star').forEach((s, i) => {
                    s.textContent = i < rating ? 'â˜…' : 'â˜†';
                });
            });
            
            star.addEventListener('mouseleave', function() {
                updateStarDisplay();
            });
        });

        // Review form submit
        document.getElementById('reviewForm')?.addEventListener('submit', function(e) {
            e.preventDefault();
            
            const errorEl = document.getElementById('reviewError');
            
            if (selectedStarRating === 0) {
                errorEl.textContent = currentLanguage === 'az' ? 'ZÉ™hmÉ™t olmasa ulduz seÃ§in' : 'Please select a star rating';
                return;
            }
            
            const user = getCurrentUser();
            const mountain = mountainCardsData[currentModalMountainId];
            
            const review = {
                id: Date.now(),
                mountainId: currentModalMountainId,
                userId: user.id,
                userName: user.name,
                rating: selectedStarRating,
                title: document.getElementById('reviewTitle').value,
                text: document.getElementById('reviewText').value,
                visitDate: document.getElementById('visitDate').value,
                travelType: document.getElementById('travelType').value,
                createdAt: new Date().toISOString()
            };
            
            // Save review
            const allReviews = getReviews();
            if (!allReviews[currentModalMountainId]) {
                allReviews[currentModalMountainId] = [];
            }
            allReviews[currentModalMountainId].push(review);
            saveReviews(allReviews);
            
            // Close and refresh
            closeReviewModal();
            loadMountainReviews(currentModalMountainId);
            showNotification(currentLanguage === 'az' ? 'RÉ™yiniz É™lavÉ™ edildi!' : 'Your review has been added!', 'success');
        });

        // Close review modal on outside click
        document.getElementById('reviewModal')?.addEventListener('click', function(e) {
            if (e.target === this) closeReviewModal();
        });

        function openTourBookingModal(tourId) {
            const tour = toursData[tourId];
            if (!tour) return;
            
            currentTourId = tourId;
            
            document.getElementById('bookingTourName').textContent = currentLanguage === 'az' ? tour.name : tour.nameEn;
            document.getElementById('tourSummaryName').textContent = currentLanguage === 'az' ? tour.name : tour.nameEn;
            
            // Set minimum date
            const today = new Date();
            const minDate = new Date(today);
            minDate.setDate(minDate.getDate() + 7);
            document.getElementById('tourDate').min = minDate.toISOString().split('T')[0];
            document.getElementById('tourDate').value = minDate.toISOString().split('T')[0];
            
            updateTourSummary();
            
            document.getElementById('tourBookingStep1').style.display = 'block';
            document.getElementById('tourBookingStep2').style.display = 'none';
            document.getElementById('tourBookingModal').classList.add('active');
        }

        function closeTourBookingModal() {
            document.getElementById('tourBookingModal').classList.remove('active');
        }

        function updateTourSummary() {
            const tour = toursData[currentTourId];
            if (!tour) return;
            
            const participants = parseInt(document.getElementById('tourParticipants').value);
            const basePrice = tour.price * participants;
            
            // Ä°lk gediÅŸ endirimi yoxla
            const user = getCurrentUser();
            let discount = 0;
            let finalTotal = basePrice;
            const discountRow = document.getElementById('discountRow');
            
            if (user && user.firstTripDiscount && user.firstTripDiscount.active && !user.firstTripDiscount.used) {
                discount = Math.round(basePrice * (user.firstTripDiscount.percentage / 100));
                finalTotal = basePrice - discount;
                discountRow.style.display = 'flex';
                document.getElementById('tourSummaryDiscount').textContent = `-â‚¼${discount}`;
            } else {
                discountRow.style.display = 'none';
            }
            
            document.getElementById('tourSummaryParticipants').textContent = `${participants} nÉ™fÉ™r`;
            document.getElementById('tourSummaryPrice').textContent = `â‚¼${basePrice}`;
            document.getElementById('tourSummaryTotal').textContent = `â‚¼${finalTotal}`;
        }

        // Tour booking form events
        document.getElementById('tourParticipants')?.addEventListener('change', updateTourSummary);

        document.getElementById('tourBookingForm')?.addEventListener('submit', function(e) {
            e.preventDefault();
            
            const tour = toursData[currentTourId];
            const participants = parseInt(document.getElementById('tourParticipants').value);
            const basePrice = tour.price * participants;
            const orderNumber = 'PE-' + Date.now().toString().slice(-6);
            
            // Ä°lk gediÅŸ endirimi yoxla vÉ™ tÉ™tbiq et
            const user = getCurrentUser();
            let discount = 0;
            let finalTotal = basePrice;
            let discountUsed = false;
            
            if (user && user.firstTripDiscount && user.firstTripDiscount.active && !user.firstTripDiscount.used) {
                discount = Math.round(basePrice * (user.firstTripDiscount.percentage / 100));
                finalTotal = basePrice - discount;
                discountUsed = true;
                
                // Endirimi istifadÉ™ edilmiÅŸ kimi iÅŸarÉ™lÉ™
                markDiscountAsUsed(user.id);
            }
            
            const bookingData = {
                tourId: currentTourId,
                tourName: tour.name,
                date: document.getElementById('tourDate').value,
                participants: participants,
                name: document.getElementById('tourGuestName').value,
                email: document.getElementById('tourGuestEmail').value,
                phone: document.getElementById('tourGuestPhone').value,
                notes: document.getElementById('tourNotes').value,
                basePrice: basePrice,
                discount: discount,
                total: finalTotal,
                discountUsed: discountUsed,
                orderNumber: orderNumber
            };
            
            // Save to user bookings
            saveTourBooking(bookingData);
            
            // Show confirmation
            document.getElementById('tourOrderNumber').textContent = orderNumber;
            document.getElementById('tourConfName').textContent = tour.name;
            document.getElementById('tourConfDate').textContent = new Date(bookingData.date).toLocaleDateString('az-AZ');
            document.getElementById('tourConfAmount').textContent = discountUsed 
                ? `â‚¼${finalTotal} (${currentLanguage === 'az' ? 'endirim tÉ™tbiq edildi' : 'discount applied'})`
                : `â‚¼${finalTotal}`;
            document.getElementById('tourConfEmail').textContent = bookingData.email;
            
            document.getElementById('tourBookingStep1').style.display = 'none';
            document.getElementById('tourBookingStep2').style.display = 'block';
            
            // SifariÅŸ tÉ™sdiqlÉ™ndi bildiriÅŸi
            if (discountUsed) {
                showNotification(currentLanguage === 'az' ? 'ğŸ‰ SifariÅŸ tÉ™sdiqlÉ™ndi! Ä°lk gediÅŸ endiriminiz tÉ™tbiq edildi!' : 'ğŸ‰ Order confirmed! Your first trip discount has been applied!', 'success');
            } else {
                showNotification(currentLanguage === 'az' ? 'âœ… SifariÅŸ uÄŸurla tÉ™sdiqlÉ™ndi!' : 'âœ… Order confirmed successfully!', 'success');
            }
        });
        
        // Endirimi istifadÉ™ edilmiÅŸ kimi iÅŸarÉ™lÉ™
        function markDiscountAsUsed(userId) {
            const users = getUsers();
            const userIndex = users.findIndex(u => u.id === userId);
            
            if (userIndex !== -1) {
                users[userIndex].firstTripDiscount = {
                    ...users[userIndex].firstTripDiscount,
                    used: true,
                    usedAt: new Date().toISOString()
                };
                saveUsers(users);
                
                // Current user-i dÉ™ yenilÉ™
                const currentUser = getCurrentUser();
                if (currentUser && currentUser.id === userId) {
                    currentUser.firstTripDiscount = users[userIndex].firstTripDiscount;
                    localStorage.setItem(CURRENT_USER_KEY, JSON.stringify(currentUser));
                }
            }
        }

        function saveTourBooking(bookingData) {
            const currentUser = localStorage.getItem(CURRENT_USER_KEY);
            if (currentUser) {
                const user = JSON.parse(currentUser);
                const users = JSON.parse(localStorage.getItem(USERS_KEY) || '[]');
                
                const booking = {
                    id: bookingData.orderNumber,
                    tourName: bookingData.tourName,
                    date: new Date(bookingData.date).toLocaleDateString('az-AZ'),
                    participants: bookingData.participants,
                    basePrice: bookingData.basePrice,
                    discount: bookingData.discount,
                    price: bookingData.total,
                    discountUsed: bookingData.discountUsed,
                    status: 'confirmed',
                    createdAt: new Date().toISOString()
                };
                
                user.bookings = user.bookings || [];
                user.bookings.push(booking);
                
                localStorage.setItem(CURRENT_USER_KEY, JSON.stringify(user));
                
                const userIndex = users.findIndex(u => u.id === user.id);
                if (userIndex !== -1) {
                    users[userIndex].bookings = user.bookings;
                    localStorage.setItem(USERS_KEY, JSON.stringify(users));
                }
            }
        }

        // Close modals on outside click
        document.getElementById('tourInfoModal')?.addEventListener('click', function(e) {
            if (e.target === this) closeTourModal();
        });

        document.getElementById('tourBookingModal')?.addEventListener('click', function(e) {
            if (e.target === this) closeTourBookingModal();
        });

        // MarÅŸrut gÃ¶stÉ™r
        document.addEventListener('DOMContentLoaded', function() {
            initMap();
            
            // Tur sevimlilÉ™rini yÃ¼klÉ™
            loadTourFavorites();

            document.getElementById('showRouteBtn').addEventListener('click', function() {
                if (!selectedMountain) {
                    alert('ZÉ™hmÉ™t olmasa É™vvÉ™lcÉ™ bir daÄŸ seÃ§in!');
                    return;
                }

                showRoute(selectedMountain);
            });

            // Ã–lkÉ™ filterlÉ™ri
            const filterBtns = document.querySelectorAll('.filter-btn');
            filterBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    filterBtns.forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    
                    const country = this.dataset.country;
                    filterMountains(country);
                });
            });

            // BaÄŸla dÃ¼ymÉ™si
            document.getElementById('closeInfoBtn').addEventListener('click', function() {
                closeInfoPanel();
            });

            // MÉ™nim mÃ¶vqeyim dÃ¼ymÉ™si
            document.getElementById('myLocationBtn').addEventListener('click', function() {
                goToMyLocation();
            });
            
            // Sevimli dÃ¼ymÉ™si
            document.getElementById('favoriteBtn').addEventListener('click', function() {
                toggleFavorite();
            });
        });

        // MÉ™nim mÃ¶vqeyimÉ™ get
        function goToMyLocation() {
            // MÃ¶vqeyi yenilÉ™
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(
                    (position) => {
                        userLocation = [position.coords.latitude, position.coords.longitude];
                        updateUserMarkerPosition();
                        
                        // XÉ™ritÉ™ni mÃ¶vqeyÉ™ fokusla
                        map.flyTo(userLocation, 12, { duration: 1.5 });
                        
                        // Popup aÃ§
                        if (userMarker) {
                            userMarker.openPopup();
                        }
                    },
                    (error) => {
                        alert('MÃ¶vqe alÄ±na bilmÉ™di. ZÉ™hmÉ™t olmasa brauzerdÉ™ location icazÉ™si verin.');
                    },
                    {
                        enableHighAccuracy: true,
                        timeout: 10000,
                        maximumAge: 0
                    }
                );
            } else {
                // MÃ¶vcud mÃ¶vqeyÉ™ get
                map.flyTo(userLocation, 12, { duration: 1.5 });
                if (userMarker) {
                    userMarker.openPopup();
                }
            }
        }

        // Info panelini baÄŸla
        function closeInfoPanel() {
            document.getElementById('infoContent').style.display = 'none';
            document.getElementById('infoPlaceholder').style.display = 'flex';
            selectedMountain = null;
            
            // MarÅŸrutu da sil
            if (routingControl) {
                map.removeControl(routingControl);
                routingControl = null;
            }
            if (routeLine) {
                map.removeLayer(routeLine);
                routeLine = null;
            }
            
            // Popup-u baÄŸla
            map.closePopup();
        }

        // MarÅŸrut xÉ™tti
        let routeLine = null;
        
        // MarÅŸrut gÃ¶stÉ™r funksiyasÄ±
        function showRoute(mountain) {
            // ÆvvÉ™lki marÅŸrutu sil
            if (routingControl) {
                map.removeControl(routingControl);
                routingControl = null;
            }
            if (routeLine) {
                map.removeLayer(routeLine);
                routeLine = null;
            }

            // DÃ¼z xÉ™tt ilÉ™ marÅŸrut gÃ¶stÉ™r (hÉ™r zaman iÅŸlÉ™yir)
            const start = L.latLng(userLocation[0], userLocation[1]);
            const end = L.latLng(mountain.coords[0], mountain.coords[1]);
            
            // MÉ™safÉ™ni hesabla
            const distance = start.distanceTo(end) / 1000; // km
            
            // AnimasiyalÄ± xÉ™tt Ã§É™k
            routeLine = L.polyline([start, end], {
                color: '#e8a54b',
                weight: 4,
                opacity: 0.8,
                dashArray: '10, 10',
                className: 'route-line-animated'
            }).addTo(map);
            
            // MarÅŸrut mÉ™lumatÄ± popup
            const midPoint = L.latLng(
                (userLocation[0] + mountain.coords[0]) / 2,
                (userLocation[1] + mountain.coords[1]) / 2
            );
            
            L.popup()
                .setLatLng(midPoint)
                .setContent(`
                    <div class="route-popup">
                        <strong>ğŸ“ ${mountain.name}</strong><br>
                        <span>ğŸ“ MÉ™safÉ™: ~${distance.toFixed(0)} km</span><br>
                        <span>ğŸš— TÉ™xmini vaxt: ~${Math.ceil(distance / 60)} saat</span><br>
                        <a href="https://www.google.com/maps/dir/?api=1&origin=${userLocation[0]},${userLocation[1]}&destination=${mountain.coords[0]},${mountain.coords[1]}" target="_blank" class="popup-link">
                            ğŸ—ºï¸ Google Maps-dÉ™ aÃ§
                        </a>
                    </div>
                `)
                .openOn(map);

            // XÉ™ritÉ™ni marÅŸruta uyÄŸunlaÅŸdÄ±r
            const bounds = L.latLngBounds([start, end]);
            map.fitBounds(bounds, { padding: [80, 80] });
            
            // HÉ™mÃ§inin routing machine ilÉ™ cÉ™hd et (É™gÉ™r iÅŸlÉ™sÉ™)
            try {
                routingControl = L.Routing.control({
                    waypoints: [start, end],
                    routeWhileDragging: false,
                    addWaypoints: false,
                    show: false,  // Ä°stiqamÉ™t panelini gizlÉ™t
                    fitSelectedRoutes: false,
                    lineOptions: {
                        styles: [{ color: '#1a3a52', weight: 5, opacity: 0.9 }]
                    },
                    createMarker: function() { return null; }
                }).addTo(map);
                
                // Routing container-i gizlÉ™t
                const routingContainer = document.querySelector('.leaflet-routing-container');
                if (routingContainer) {
                    routingContainer.style.display = 'none';
                }
                
                // Routing uÄŸurlu olsa, dÃ¼z xÉ™tti sil
                routingControl.on('routesfound', function() {
                    if (routeLine) {
                        map.removeLayer(routeLine);
                        routeLine = null;
                    }
                    // Container-i yenÉ™ gizlÉ™t
                    const container = document.querySelector('.leaflet-routing-container');
                    if (container) {
                        container.style.display = 'none';
                    }
                });
            } catch (e) {
                console.log('Routing service unavailable, using straight line');
            }
        }

        // DaÄŸlarÄ± filterlÉ™
        let allMarkers = [];
        let currentFilteredMountains = mountains;
        
        // Marker Ã¶lÃ§Ã¼lÉ™rini zoom sÉ™viyyÉ™sinÉ™ gÃ¶rÉ™ hesabla
        function getMarkerSize(zoom) {
            if (zoom >= 10) {
                return { iconSize: [120, 50], fontSize: '0.8rem', showLabel: true, showFlag: true };
            } else if (zoom >= 8) {
                return { iconSize: [100, 45], fontSize: '0.75rem', showLabel: true, showFlag: true };
            } else if (zoom >= 6) {
                return { iconSize: [80, 40], fontSize: '0.7rem', showLabel: true, showFlag: true };
            } else if (zoom >= 5) {
                return { iconSize: [50, 35], fontSize: '0.6rem', showLabel: false, showFlag: true };
            } else if (zoom >= 4) {
                return { iconSize: [35, 30], fontSize: '0.55rem', showLabel: false, showFlag: false };
            } else {
                return { iconSize: [24, 24], fontSize: '0.5rem', showLabel: false, showFlag: false };
            }
        }

        // DaÄŸ markerlÉ™rini É™lavÉ™ et
        function addMountainMarkers(mountainList) {
            const zoom = map.getZoom();
            const size = getMarkerSize(zoom);
            
            mountainList.forEach(mountain => {
                const flag = countryFlags[mountain.country] || 'ğŸ”ï¸';
                
                let markerHtml;
                if (size.showLabel && size.showFlag) {
                    markerHtml = `<div class="marker-content ${mountain.difficultyClass}" data-country="${mountain.country}" style="font-size: ${size.fontSize}">
                        <span class="marker-icon">â›°ï¸</span>
                        <span class="marker-label">${mountain.name}</span>
                        <span class="marker-flag">${flag}</span>
                    </div>`;
                } else if (size.showFlag) {
                    markerHtml = `<div class="marker-content marker-small ${mountain.difficultyClass}" data-country="${mountain.country}">
                        <span class="marker-icon-small">â›°ï¸</span>
                        <span class="marker-flag-small">${flag}</span>
                    </div>`;
                } else {
                    markerHtml = `<div class="marker-content marker-dot ${mountain.difficultyClass}" data-country="${mountain.country}">
                        <span class="marker-dot-icon">â›°ï¸</span>
                    </div>`;
                }
                
                const mountainIcon = L.divIcon({
                    className: 'mountain-marker-icon',
                    html: markerHtml,
                    iconSize: size.iconSize,
                    iconAnchor: [size.iconSize[0] / 2, size.iconSize[1]]
                });

                const marker = L.marker(mountain.coords, { icon: mountainIcon })
                    .addTo(map)
                    .on('click', () => showMountainInfo(mountain));
                    
                // Tooltip É™lavÉ™ et (hover zamanÄ± ad gÃ¶stÉ™rmÉ™k Ã¼Ã§Ã¼n)
                marker.bindTooltip(mountain.name + ' (' + mountain.altitude + ')', {
                    permanent: false,
                    direction: 'top',
                    offset: [0, -10],
                    className: 'mountain-tooltip'
                });
                
                allMarkers.push({ marker, mountain });
            });
        }

        // Marker Ã¶lÃ§Ã¼lÉ™rini yenilÉ™
        function updateMarkerSizes() {
            const zoom = map.getZoom();
            const size = getMarkerSize(zoom);
            
            // BÃ¼tÃ¼n markerlÉ™ri sil
            allMarkers.forEach(({ marker }) => {
                map.removeLayer(marker);
            });
            allMarkers = [];
            
            // YenidÉ™n É™lavÉ™ et
            addMountainMarkers(currentFilteredMountains);
        }
        
        function filterMountains(country) {
            // BÃ¼tÃ¼n markerlÉ™ri sil
            allMarkers.forEach(({ marker }) => {
                map.removeLayer(marker);
            });
            allMarkers = [];

            // FilterlÉ™nmiÅŸ daÄŸlarÄ± É™lavÉ™ et
            let filteredMountains = mountains;
            
            if (country !== 'all') {
                if (country === 'Avropa') {
                    filteredMountains = mountains.filter(m => 
                        ['Fransa/Ä°taliya', 'Ä°sveÃ§rÉ™/Ä°taliya'].includes(m.country)
                    );
                } else if (country === 'Asiya') {
                    filteredMountains = mountains.filter(m => 
                        ['Nepal/Ã‡in', 'Pakistan/Ã‡in', 'Yaponiya'].includes(m.country)
                    );
                } else if (country === 'DigÉ™r') {
                    filteredMountains = mountains.filter(m => 
                        ['Tanzaniya', 'ABÅ', 'Argentina', 'ErmÉ™nistan'].includes(m.country)
                    );
                } else {
                    filteredMountains = mountains.filter(m => m.country === country);
                }
            }
            
            currentFilteredMountains = filteredMountains;
            addMountainMarkers(filteredMountains);

            // XÉ™ritÉ™ni uyÄŸun zoom-a gÉ™tir
            if (filteredMountains.length > 0) {
                if (country === 'all') {
                    map.setView([40.5, 47.5], 4);
                } else if (country === 'AzÉ™rbaycan') {
                    map.setView([40.5, 47.5], 7);
                } else if (country === 'GÃ¼rcÃ¼stan') {
                    map.setView([42.3, 43.5], 7);
                } else if (country === 'TÃ¼rkiyÉ™') {
                    map.setView([39.5, 42], 6);
                } else if (country === 'Rusiya') {
                    map.setView([43.2, 42.8], 8);
                } else if (country === 'Ä°ran') {
                    map.setView([37, 50], 6);
                } else if (country === 'Avropa') {
                    map.setView([45.9, 7.2], 7);
                } else if (country === 'Asiya') {
                    map.setView([30, 85], 4);
                } else {
                    const bounds = L.latLngBounds(filteredMountains.map(m => m.coords));
                    map.fitBounds(bounds, { padding: [50, 50] });
                }
            }
        }
    </script>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-brand">
                <span class="logo-icon">â›°ï¸</span>
                <span class="logo-text">PeakExplorer</span>
                <p data-lang-az="AzÉ™rbaycanÄ±n daÄŸ zirvÉ™lÉ™rini bizimlÉ™ kÉ™ÅŸf edin. TÉ™hlÃ¼kÉ™siz vÉ™ unudulmaz sÉ™yahÉ™tlÉ™r Ã¼Ã§Ã¼n yanÄ±nÄ±zdayÄ±q." data-lang-en="Discover the mountain peaks of Azerbaijan with us. We are here for safe and unforgettable journeys.">AzÉ™rbaycanÄ±n daÄŸ zirvÉ™lÉ™rini bizimlÉ™ kÉ™ÅŸf edin. TÉ™hlÃ¼kÉ™siz vÉ™ unudulmaz sÉ™yahÉ™tlÉ™r Ã¼Ã§Ã¼n yanÄ±nÄ±zdayÄ±q.</p>
            </div>
            
            <div class="footer-links">
                <h4 data-lang-az="KeÃ§idlÉ™r" data-lang-en="Links">KeÃ§idlÉ™r</h4>
                <a href="#home" data-lang-az="Ana SÉ™hifÉ™" data-lang-en="Home">Ana SÉ™hifÉ™</a>
                <a href="#mountains" data-lang-az="DaÄŸlar" data-lang-en="Mountains">DaÄŸlar</a>
                <a href="#tours" data-lang-az="Turlar" data-lang-en="Tours">Turlar</a>
                <a href="#contact" data-lang-az="ÆlaqÉ™" data-lang-en="Contact">ÆlaqÉ™</a>
            </div>
            
            <div class="footer-links">
                <h4 data-lang-az="Turlar" data-lang-en="Tours">Turlar</h4>
                <a href="#">BazardÃ¼zÃ¼</a>
                <a href="#">ÅahdaÄŸ</a>
                <a href="#">XÄ±nalÄ±q</a>
                <a href="#">TufandaÄŸ</a>
            </div>
            
            <div class="footer-social">
                <h4 data-lang-az="Sosial ÅÉ™bÉ™kÉ™lÉ™r" data-lang-en="Social Networks">Sosial ÅÉ™bÉ™kÉ™lÉ™r</h4>
                <div class="social-links">
                    <a href="#" class="social-link">ğŸ“˜</a>
                    <a href="#" class="social-link">ğŸ“¸</a>
                    <a href="#" class="social-link">ğŸ¦</a>
                    <a href="#" class="social-link">ğŸ“º</a>
                </div>
            </div>
        </div>
        
        <div class="footer-bottom">
            <p data-lang-az="Â© 2025 PeakExplorer. BÃ¼tÃ¼n hÃ¼quqlar qorunur." data-lang-en="Â© 2025 PeakExplorer. All rights reserved.">Â© 2025 PeakExplorer. BÃ¼tÃ¼n hÃ¼quqlar qorunur.</p>
        </div>
    </footer>

    <!-- YuxarÄ± Get dÃ¼ymÉ™si -->
    <button class="scroll-to-top" id="scrollToTop" title="YuxarÄ± get">
        <span>â†‘</span>
    </button>

    <script>
        // ==========================================
        // DÄ°NAMÄ°K ÅÆKÄ°LLÆR SÄ°STEMÄ°
        // ==========================================
        const dynamicImages = {
            hero: [
                'https://images.unsplash.com/photo-1464822759023-fed622ff2c3b?q=80&w=2070',
                'https://images.unsplash.com/photo-1519681393784-d120267933ba?q=80&w=2070',
                'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?q=80&w=2070',
                'https://images.unsplash.com/photo-1454496522488-7a8e488e8606?q=80&w=2076',
                'https://images.unsplash.com/photo-1491002052546-bf38f186af56?q=80&w=2083',
                'https://images.unsplash.com/photo-1682687220742-aba13b6e50ba?q=80&w=2070',
                'https://images.unsplash.com/photo-1486870591958-9b9d0d1dda99?q=80&w=2070',
                'https://images.unsplash.com/photo-1483728642387-6c3bdd6c93e5?q=80&w=2076',
                'https://images.unsplash.com/photo-1434394354979-a235cd36269d?q=80&w=2051',
                'https://images.unsplash.com/photo-1458668383970-8ddd3927deed?q=80&w=2067'
            ],
            mountains: [
                'https://images.unsplash.com/photo-1519681393784-d120267933ba?q=80&w=2070',
                'https://images.unsplash.com/photo-1491002052546-bf38f186af56?q=80&w=2083',
                'https://images.unsplash.com/photo-1454496522488-7a8e488e8606?q=80&w=2076',
                'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?q=80&w=2070',
                'https://images.unsplash.com/photo-1464822759023-fed622ff2c3b?q=80&w=2070',
                'https://images.unsplash.com/photo-1682687220742-aba13b6e50ba?q=80&w=2070',
                'https://images.unsplash.com/photo-1486870591958-9b9d0d1dda99?q=80&w=2070',
                'https://images.unsplash.com/photo-1483728642387-6c3bdd6c93e5?q=80&w=2076',
                'https://images.unsplash.com/photo-1434394354979-a235cd36269d?q=80&w=2051',
                'https://images.unsplash.com/photo-1458668383970-8ddd3927deed?q=80&w=2067',
                'https://images.unsplash.com/photo-1464278533981-50106e6176b1?q=80&w=2074',
                'https://images.unsplash.com/photo-1445363692815-ebcd599f7621?q=80&w=2070'
            ],
            tours: [
                'https://images.unsplash.com/photo-1464822759023-fed622ff2c3b?w=800',
                'https://images.unsplash.com/photo-1491002052546-bf38f186af56?w=800',
                'https://images.unsplash.com/photo-1454496522488-7a8e488e8606?w=800',
                'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800',
                'https://images.unsplash.com/photo-1519681393784-d120267933ba?w=800',
                'https://images.unsplash.com/photo-1682687220742-aba13b6e50ba?w=800',
                'https://images.unsplash.com/photo-1486870591958-9b9d0d1dda99?w=800',
                'https://images.unsplash.com/photo-1483728642387-6c3bdd6c93e5?w=800',
                'https://images.unsplash.com/photo-1434394354979-a235cd36269d?w=800',
                'https://images.unsplash.com/photo-1458668383970-8ddd3927deed?w=800',
                'https://images.unsplash.com/photo-1464278533981-50106e6176b1?w=800',
                'https://images.unsplash.com/photo-1445363692815-ebcd599f7621?w=800'
            ],
            gallery: [
                'https://images.unsplash.com/photo-1464822759023-fed622ff2c3b?w=600',
                'https://images.unsplash.com/photo-1519681393784-d120267933ba?w=600',
                'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=600',
                'https://images.unsplash.com/photo-1454496522488-7a8e488e8606?w=600',
                'https://images.unsplash.com/photo-1491002052546-bf38f186af56?w=600',
                'https://images.unsplash.com/photo-1682687220742-aba13b6e50ba?w=600',
                'https://images.unsplash.com/photo-1486870591958-9b9d0d1dda99?w=600',
                'https://images.unsplash.com/photo-1483728642387-6c3bdd6c93e5?w=600',
                'https://images.unsplash.com/photo-1434394354979-a235cd36269d?w=600',
                'https://images.unsplash.com/photo-1458668383970-8ddd3927deed?w=600',
                'https://images.unsplash.com/photo-1464278533981-50106e6176b1?w=600',
                'https://images.unsplash.com/photo-1445363692815-ebcd599f7621?w=600',
                'https://images.unsplash.com/photo-1470071459604-3b5ec3a7fe05?w=600',
                'https://images.unsplash.com/photo-1501785888041-af3ef285b470?w=600',
                'https://images.unsplash.com/photo-1472214103451-9374bd1c798e?w=600',
                'https://images.unsplash.com/photo-1469474968028-56623f02e42e?w=600'
            ]
        };

        // Array-i qarÄ±ÅŸdÄ±r (Fisher-Yates shuffle)
        function shuffleArray(array) {
            const shuffled = [...array];
            for (let i = shuffled.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
            }
            return shuffled;
        }

        // Dinamik ÅŸÉ™killÉ™ri tÉ™tbiq et
        function applyDynamicImages() {
            // Hero ÅŸÉ™kli
            const heroImage = document.querySelector('.mountain-image');
            if (heroImage) {
                const randomHeroImg = dynamicImages.hero[Math.floor(Math.random() * dynamicImages.hero.length)];
                heroImage.style.backgroundImage = `url('${randomHeroImg}')`;
            }

            // DaÄŸ kartlarÄ± ÅŸÉ™killÉ™ri
            const mountainCards = document.querySelectorAll('.mountain-card .card-image');
            const shuffledMountains = shuffleArray(dynamicImages.mountains);
            mountainCards.forEach((card, index) => {
                card.style.backgroundImage = `url('${shuffledMountains[index % shuffledMountains.length]}')`;
            });

            // Gallery ÅŸÉ™killÉ™ri
            const galleryImages = document.querySelectorAll('.gallery-image');
            const shuffledGallery = shuffleArray(dynamicImages.gallery);
            galleryImages.forEach((img, index) => {
                img.style.backgroundImage = `url('${shuffledGallery[index % shuffledGallery.length]}')`;
            });
        }

        // SÉ™hifÉ™ yÃ¼klÉ™ndikdÉ™ dinamik ÅŸÉ™killÉ™ri tÉ™tbiq et
        document.addEventListener('DOMContentLoaded', applyDynamicImages);

        // ==========================================
        // DÄ°L SÄ°STEMÄ°
        // ==========================================
        let currentLanguage = localStorage.getItem('language') || 'az';
        
        const langFlags = {
            'az': 'ğŸ‡¦ğŸ‡¿',
            'en': 'ğŸ‡¬ğŸ‡§',
            'ru': 'ğŸ‡·ğŸ‡º',
            'tr': 'ğŸ‡¹ğŸ‡·'
        };
        
        const langNames = {
            'az': 'AZ',
            'en': 'EN',
            'ru': 'RU',
            'tr': 'TR'
        };

        // Dil dÉ™yiÅŸdir
        function changeLanguage(lang) {
            currentLanguage = lang;
            localStorage.setItem('language', lang);
            
            // Dil dropdown-u yenilÉ™
            document.querySelectorAll('.lang-option').forEach(btn => {
                btn.classList.toggle('active', btn.dataset.lang === lang);
            });
            
            // Dropdown button-u yenilÉ™
            const langBtn = document.getElementById('langDropdownBtn');
            if (langBtn) {
                const flagEl = langBtn.querySelector('.lang-flag');
                const currentEl = langBtn.querySelector('.lang-current');
                if (flagEl) flagEl.textContent = langFlags[lang];
                if (currentEl) currentEl.textContent = langNames[lang];
            }
            
            // BÃ¼tÃ¼n mÉ™tnlÉ™ri yenilÉ™
            document.querySelectorAll('[data-lang-az]').forEach(el => {
                const text = el.getAttribute(`data-lang-${lang}`);
                if (text) {
                    el.textContent = text;
                }
            });
            
            // Placeholder-larÄ± yenilÉ™
            updatePlaceholders(lang);
            
            // HTML lang atributunu yenilÉ™
            document.documentElement.lang = lang;
            
            // Dropdown-u baÄŸla
            document.querySelectorAll('.nav-dropdown').forEach(d => d.classList.remove('active'));
        }

        // Placeholder mÉ™tnlÉ™rini yenilÉ™
        function updatePlaceholders(lang) {
            const placeholders = {
                az: {
                    'loginEmail': 'email@example.com',
                    'loginPassword': 'â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢',
                    'signupName': 'AdÄ±nÄ±z SoyadÄ±nÄ±z',
                    'signupEmail': 'email@example.com',
                    'signupPhone': '+994 XX XXX XX XX',
                    'signupPassword': 'â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢',
                    'signupConfirmPassword': 'â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢'
                },
                en: {
                    'loginEmail': 'email@example.com',
                    'loginPassword': 'â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢',
                    'signupName': 'Your Full Name',
                    'signupEmail': 'email@example.com',
                    'signupPhone': '+994 XX XXX XX XX',
                    'signupPassword': 'â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢',
                    'signupConfirmPassword': 'â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢'
                },
                ru: {
                    'loginEmail': 'email@example.com',
                    'loginPassword': 'â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢',
                    'signupName': 'Ğ’Ğ°ÑˆĞµ Ğ¸Ğ¼Ñ',
                    'signupEmail': 'email@example.com',
                    'signupPhone': '+994 XX XXX XX XX',
                    'signupPassword': 'â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢',
                    'signupConfirmPassword': 'â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢'
                },
                tr: {
                    'loginEmail': 'email@example.com',
                    'loginPassword': 'â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢',
                    'signupName': 'AdÄ±nÄ±z SoyadÄ±nÄ±z',
                    'signupEmail': 'email@example.com',
                    'signupPhone': '+994 XX XXX XX XX',
                    'signupPassword': 'â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢',
                    'signupConfirmPassword': 'â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢'
                }
            };
            
            const langPlaceholders = placeholders[lang] || placeholders['az'];
            
            Object.keys(langPlaceholders).forEach(id => {
                const el = document.getElementById(id);
                if (el) {
                    el.placeholder = langPlaceholders[id];
                }
            });
            
            // Data-placeholder atributlarÄ± olan elementlÉ™r
            document.querySelectorAll('[data-placeholder-az]').forEach(el => {
                const placeholder = el.getAttribute(`data-placeholder-${lang}`) || el.getAttribute('data-placeholder-az');
                if (placeholder) {
                    el.placeholder = placeholder;
                }
            });
            
            // Select option-larÄ± yenilÉ™
            document.querySelectorAll('select option[data-lang-az]').forEach(option => {
                const text = option.getAttribute(`data-lang-${lang}`) || option.getAttribute('data-lang-az');
                if (text) {
                    option.textContent = text;
                }
            });
        }

        // ==========================================
        // AUTH SÄ°STEMÄ° (localStorage ilÉ™)
        // ==========================================
        const USERS_KEY = 'peakexplorer_users';
        const CURRENT_USER_KEY = 'peakexplorer_current_user';

        // Ä°stifadÉ™Ã§ilÉ™ri al
        function getUsers() {
            const users = localStorage.getItem(USERS_KEY);
            return users ? JSON.parse(users) : [];
        }

        // Ä°stifadÉ™Ã§ilÉ™ri saxla
        function saveUsers(users) {
            localStorage.setItem(USERS_KEY, JSON.stringify(users));
        }

        // Login modal aÃ§
        function openLoginModal() {
            document.getElementById('loginModal').classList.add('active');
            document.getElementById('loginError').textContent = '';
            document.getElementById('loginForm').reset();
        }

        // Signup modal aÃ§
        function openSignupModal() {
            document.getElementById('signupModal').classList.add('active');
            document.getElementById('signupError').textContent = '';
            document.getElementById('signupForm').reset();
        }

        // Modal baÄŸla
        function closeModals() {
            document.getElementById('loginModal').classList.remove('active');
            document.getElementById('signupModal').classList.remove('active');
        }

        // Login
        function login(email, password) {
            const users = getUsers();
            const user = users.find(u => u.email.toLowerCase() === email.toLowerCase());
            
            if (!user) {
                document.getElementById('loginError').textContent = currentLanguage === 'az' 
                    ? 'Bu e-poÃ§t qeydiyyatdan keÃ§mÉ™yib' 
                    : 'This email is not registered';
                return;
            }
            
            if (user.password !== password) {
                document.getElementById('loginError').textContent = currentLanguage === 'az' 
                    ? 'ÅifrÉ™ yanlÄ±ÅŸdÄ±r' 
                    : 'Incorrect password';
                return;
            }
            
            // UÄŸurlu giriÅŸ - tam mÉ™lumatlarÄ± saxla (avatar, favorites vÉ™ s.)
            localStorage.setItem(CURRENT_USER_KEY, JSON.stringify(user));
            showUserProfile(user);
            closeModals();
            showNotification(currentLanguage === 'az' ? 'UÄŸurla daxil oldunuz!' : 'Login successful!', 'success');
        }

        // Register
        function register(name, email, phone, password) {
            const users = getUsers();
            
            // E-poÃ§t mÃ¶vcudluÄŸunu yoxla
            if (users.find(u => u.email.toLowerCase() === email.toLowerCase())) {
                document.getElementById('signupError').textContent = currentLanguage === 'az' 
                    ? 'Bu e-poÃ§t artÄ±q qeydiyyatdan keÃ§ib' 
                    : 'This email is already registered';
                return;
            }
            
            // Yeni istifadÉ™Ã§i yarat - ilk gediÅŸ endirimi ilÉ™
            const newUser = {
                id: Date.now(),
                name: name,
                email: email,
                phone: phone,
                password: password,
                createdAt: new Date().toISOString(),
                firstTripDiscount: {
                    active: true,
                    percentage: 15,
                    used: false
                }
            };
            
            users.push(newUser);
            saveUsers(users);
            
            // Avtomatik giriÅŸ
            const currentUser = {
                id: newUser.id,
                name: newUser.name,
                email: newUser.email,
                phone: newUser.phone,
                createdAt: newUser.createdAt,
                firstTripDiscount: newUser.firstTripDiscount
            };
            
            localStorage.setItem(CURRENT_USER_KEY, JSON.stringify(currentUser));
            showUserProfile(currentUser);
            closeModals();
            showNotification(currentLanguage === 'az' ? 'Qeydiyyat uÄŸurla tamamlandÄ±! Ä°lk gediÅŸ Ã¼Ã§Ã¼n 15% endirim qazandÄ±nÄ±z! ğŸ‰' : 'Registration successful! You earned 15% discount for your first trip! ğŸ‰', 'success');
        }

        // Logout
        function logout() {
            localStorage.removeItem(CURRENT_USER_KEY);
            hideUserProfile();
            showNotification(currentLanguage === 'az' ? 'UÄŸurla Ã§Ä±xÄ±ÅŸ etdiniz' : 'Logged out successfully', 'success');
        }

        // Ä°stifadÉ™Ã§i profilini gÃ¶stÉ™r
        function showUserProfile(user) {
            document.getElementById('authButtons').style.display = 'none';
            document.getElementById('userProfile').style.display = 'flex';
            document.getElementById('userName').textContent = user.name;
            
            // Avatar
            const avatarEl = document.querySelector('.user-avatar');
            if (avatarEl && user.avatar) {
                avatarEl.innerHTML = `<img src="${user.avatar}" alt="Avatar" style="width: 100%; height: 100%; object-fit: cover; border-radius: 50%;">`;
            } else if (avatarEl) {
                avatarEl.textContent = 'ğŸ‘¤';
            }
        }

        // Ä°stifadÉ™Ã§i profilini gizlÉ™t
        function hideUserProfile() {
            document.getElementById('authButtons').style.display = 'flex';
            document.getElementById('userProfile').style.display = 'none';
        }

        // Session yoxla
        function checkSession() {
            const savedUser = localStorage.getItem(CURRENT_USER_KEY);
            if (savedUser) {
                try {
                    const currentUser = JSON.parse(savedUser);
                    // Users massivindÉ™n tam mÉ™lumatlarÄ± al
                    const users = getUsers();
                    const fullUser = users.find(u => u.id === currentUser.id);
                    
                    if (fullUser) {
                        // Current user-Ä± tam mÉ™lumatlarla yenilÉ™
                        localStorage.setItem(CURRENT_USER_KEY, JSON.stringify(fullUser));
                        showUserProfile(fullUser);
                    } else {
                        showUserProfile(currentUser);
                    }
                } catch (e) {
                    localStorage.removeItem(CURRENT_USER_KEY);
                }
            }
        }

        // BildiriÅŸ gÃ¶stÉ™r
        function showNotification(message, type = 'info') {
            // ÆvvÉ™lki bildiriÅŸi sil
            const existingNotification = document.querySelector('.notification');
            if (existingNotification) {
                existingNotification.remove();
            }
            
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.innerHTML = `
                <span class="notification-message">${message}</span>
                <button class="notification-close" onclick="this.parentElement.remove()">âœ•</button>
            `;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.classList.add('show');
            }, 10);
            
            setTimeout(() => {
                notification.classList.remove('show');
                setTimeout(() => notification.remove(), 300);
            }, 5000);
        }

        // ==========================================
        // SCROLL TO TOP
        // ==========================================
        const scrollToTopBtn = document.getElementById('scrollToTop');
        
        // Scroll zamanÄ± dÃ¼ymÉ™ni gÃ¶stÉ™r/gizlÉ™t
        window.addEventListener('scroll', function() {
            if (window.scrollY > 500) {
                scrollToTopBtn.classList.add('visible');
            } else {
                scrollToTopBtn.classList.remove('visible');
            }
        });
        
        // YuxarÄ± get
        scrollToTopBtn.addEventListener('click', function() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        });

        // ==========================================
        // EVENT LISTENERS
        // ==========================================
        document.addEventListener('DOMContentLoaded', function() {
            // Dil sistemini baÅŸlat
            changeLanguage(currentLanguage);
            
            // Session yoxla
            checkSession();
            
            // Dropdown toggle
            document.querySelectorAll('.nav-dropdown-btn').forEach(btn => {
                btn.addEventListener('click', function(e) {
                    e.stopPropagation();
                    const dropdown = this.closest('.nav-dropdown');
                    const isActive = dropdown.classList.contains('active');
                    
                    // DigÉ™r dropdown-larÄ± baÄŸla
                    document.querySelectorAll('.nav-dropdown').forEach(d => d.classList.remove('active'));
                    
                    // Bu dropdown-u toggle et
                    if (!isActive) {
                        dropdown.classList.add('active');
                    }
                });
            });
            
            // Dropdown xaricindÉ™ klik - baÄŸla
            document.addEventListener('click', function(e) {
                if (!e.target.closest('.nav-dropdown')) {
                    document.querySelectorAll('.nav-dropdown').forEach(d => d.classList.remove('active'));
                }
            });
            
            // Dil seÃ§imi
            document.querySelectorAll('.lang-option').forEach(btn => {
                btn.addEventListener('click', () => changeLanguage(btn.dataset.lang));
            });
            
            // Dil dÃ¼ymÉ™lÉ™ri (kÃ¶hnÉ™ - backwards compatibility)
            document.querySelectorAll('.lang-btn').forEach(btn => {
                btn.addEventListener('click', () => changeLanguage(btn.dataset.lang));
            });
            
            // Auth dÃ¼ymÉ™lÉ™ri
            document.getElementById('loginBtn').addEventListener('click', openLoginModal);
            document.getElementById('signupBtn').addEventListener('click', openSignupModal);
            document.getElementById('logoutBtn').addEventListener('click', logout);
            
            // Modal baÄŸlama
            document.getElementById('closeLoginModal').addEventListener('click', closeModals);
            document.getElementById('closeSignupModal').addEventListener('click', closeModals);
            
            // Modal keÃ§id
            document.getElementById('switchToSignup').addEventListener('click', () => {
                closeModals();
                openSignupModal();
            });
            document.getElementById('switchToLogin').addEventListener('click', () => {
                closeModals();
                openLoginModal();
            });
            
            // Modal xaricindÉ™ klik
            document.querySelectorAll('.auth-modal').forEach(modal => {
                modal.addEventListener('click', (e) => {
                    if (e.target === modal) closeModals();
                });
            });
            
            // Login form
            document.getElementById('loginForm').addEventListener('submit', (e) => {
                e.preventDefault();
                const email = document.getElementById('loginEmail').value;
                const password = document.getElementById('loginPassword').value;
                login(email, password);
            });
            
            // Signup form
            document.getElementById('signupForm').addEventListener('submit', (e) => {
                e.preventDefault();
                const name = document.getElementById('signupName').value;
                const email = document.getElementById('signupEmail').value;
                const phone = document.getElementById('signupPhone').value;
                const password = document.getElementById('signupPassword').value;
                const confirmPassword = document.getElementById('signupConfirmPassword').value;
                
                if (password !== confirmPassword) {
                    document.getElementById('signupError').textContent = currentLanguage === 'az' 
                        ? 'ÅifrÉ™lÉ™r uyÄŸun gÉ™lmir' 
                        : 'Passwords do not match';
                    return;
                }
                
                register(name, email, phone, password);
            });
            
            // AI Option selection
            document.querySelectorAll('.ai-option').forEach(option => {
                option.addEventListener('click', function() {
                    const parent = this.parentElement;
                    const isMultiSelect = parent.id === 'activityOptions';
                    
                    if (isMultiSelect) {
                        this.classList.toggle('selected');
                    } else {
                        parent.querySelectorAll('.ai-option').forEach(opt => opt.classList.remove('selected'));
                        this.classList.add('selected');
                    }
                });
            });
            
            // Contact Form Handler
            const contactForm = document.getElementById('contactFormNew');
            if (contactForm) {
                contactForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    
                    const name = document.getElementById('contactName').value.trim();
                    const phone = document.getElementById('contactPhone').value.trim();
                    const email = document.getElementById('contactEmail').value.trim();
                    const subject = document.getElementById('contactSubject').value;
                    const message = document.getElementById('contactMessage').value.trim();
                    
                    // Validation
                    if (!name || !phone || !email || !subject) {
                        showNotification(currentLanguage === 'az' ? 'âš ï¸ ZÉ™hmÉ™t olmasa bÃ¼tÃ¼n sahÉ™lÉ™ri doldurun!' : 'âš ï¸ Please fill in all fields!', 'error');
                        return;
                    }
                    
                    // Email validation
                    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                    if (!emailRegex.test(email)) {
                        showNotification(currentLanguage === 'az' ? 'âš ï¸ DÃ¼zgÃ¼n e-poÃ§t Ã¼nvanÄ± daxil edin!' : 'âš ï¸ Please enter a valid email!', 'error');
                        return;
                    }
                    
                    // Save message to localStorage
                    const messages = JSON.parse(localStorage.getItem('contactMessages') || '[]');
                    const newMessage = {
                        id: Date.now(),
                        name,
                        phone,
                        email,
                        subject,
                        message,
                        date: new Date().toISOString(),
                        read: false
                    };
                    messages.push(newMessage);
                    localStorage.setItem('contactMessages', JSON.stringify(messages));
                    
                    // Show success notification
                    showNotification(currentLanguage === 'az' ? 'âœ… MesajÄ±nÄ±z uÄŸurla gÃ¶ndÉ™rildi! TezliklÉ™ sizinlÉ™ É™laqÉ™ saxlanÄ±lacaq.' : 'âœ… Your message has been sent successfully! We will contact you soon.', 'success');
                    
                    // Reset form
                    contactForm.reset();
                });
            }
        });

        // ==========================================
        // AI TUR TÃ–VSIYÆ SÄ°STEMÄ°
        // ==========================================
        const aiTourDatabase = [
            {
                id: 'bazarduzu-expedition',
                name: { az: 'BazardÃ¼zÃ¼ EkspedisiyasÄ±', en: 'Bazarduzu Expedition' },
                description: { az: '7 gÃ¼nlÃ¼k professional alpinizm turu', en: '7-day professional alpinism tour' },
                icon: 'ğŸ”ï¸',
                activities: ['climbing', 'hiking', 'photography', 'nature'],
                fitness: 'advanced',
                duration: 'week',
                budget: 'premium',
                price: 'â‚¼1200',
                tags: ['Alpinizm', 'MÃ¼rÉ™kkÉ™b', '7 gÃ¼n']
            },
            {
                id: 'shahdag-winter',
                name: { az: 'ÅahdaÄŸ QÄ±ÅŸ Turu', en: 'Shahdag Winter Tour' },
                description: { az: 'XizÉ™k vÉ™ qÄ±ÅŸ macÉ™rasÄ±', en: 'Skiing and winter adventure' },
                icon: 'â›·ï¸',
                activities: ['skiing', 'photography', 'nature'],
                fitness: 'intermediate',
                duration: 'weekend',
                budget: 'mid',
                price: 'â‚¼450',
                tags: ['XizÉ™k', 'QÄ±ÅŸ', '3 gÃ¼n']
            },
            {
                id: 'khinaliq-trekking',
                name: { az: 'XÄ±nalÄ±q Trekkinqi', en: 'Khinaliq Trekking' },
                description: { az: 'QÉ™dim kÉ™nd vÉ™ daÄŸ gÉ™zintisi', en: 'Ancient village and mountain hike' },
                icon: 'ğŸ¥¾',
                activities: ['hiking', 'culture', 'photography', 'nature'],
                fitness: 'intermediate',
                duration: 'weekend',
                budget: 'budget',
                price: 'â‚¼350',
                tags: ['Trekking', 'MÉ™dÉ™niyyÉ™t', '3 gÃ¼n']
            },
            {
                id: 'qobustan-tour',
                name: { az: 'Qobustan GÃ¼nlÃ¼k Tur', en: 'Qobustan Day Tour' },
                description: { az: 'PalÃ§Ä±q vulkanlarÄ± vÉ™ qÉ™dim qayaÃ¼stÃ¼ rÉ™smlÉ™r', en: 'Mud volcanoes and ancient rock art' },
                icon: 'ğŸŒ‹',
                activities: ['culture', 'photography', 'nature'],
                fitness: 'beginner',
                duration: 'day',
                budget: 'budget',
                price: 'â‚¼80',
                tags: ['MÉ™dÉ™niyyÉ™t', 'Asan', '1 gÃ¼n']
            },
            {
                id: 'tufandag-adventure',
                name: { az: 'TufandaÄŸ MacÉ™rasÄ±', en: 'Tufandag Adventure' },
                description: { az: 'Kanat yolu vÉ™ daÄŸ gÉ™zintisi', en: 'Cable car and mountain hiking' },
                icon: 'ğŸš¡',
                activities: ['hiking', 'photography', 'nature'],
                fitness: 'beginner',
                duration: 'day',
                budget: 'budget',
                price: 'â‚¼120',
                tags: ['Kanat yolu', 'Asan', '1 gÃ¼n']
            },
            {
                id: 'babadag-pilgrimage',
                name: { az: 'BabadaÄŸ ZiyarÉ™ti', en: 'Babadag Pilgrimage' },
                description: { az: 'MÃ¼qÉ™ddÉ™s daÄŸa sÉ™yahÉ™t', en: 'Journey to the sacred mountain' },
                icon: 'â›°ï¸',
                activities: ['hiking', 'culture', 'nature'],
                fitness: 'intermediate',
                duration: 'weekend',
                budget: 'mid',
                price: 'â‚¼280',
                tags: ['ZiyarÉ™t', 'Orta', '2 gÃ¼n']
            },
            {
                id: 'photo-expedition',
                name: { az: 'Fotoqrafiya EkspedisiyasÄ±', en: 'Photography Expedition' },
                description: { az: 'Professional fotoqraflarla daÄŸ fotolarÄ±', en: 'Mountain photography with professionals' },
                icon: 'ğŸ“¸',
                activities: ['photography', 'nature', 'hiking'],
                fitness: 'intermediate',
                duration: 'weekend',
                budget: 'premium',
                price: 'â‚¼650',
                tags: ['Foto', 'Premium', '3 gÃ¼n']
            },
            {
                id: 'extreme-climbing',
                name: { az: 'Ekstremal Alpinizm', en: 'Extreme Climbing' },
                description: { az: 'Professional alpinistlÉ™r Ã¼Ã§Ã¼n', en: 'For professional climbers' },
                icon: 'ğŸ§—',
                activities: ['climbing', 'hiking'],
                fitness: 'advanced',
                duration: 'week',
                budget: 'premium',
                price: 'â‚¼1500',
                tags: ['Ekstremal', 'Ã‡É™tin', '5 gÃ¼n']
            }
        ];

        function getAIRecommendations() {
            const selectedActivities = Array.from(document.querySelectorAll('#activityOptions .ai-option.selected')).map(opt => opt.dataset.value);
            const selectedFitness = document.querySelector('#fitnessOptions .ai-option.selected')?.dataset.value;
            const selectedDuration = document.querySelector('#durationOptions .ai-option.selected')?.dataset.value;
            const selectedBudget = document.querySelector('#budgetOptions .ai-option.selected')?.dataset.value;

            if (selectedActivities.length === 0) {
                showNotification(currentLanguage === 'az' ? 'ZÉ™hmÉ™t olmasa É™n azÄ± bir aktivite seÃ§in' : 'Please select at least one activity', 'error');
                return;
            }

            // Calculate match scores
            const scoredTours = aiTourDatabase.map(tour => {
                let score = 0;
                let maxScore = 0;

                // Activity match (40% weight)
                maxScore += 40;
                const activityMatches = selectedActivities.filter(act => tour.activities.includes(act)).length;
                score += (activityMatches / selectedActivities.length) * 40;

                // Fitness match (25% weight)
                if (selectedFitness) {
                    maxScore += 25;
                    if (tour.fitness === selectedFitness) {
                        score += 25;
                    } else if (
                        (selectedFitness === 'intermediate' && tour.fitness === 'beginner') ||
                        (selectedFitness === 'advanced' && tour.fitness !== 'beginner')
                    ) {
                        score += 15;
                    }
                }

                // Duration match (20% weight)
                if (selectedDuration) {
                    maxScore += 20;
                    if (tour.duration === selectedDuration) {
                        score += 20;
                    } else if (
                        (selectedDuration === 'weekend' && tour.duration === 'day') ||
                        (selectedDuration === 'week' && tour.duration === 'weekend')
                    ) {
                        score += 10;
                    }
                }

                // Budget match (15% weight)
                if (selectedBudget) {
                    maxScore += 15;
                    if (tour.budget === selectedBudget) {
                        score += 15;
                    } else if (
                        (selectedBudget === 'mid' && tour.budget === 'budget') ||
                        (selectedBudget === 'premium' && tour.budget !== 'budget')
                    ) {
                        score += 8;
                    }
                }

                const matchPercentage = maxScore > 0 ? Math.round((score / maxScore) * 100) : 0;
                return { ...tour, matchScore: matchPercentage };
            });

            // Sort by match score and get top 4
            const recommendations = scoredTours
                .filter(tour => tour.matchScore > 30)
                .sort((a, b) => b.matchScore - a.matchScore)
                .slice(0, 4);

            displayAIResults(recommendations);
        }

        function displayAIResults(recommendations) {
            const container = document.getElementById('aiRecommendations');
            const resultsSection = document.getElementById('aiResults');

            if (recommendations.length === 0) {
                container.innerHTML = `
                    <div class="ai-no-results">
                        <span>ğŸ˜”</span>
                        <p>${currentLanguage === 'az' ? 'SeÃ§imlÉ™rinizÉ™ uyÄŸun tur tapÄ±lmadÄ±. FÉ™rqli seÃ§imlÉ™r sÄ±nayÄ±n.' : 'No tours found matching your preferences. Try different selections.'}</p>
                    </div>
                `;
            } else {
                container.innerHTML = recommendations.map(tour => `
                    <div class="ai-tour-card">
                        <span class="ai-tour-icon">${tour.icon}</span>
                        <div class="ai-tour-info">
                            <h4>${tour.name[currentLanguage]}</h4>
                            <p>${tour.description[currentLanguage]}</p>
                            <div class="ai-tour-tags">
                                ${tour.tags.map(tag => `<span class="ai-tour-tag">${tag}</span>`).join('')}
                            </div>
                        </div>
                        <span class="ai-tour-match">${tour.matchScore}%</span>
                        <button class="ai-tour-action" onclick="openTourInfoModal('${tour.id}')">${tour.price}</button>
                    </div>
                `).join('');
            }

            resultsSection.style.display = 'block';
            resultsSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }
    </script>

    <!-- AI Chatbot -->
    <div class="chatbot-container" id="chatbotContainer">
        <button class="chatbot-toggle" id="chatbotToggle" onclick="toggleChatbot()">
            <span class="chatbot-icon">ğŸ¤–</span>
            <span class="chatbot-badge" id="chatbotBadge">1</span>
        </button>
        
        <div class="chatbot-window" id="chatbotWindow">
            <div class="chatbot-header">
                <div class="chatbot-header-info">
                    <span class="chatbot-avatar">ğŸ¤–</span>
                    <div>
                        <h4>PeakBot</h4>
                        <span class="chatbot-status">ğŸŸ¢ Online</span>
                    </div>
                </div>
                <button class="chatbot-close" onclick="toggleChatbot()">âœ•</button>
            </div>
            
            <div class="chatbot-messages" id="chatbotMessages">
                <div class="chat-message bot">
                    <span class="message-avatar">ğŸ¤–</span>
                    <div class="message-content">
                        <p>Salam! MÉ™n PeakBot-am ğŸ‘‹</p>
                        <p>AzÉ™rbaycanÄ±n daÄŸlarÄ±, turlar vÉ™ sÉ™yahÉ™tlÉ™r haqqÄ±nda suallarÄ±nÄ±za cavab verÉ™ bilÉ™rÉ™m.</p>
                    </div>
                </div>
                <div class="chat-suggestions">
                    <button onclick="sendSuggestion('Æn yaxÅŸÄ± daÄŸ turlarÄ± hansÄ±lardÄ±r?')">ğŸ”ï¸ Æn yaxÅŸÄ± turlar</button>
                    <button onclick="sendSuggestion('ÅahdaÄŸ haqqÄ±nda mÉ™lumat')">â›·ï¸ ÅahdaÄŸ</button>
                    <button onclick="sendSuggestion('Otel tÃ¶vsiyÉ™si')">ğŸ¨ OtellÉ™r</button>
                </div>
            </div>
            
            <div class="chatbot-input">
                <input type="text" id="chatInput" placeholder="SualÄ±nÄ±zÄ± yazÄ±n..." onkeypress="handleChatKeypress(event)">
                <button onclick="sendMessage()">ğŸ“¤</button>
            </div>
        </div>
    </div>

    <style>
        /* AI Chatbot Styles  */
        .chatbot-container {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            z-index: 9999;
        }
        
        .chatbot-toggle {
            width: 65px;
            height: 65px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--color-primary), var(--color-secondary));
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 5px 30px rgba(26, 58, 82, 0.4);
            transition: all 0.3s ease;
            position: relative;
            animation: chatbotPulse 2s ease-in-out infinite, chatbotBounce 3s ease-in-out infinite;
        }
        
        @keyframes chatbotPulse {
            0%, 100% { box-shadow: 0 5px 30px rgba(26, 58, 82, 0.4), 0 0 0 0 rgba(232, 165, 75, 0.4); }
            50% { box-shadow: 0 5px 30px rgba(26, 58, 82, 0.4), 0 0 0 15px rgba(232, 165, 75, 0); }
        }
        
        @keyframes chatbotBounce {
            0%, 100% { transform: translateY(0); }
            25% { transform: translateY(-8px); }
            50% { transform: translateY(0); }
            75% { transform: translateY(-4px); }
        }
        
        .chatbot-toggle:hover {
            transform: scale(1.15);
            box-shadow: 0 8px 40px rgba(26, 58, 82, 0.5);
            animation: none;
        }
        
        .chatbot-icon {
            font-size: 2rem;
            animation: chatbotIconWiggle 2.5s ease-in-out infinite;
        }
        
        @keyframes chatbotIconWiggle {
            0%, 100% { transform: rotate(0deg); }
            10% { transform: rotate(-10deg); }
            20% { transform: rotate(10deg); }
            30% { transform: rotate(-10deg); }
            40% { transform: rotate(10deg); }
            50%, 100% { transform: rotate(0deg); }
        }
        
        .chatbot-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            width: 22px;
            height: 22px;
            background: #ff4757;
            color: white;
            border-radius: 50%;
            font-size: 0.75rem;
            font-weight: 700;
            display: flex;
            align-items: center;
            justify-content: center;
            animation: pulse 2s infinite;
        }
        
        .chatbot-badge.hidden {
            display: none;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        
        .chatbot-window {
            position: absolute;
            bottom: 80px;
            right: 0;
            width: 380px;
            height: 520px;
            background: white;
            border-radius: 20px;
            box-shadow: 0 15px 60px rgba(0, 0, 0, 0.2);
            display: none;
            flex-direction: column;
            overflow: hidden;
            animation: slideUp 0.3s ease;
        }
        
        .chatbot-window.active {
            display: flex;
        }
        
        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .chatbot-header {
            background: linear-gradient(135deg, var(--color-primary), var(--color-secondary));
            color: white;
            padding: 1rem 1.25rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .chatbot-header-info {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }
        
        .chatbot-avatar {
            font-size: 2rem;
        }
        
        .chatbot-header h4 {
            margin: 0;
            font-size: 1.1rem;
        }
        
        .chatbot-status {
            font-size: 0.75rem;
            opacity: 0.9;
        }
        
        .chatbot-close {
            background: rgba(255,255,255,0.2);
            border: none;
            color: white;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1rem;
            transition: background 0.3s ease;
        }
        
        .chatbot-close:hover {
            background: rgba(255,255,255,0.3);
        }
        
        .chatbot-messages {
            flex: 1;
            overflow-y: auto;
            padding: 1rem;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        
        .chat-message {
            display: flex;
            gap: 0.75rem;
            max-width: 85%;
        }
        
        .chat-message.bot {
            align-self: flex-start;
        }
        
        .chat-message.user {
            align-self: flex-end;
            flex-direction: row-reverse;
        }
        
        .message-avatar {
            font-size: 1.5rem;
            flex-shrink: 0;
        }
        
        .message-content {
            background: var(--color-light);
            padding: 0.75rem 1rem;
            border-radius: 16px;
            border-top-left-radius: 4px;
        }
        
        .chat-message.user .message-content {
            background: var(--color-primary);
            color: white;
            border-radius: 16px;
            border-top-right-radius: 4px;
        }
        
        .message-content p {
            margin: 0;
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
            line-height: 1.5;
        }
        
        .message-content p:last-child {
            margin-bottom: 0;
        }
        
        .chat-suggestions {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-top: 0.5rem;
        }
        
        .chat-suggestions button {
            background: white;
            border: 1px solid var(--color-primary);
            color: var(--color-primary);
            padding: 0.4rem 0.75rem;
            border-radius: 50px;
            font-size: 0.8rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .chat-suggestions button:hover {
            background: var(--color-primary);
            color: white;
        }
        
        .chatbot-input {
            display: flex;
            gap: 0.5rem;
            padding: 1rem;
            border-top: 1px solid #eee;
        }
        
        .chatbot-input input {
            flex: 1;
            padding: 0.75rem 1rem;
            border: 2px solid #eee;
            border-radius: 50px;
            font-size: 0.9rem;
            outline: none;
            transition: border 0.3s ease;
        }
        
        .chatbot-input input:focus {
            border-color: var(--color-primary);
        }
        
        .chatbot-input button {
            width: 44px;
            height: 44px;
            border-radius: 50%;
            background: var(--color-primary);
            border: none;
            cursor: pointer;
            font-size: 1.1rem;
            transition: all 0.3s ease;
        }
        
        .chatbot-input button:hover {
            background: var(--color-secondary);
            transform: scale(1.05);
        }
        
        .typing-indicator {
            display: flex;
            gap: 4px;
            padding: 0.5rem;
        }
        
        .typing-indicator span {
            width: 8px;
            height: 8px;
            background: var(--color-text-light);
            border-radius: 50%;
            animation: typing 1.4s infinite ease-in-out;
        }
        
        .typing-indicator span:nth-child(2) {
            animation-delay: 0.2s;
        }
        
        .typing-indicator span:nth-child(3) {
            animation-delay: 0.4s;
        }
        
        @keyframes typing {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }
        
        @media (max-width: 480px) {
            .chatbot-window {
                width: calc(100vw - 2rem);
                right: -1rem;
                height: 70vh;
            }
        }
    </style>

    <script>
        // Chatbot functionality
        let chatbotOpen = false;
        
        function toggleChatbot() {
            chatbotOpen = !chatbotOpen;
            document.getElementById('chatbotWindow').classList.toggle('active', chatbotOpen);
            document.getElementById('chatbotBadge').classList.add('hidden');
        }
        
        function sendSuggestion(text) {
            document.getElementById('chatInput').value = text;
            sendMessage();
        }
        
        function handleChatKeypress(e) {
            if (e.key === 'Enter') sendMessage();
        }
        
        function sendMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            if (!message) return;
            
            // Add user message
            addMessage(message, 'user');
            input.value = '';
            
            // Show typing indicator
            showTyping();
            
            // Generate response after delay
            setTimeout(() => {
                hideTyping();
                const response = generateResponse(message);
                addMessage(response, 'bot');
            }, 1000 + Math.random() * 1000);
        }
        
        function addMessage(text, type) {
            const messagesDiv = document.getElementById('chatbotMessages');
            const avatar = type === 'bot' ? 'ğŸ¤–' : 'ğŸ‘¤';
            
            const messageHtml = `
                <div class="chat-message ${type}">
                    <span class="message-avatar">${avatar}</span>
                    <div class="message-content">
                        <p>${text}</p>
                    </div>
                </div>
            `;
            
            messagesDiv.insertAdjacentHTML('beforeend', messageHtml);
            messagesDiv.scrollTop = messagesDiv.scrollHeight;
        }
        
        function showTyping() {
            const messagesDiv = document.getElementById('chatbotMessages');
            const typingHtml = `
                <div class="chat-message bot" id="typingIndicator">
                    <span class="message-avatar">ğŸ¤–</span>
                    <div class="message-content">
                        <div class="typing-indicator">
                            <span></span><span></span><span></span>
                        </div>
                    </div>
                </div>
            `;
            messagesDiv.insertAdjacentHTML('beforeend', typingHtml);
            messagesDiv.scrollTop = messagesDiv.scrollHeight;
        }
        
        function hideTyping() {
            const typing = document.getElementById('typingIndicator');
            if (typing) typing.remove();
        }
        
        function generateResponse(message) {
            const lowerMsg = message.toLowerCase();
            
            // DaÄŸlar haqqÄ±nda
            if (lowerMsg.includes('bazardÃ¼zÃ¼') || lowerMsg.includes('bazarduzu')) {
                return 'BazardÃ¼zÃ¼ AzÉ™rbaycanÄ±n É™n hÃ¼ndÃ¼r zirvÉ™sidir (4466 m). Qusar rayonunda yerlÉ™ÅŸir. Alpinizm Ã¼Ã§Ã¼n É™n yaxÅŸÄ± vaxt Ä°yul-Sentyabr aylarÄ±dÄ±r. Tur qiymÉ™ti â‚¼1200-dÉ™n baÅŸlayÄ±r.';
            }
            
            if (lowerMsg.includes('ÅŸahdaÄŸ') || lowerMsg.includes('shahdag')) {
                return 'ÅahdaÄŸ AzÉ™rbaycanÄ±n É™n populyar qÄ±ÅŸ kurortudur. XizÉ™k, snowboard vÉ™ kanat yolu imkanlarÄ± var. Otel qiymÉ™tlÉ™ri â‚¼250-400/gecÉ™ arasÄ±ndadÄ±r. HÉ™m qÄ±ÅŸda, hÉ™m yayda ziyarÉ™t edÉ™ bilÉ™rsiniz!';
            }
            
            if (lowerMsg.includes('tufandaÄŸ') || lowerMsg.includes('tufandag')) {
                return 'TufandaÄŸ QÉ™bÉ™lÉ™dÉ™ yerlÉ™ÅŸir. AzÉ™rbaycanÄ±n É™n uzun kanat yolu (3.2 km) buradadÄ±r. Kanat yolu bileti â‚¼15-dir. HÉ™m qÄ±ÅŸda xizÉ™k, hÉ™m yayda hiking imkanÄ± var.';
            }
            
            // Turlar haqqÄ±nda
            if (lowerMsg.includes('tur') || lowerMsg.includes('tour')) {
                return 'Æn populyar turlarÄ±mÄ±z: 1) ÅahdaÄŸ QÄ±ÅŸ Turu (â‚¼450) 2) BazardÃ¼zÃ¼ Alpinizm (â‚¼1200) 3) XÄ±nalÄ±q MÉ™dÉ™ni Tur (â‚¼350) 4) QÉ™bÉ™lÉ™ Weekend (â‚¼200). Ana sÉ™hifÉ™dÉ™ki Turlar bÃ¶lmÉ™sinÉ™ baxÄ±n!';
            }
            
            // OtellÉ™r haqqÄ±nda
            if (lowerMsg.includes('otel') || lowerMsg.includes('hotel')) {
                return 'Æn yaxÅŸÄ± otellÉ™rimiz: ÅahdaÄŸ Hotel & Spa (5â­, â‚¼350/gecÉ™), Pik Palace (5â­, â‚¼400/gecÉ™), Qafqaz Riverside (5â­, â‚¼320/gecÉ™). OtellÉ™r sÉ™hifÉ™sinÉ™ keÃ§id edin!';
            }
            
            // Restoranlar
            if (lowerMsg.includes('restoran') || lowerMsg.includes('yemÉ™k') || lowerMsg.includes('mÉ™tbÉ™x')) {
                return 'DaÄŸ bÃ¶lgÉ™lÉ™rindÉ™ É™n yaxÅŸÄ± restoranlar: ÅahdaÄŸ DaÄŸ RestoranÄ± (premium), ÅÉ™ki Piti Evi (É™nÉ™nÉ™vi), XÄ±nalÄ±q Ev YemÉ™klÉ™ri (autentik). Restoranlar sÉ™hifÉ™sinÉ™ baxÄ±n!';
            }
            
            // MaÅŸÄ±n kirayÉ™si
            if (lowerMsg.includes('maÅŸÄ±n') || lowerMsg.includes('kiraye') || lowerMsg.includes('avtomobil')) {
                return 'DaÄŸ turlarÄ± Ã¼Ã§Ã¼n SUV/4x4 maÅŸÄ±nlar tÃ¶vsiyÉ™ olunur. QiymÉ™tlÉ™r: Ekonom (â‚¼50-60/gÃ¼n), SUV (â‚¼120-180/gÃ¼n). MaÅŸÄ±n KirayÉ™si sÉ™hifÉ™sinÉ™ keÃ§in!';
            }
            
            // Hava
            if (lowerMsg.includes('hava') || lowerMsg.includes('weather')) {
                return 'DaÄŸ hava ÅŸÉ™raiti dÉ™yiÅŸkÉ™ndir. HÃ¼ndÃ¼r zirvÉ™lÉ™rdÉ™ hÉ™tta yayda soyuq ola bilÉ™r. DaÄŸ sÉ™hifÉ™sindÉ™ hÉ™r daÄŸÄ±n cari hava durumunu gÃ¶rÉ™ bilÉ™rsiniz!';
            }
            
            // Salam
            if (lowerMsg.includes('salam') || lowerMsg.includes('hello') || lowerMsg.includes('hi')) {
                return 'Salam! ğŸ‘‹ SizÉ™ necÉ™ kÃ¶mÉ™k edÉ™ bilÉ™rÉ™m? DaÄŸlar, turlar, otellÉ™r vÉ™ ya restoranlar haqqÄ±nda soruÅŸa bilÉ™rsiniz.';
            }
            
            // TÉ™ÅŸÉ™kkÃ¼r
            if (lowerMsg.includes('tÉ™ÅŸÉ™kkÃ¼r') || lowerMsg.includes('saÄŸol') || lowerMsg.includes('thanks')) {
                return 'DÉ™ymÉ™z! ğŸ˜Š BaÅŸqa sualÄ±nÄ±z varsa, soruÅŸmaqdan Ã§É™kinmÉ™yin. YaxÅŸÄ± sÉ™yahÉ™tlÉ™r!';
            }
            
            // Default cavab
            return 'MaraqlÄ± sual! DaÄŸlar, turlar, otellÉ™r, restoranlar vÉ™ ya maÅŸÄ±n kirayÉ™si haqqÄ±nda daha dÉ™qiq sual versÉ™niz, sizÉ™ daha yaxÅŸÄ± kÃ¶mÉ™k edÉ™ bilÉ™rÉ™m. ğŸ”ï¸';
        }
    </script>
</body>
</html>

